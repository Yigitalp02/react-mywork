function EI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var AI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aE={exports:{}},Mc={},lE={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),CI=Symbol.for("react.portal"),SI=Symbol.for("react.fragment"),xI=Symbol.for("react.strict_mode"),TI=Symbol.for("react.profiler"),II=Symbol.for("react.provider"),kI=Symbol.for("react.context"),PI=Symbol.for("react.forward_ref"),RI=Symbol.for("react.suspense"),NI=Symbol.for("react.memo"),bI=Symbol.for("react.lazy"),J_=Symbol.iterator;function LI(t){return t===null||typeof t!="object"?null:(t=J_&&t[J_]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,hE={};function oo(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=oo.prototype;function Op(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}var Mp=Op.prototype=new dE;Mp.constructor=Op;cE(Mp,oo.prototype);Mp.isPureReactComponent=!0;var ev=Array.isArray,fE=Object.prototype.hasOwnProperty,Dp={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)fE.call(e,i)&&!pE.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),d=0;d<u;d++)h[d]=arguments[d+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Ja,type:t,key:o,ref:a,props:r,_owner:Dp.current}}function OI(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function MI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tv=/\/+/g;function td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MI(""+t.key):e.toString(36)}function mu(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ja:case CI:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+td(a,0):i,ev(r)?(n="",t!=null&&(n=t.replace(tv,"$&/")+"/"),mu(r,e,n,"",function(d){return d})):r!=null&&(jp(r)&&(r=OI(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(tv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",ev(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+td(o,u);a+=mu(o,e,n,h,r)}else if(h=LI(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+td(o,u++),a+=mu(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vl(t,e,n){if(t==null)return t;var i=[],r=0;return mu(t,i,"","",function(o){return e.call(n,o,r++)}),i}function DI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},gu={transition:null},jI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:gu,ReactCurrentOwner:Dp};function gE(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=oo;he.Fragment=SI;he.Profiler=TI;he.PureComponent=Op;he.StrictMode=xI;he.Suspense=RI;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;he.act=gE;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=cE({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Dp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)fE.call(e,h)&&!pE.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var d=0;d<h;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Ja,type:t.type,key:r,ref:o,props:i,_owner:a}};he.createContext=function(t){return t={$$typeof:kI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:II,_context:t},t.Consumer=t};he.createElement=mE;he.createFactory=function(t){var e=mE.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:PI,render:t}};he.isValidElement=jp;he.lazy=function(t){return{$$typeof:bI,_payload:{_status:-1,_result:t},_init:DI}};he.memo=function(t,e){return{$$typeof:NI,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=gu.transition;gu.transition={};try{t()}finally{gu.transition=e}};he.unstable_act=gE;he.useCallback=function(t,e){return kt.current.useCallback(t,e)};he.useContext=function(t){return kt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};he.useEffect=function(t,e){return kt.current.useEffect(t,e)};he.useId=function(){return kt.current.useId()};he.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return kt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};he.useRef=function(t){return kt.current.useRef(t)};he.useState=function(t){return kt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return kt.current.useTransition()};he.version="18.3.1";lE.exports=he;var A=lE.exports;const Ut=Oc(A),BI=EI({__proto__:null,default:Ut},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI=A,UI=Symbol.for("react.element"),zI=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,HI=FI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VI={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)WI.call(e,i)&&!VI.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:UI,type:t,key:o,ref:a,props:r,_owner:HI.current}}Mc.Fragment=zI;Mc.jsx=_E;Mc.jsxs=_E;aE.exports=Mc;var p=aE.exports,ef={},vE={exports:{}},Kt={},yE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,Y){var U=O.length;O.push(Y);e:for(;0<U;){var K=U-1>>>1,te=O[K];if(0<r(te,Y))O[K]=Y,O[U]=te,U=K;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var Y=O[0],U=O.pop();if(U!==Y){O[0]=U;e:for(var K=0,te=O.length,ye=te>>>1;K<ye;){var ue=2*(K+1)-1,se=O[ue],X=ue+1,$e=O[X];if(0>r(se,U))X<te&&0>r($e,se)?(O[K]=$e,O[X]=U,K=X):(O[K]=se,O[ue]=U,K=ue);else if(X<te&&0>r($e,U))O[K]=$e,O[X]=U,K=X;else break e}}return Y}function r(O,Y){var U=O.sortIndex-Y.sortIndex;return U!==0?U:O.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],d=[],_=1,m=null,v=3,E=!1,w=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var Y=n(d);Y!==null;){if(Y.callback===null)i(d);else if(Y.startTime<=O)i(d),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(d)}}function R(O){if(T=!1,x(O),!w)if(n(h)!==null)w=!0,xe(M);else{var Y=n(d);Y!==null&&mt(R,Y.startTime-O)}}function M(O,Y){w=!1,T&&(T=!1,S(W),W=-1),E=!0;var U=v;try{for(x(Y),m=n(h);m!==null&&(!(m.expirationTime>Y)||O&&!ve());){var K=m.callback;if(typeof K=="function"){m.callback=null,v=m.priorityLevel;var te=K(m.expirationTime<=Y);Y=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(h)&&i(h),x(Y)}else i(h);m=n(h)}if(m!==null)var ye=!0;else{var ue=n(d);ue!==null&&mt(R,ue.startTime-Y),ye=!1}return ye}finally{m=null,v=U,E=!1}}var j=!1,F=null,W=-1,re=5,G=-1;function ve(){return!(t.unstable_now()-G<re)}function Le(){if(F!==null){var O=t.unstable_now();G=O;var Y=!0;try{Y=F(!0,O)}finally{Y?Qt():(j=!1,F=null)}}else j=!1}var Qt;if(typeof C=="function")Qt=function(){C(Le)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,mr=at.port2;at.port1.onmessage=Le,Qt=function(){mr.postMessage(null)}}else Qt=function(){k(Le,0)};function xe(O){F=O,j||(j=!0,Qt())}function mt(O,Y){W=k(function(){O(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,xe(M))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var U=v;v=Y;try{return O()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,Y){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=v;v=O;try{return Y()}finally{v=U}},t.unstable_scheduleCallback=function(O,Y,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,O={id:_++,callback:Y,priorityLevel:O,startTime:U,expirationTime:te,sortIndex:-1},U>K?(O.sortIndex=U,e(d,O),n(h)===null&&O===n(d)&&(T?(S(W),W=-1):T=!0,mt(R,U-K))):(O.sortIndex=te,e(h,O),w||E||(w=!0,xe(M))),O},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(O){var Y=v;return function(){var U=v;v=Y;try{return O.apply(this,arguments)}finally{v=U}}}})(wE);yE.exports=wE;var ZI=yE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=A,Zt=ZI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EE=new Set,wa={};function Xr(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(wa[t]=e,t=0;t<e.length;t++)EE.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,GI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nv={},iv={};function QI(t){return tf.call(iv,t)?!0:tf.call(nv,t)?!1:GI.test(t)?iv[t]=!0:(nv[t]=!0,!1)}function qI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YI(t,e,n,i){if(e===null||typeof e>"u"||qI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bp=/[\-:]([a-z])/g;function Fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bp,Fp);dt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bp,Fp);dt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bp,Fp);dt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Up(t,e,n,i){var r=dt.hasOwnProperty(e)?dt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YI(e,n,r,i)&&(n=null),i||r===null?QI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var mi=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),Wp=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),rv=Symbol.iterator;function Do(t){return t===null||typeof t!="object"?null:(t=rv&&t[rv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,nd;function $o(t){if(nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var id=!1;function rd(t,e){if(!t||id)return"";id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{id=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$o(t):""}function $I(t){switch(t.tag){case 5:return $o(t.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return t=rd(t.type,!1),t;case 11:return t=rd(t.type.render,!1),t;case 1:return t=rd(t.type,!0),t;default:return""}}function of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case ys:return"Portal";case nf:return"Profiler";case zp:return"StrictMode";case rf:return"Suspense";case sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CE:return(t.displayName||"Context")+".Consumer";case AE:return(t._context.displayName||"Context")+".Provider";case Wp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hp:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}function XI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return of(e);case 8:return e===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JI(t){var e=xE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kl(t){t._valueTracker||(t._valueTracker=JI(t))}function TE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=xE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function af(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IE(t,e){e=e.checked,e!=null&&Up(t,"checked",e,!1)}function lf(t,e){IE(t,e);var n=rr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uf(t,e.type,n):e.hasOwnProperty("defaultValue")&&uf(t,e.type,rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uf(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Xo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rr(n)}}function kE(t,e){var n=rr(e.value),i=rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function lv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gl,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ek=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function NE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function bE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=NE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var tk=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function df(t,e){if(e){if(tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mf=null,Ds=null,js=null;function uv(t){if(t=nl(t)){if(typeof mf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Uc(e),mf(t.stateNode,t.type,e))}}function LE(t){Ds?js?js.push(t):js=[t]:Ds=t}function OE(){if(Ds){var t=Ds,e=js;if(js=Ds=null,uv(t),e)for(t=0;t<e.length;t++)uv(e[t])}}function ME(t,e){return t(e)}function DE(){}var sd=!1;function jE(t,e,n){if(sd)return t(e,n);sd=!0;try{return ME(t,e,n)}finally{sd=!1,(Ds!==null||js!==null)&&(DE(),OE())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var i=Uc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var gf=!1;if(ui)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){gf=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{gf=!1}function nk(t,e,n,i,r,o,a,u,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(_){this.onError(_)}}var sa=!1,Mu=null,Du=!1,_f=null,ik={onError:function(t){sa=!0,Mu=t}};function rk(t,e,n,i,r,o,a,u,h){sa=!1,Mu=null,nk.apply(ik,arguments)}function sk(t,e,n,i,r,o,a,u,h){if(rk.apply(this,arguments),sa){if(sa){var d=Mu;sa=!1,Mu=null}else throw Error(B(198));Du||(Du=!0,_f=d)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cv(t){if(Jr(t)!==t)throw Error(B(188))}function ok(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return cv(r),t;if(o===i)return cv(r),e;o=o.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function FE(t){return t=ok(t),t!==null?UE(t):null}function UE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UE(t);if(e!==null)return e;t=t.sibling}return null}var zE=Zt.unstable_scheduleCallback,hv=Zt.unstable_cancelCallback,ak=Zt.unstable_shouldYield,lk=Zt.unstable_requestPaint,Ve=Zt.unstable_now,uk=Zt.unstable_getCurrentPriorityLevel,Zp=Zt.unstable_ImmediatePriority,WE=Zt.unstable_UserBlockingPriority,ju=Zt.unstable_NormalPriority,ck=Zt.unstable_LowPriority,HE=Zt.unstable_IdlePriority,Dc=null,jn=null;function hk(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Dc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:pk,dk=Math.log,fk=Math.LN2;function pk(t){return t>>>=0,t===0?32:31-(dk(t)/fk|0)|0}var Ql=64,ql=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=Jo(u):(o&=a,o!==0&&(i=Jo(o)))}else a=n&~r,a!==0?i=Jo(a):o!==0&&(i=Jo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-_n(e),r=1<<n,i|=t[n],e&=~r;return i}function mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-_n(o),u=1<<a,h=r[a];h===-1?(!(u&n)||u&i)&&(r[a]=mk(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VE(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function od(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function _k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-_n(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-_n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function ZE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KE,Gp,GE,QE,qE,yf=!1,Yl=[],Zi=null,Ki=null,Gi=null,Ca=new Map,Sa=new Map,Oi=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dv(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function Bo(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=nl(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yk(t,e,n,i,r){switch(e){case"focusin":return Zi=Bo(Zi,t,e,n,i,r),!0;case"dragenter":return Ki=Bo(Ki,t,e,n,i,r),!0;case"mouseover":return Gi=Bo(Gi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ca.set(o,Bo(Ca.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Sa.set(o,Bo(Sa.get(o)||null,t,e,n,i,r)),!0}return!1}function YE(t){var e=kr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=BE(n),e!==null){t.blockedOn=e,qE(t.priority,function(){GE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);pf=i,n.target.dispatchEvent(i),pf=null}else return e=nl(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function fv(t,e,n){_u(t)&&n.delete(e)}function wk(){yf=!1,Zi!==null&&_u(Zi)&&(Zi=null),Ki!==null&&_u(Ki)&&(Ki=null),Gi!==null&&_u(Gi)&&(Gi=null),Ca.forEach(fv),Sa.forEach(fv)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,yf||(yf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,wk)))}function xa(t){function e(r){return Fo(r,t)}if(0<Yl.length){Fo(Yl[0],t);for(var n=1;n<Yl.length;n++){var i=Yl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Zi!==null&&Fo(Zi,t),Ki!==null&&Fo(Ki,t),Gi!==null&&Fo(Gi,t),Ca.forEach(e),Sa.forEach(e),n=0;n<Oi.length;n++)i=Oi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)YE(n),n.blockedOn===null&&Oi.shift()}var Bs=mi.ReactCurrentBatchConfig,Fu=!0;function Ek(t,e,n,i){var r=we,o=Bs.transition;Bs.transition=null;try{we=1,Qp(t,e,n,i)}finally{we=r,Bs.transition=o}}function Ak(t,e,n,i){var r=we,o=Bs.transition;Bs.transition=null;try{we=4,Qp(t,e,n,i)}finally{we=r,Bs.transition=o}}function Qp(t,e,n,i){if(Fu){var r=wf(t,e,n,i);if(r===null)gd(t,e,i,Uu,n),dv(t,i);else if(yk(r,t,e,n,i))i.stopPropagation();else if(dv(t,i),e&4&&-1<vk.indexOf(t)){for(;r!==null;){var o=nl(r);if(o!==null&&KE(o),o=wf(t,e,n,i),o===null&&gd(t,e,i,Uu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else gd(t,e,i,null,n)}}var Uu=null;function wf(t,e,n,i){if(Uu=null,t=Vp(i),t=kr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function $E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case Zp:return 1;case WE:return 4;case ju:case ck:return 16;case HE:return 536870912;default:return 16}default:return 16}}var zi=null,qp=null,vu=null;function XE(){if(vu)return vu;var t,e=qp,n=e.length,i,r="value"in zi?zi.value:zi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return vu=r.slice(t,1<i?1-i:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function pv(){return!1}function Gt(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:pv,this.isPropagationStopped=pv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=Gt(ao),tl=je({},ao,{view:0,detail:0}),Ck=Gt(tl),ad,ld,Uo,jc=je({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(ad=t.screenX-Uo.screenX,ld=t.screenY-Uo.screenY):ld=ad=0,Uo=t),ad)},movementY:function(t){return"movementY"in t?t.movementY:ld}}),mv=Gt(jc),Sk=je({},jc,{dataTransfer:0}),xk=Gt(Sk),Tk=je({},tl,{relatedTarget:0}),ud=Gt(Tk),Ik=je({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),kk=Gt(Ik),Pk=je({},ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=Gt(Pk),Nk=je({},ao,{data:0}),gv=Gt(Nk),bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ok[t])?!!e[t]:!1}function $p(){return Mk}var Dk=je({},tl,{key:function(t){if(t.key){var e=bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jk=Gt(Dk),Bk=je({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=Gt(Bk),Fk=je({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),Uk=Gt(Fk),zk=je({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wk=Gt(zk),Hk=je({},jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=Gt(Hk),Zk=[9,13,27,32],Xp=ui&&"CompositionEvent"in window,oa=null;ui&&"documentMode"in document&&(oa=document.documentMode);var Kk=ui&&"TextEvent"in window&&!oa,JE=ui&&(!Xp||oa&&8<oa&&11>=oa),vv=" ",yv=!1;function e0(t,e){switch(t){case"keyup":return Zk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Es=!1;function Gk(t,e){switch(t){case"compositionend":return t0(e);case"keypress":return e.which!==32?null:(yv=!0,vv);case"textInput":return t=e.data,t===vv&&yv?null:t;default:return null}}function Qk(t,e){if(Es)return t==="compositionend"||!Xp&&e0(t,e)?(t=XE(),vu=qp=zi=null,Es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JE&&e.locale!=="ko"?null:e.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qk[t.type]:e==="textarea"}function n0(t,e,n,i){LE(i),e=zu(e,"onChange"),0<e.length&&(n=new Yp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var aa=null,Ta=null;function Yk(t){f0(t,0)}function Bc(t){var e=Ss(t);if(TE(e))return t}function $k(t,e){if(t==="change")return e}var i0=!1;if(ui){var cd;if(ui){var hd="oninput"in document;if(!hd){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),hd=typeof Ev.oninput=="function"}cd=hd}else cd=!1;i0=cd&&(!document.documentMode||9<document.documentMode)}function Av(){aa&&(aa.detachEvent("onpropertychange",r0),Ta=aa=null)}function r0(t){if(t.propertyName==="value"&&Bc(Ta)){var e=[];n0(e,Ta,t,Vp(t)),jE(Yk,e)}}function Xk(t,e,n){t==="focusin"?(Av(),aa=e,Ta=n,aa.attachEvent("onpropertychange",r0)):t==="focusout"&&Av()}function Jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(Ta)}function eP(t,e){if(t==="click")return Bc(e)}function tP(t,e){if(t==="input"||t==="change")return Bc(e)}function nP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:nP;function Ia(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!tf.call(e,r)||!En(t[r],e[r]))return!1}return!0}function Cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sv(t,e){var n=Cv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cv(n)}}function s0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o0(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iP(t){var e=o0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s0(n.ownerDocument.documentElement,n)){if(i!==null&&Jp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Sv(n,o);var a=Sv(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rP=ui&&"documentMode"in document&&11>=document.documentMode,As=null,Ef=null,la=null,Af=!1;function xv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Af||As==null||As!==Ou(i)||(i=As,"selectionStart"in i&&Jp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),la&&Ia(la,i)||(la=i,i=zu(Ef,"onSelect"),0<i.length&&(e=new Yp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=As)))}function Xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},dd={},a0={};ui&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Fc(t){if(dd[t])return dd[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in a0)return dd[t]=e[n];return t}var l0=Fc("animationend"),u0=Fc("animationiteration"),c0=Fc("animationstart"),h0=Fc("transitionend"),d0=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(t,e){d0.set(t,e),Xr(e,[t])}for(var fd=0;fd<Tv.length;fd++){var pd=Tv[fd],sP=pd.toLowerCase(),oP=pd[0].toUpperCase()+pd.slice(1);cr(sP,"on"+oP)}cr(l0,"onAnimationEnd");cr(u0,"onAnimationIteration");cr(c0,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(h0,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Iv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,sk(i,e,void 0,t),t.currentTarget=null}function f0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],h=u.instance,d=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;Iv(r,u,d),o=h}else for(a=0;a<i.length;a++){if(u=i[a],h=u.instance,d=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;Iv(r,u,d),o=h}}}if(Du)throw t=_f,Du=!1,_f=null,t}function Re(t,e){var n=e[If];n===void 0&&(n=e[If]=new Set);var i=t+"__bubble";n.has(i)||(p0(e,t,2,!1),n.add(i))}function md(t,e,n){var i=0;e&&(i|=4),p0(n,t,i,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[Jl]){t[Jl]=!0,EE.forEach(function(n){n!=="selectionchange"&&(aP.has(n)||md(n,!1,t),md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,md("selectionchange",!1,e))}}function p0(t,e,n,i){switch($E(e)){case 1:var r=Ek;break;case 4:r=Ak;break;default:r=Qp}n=r.bind(null,e,n,t),r=void 0,!gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function gd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;u!==null;){if(a=kr(u),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}u=u.parentNode}}i=i.return}jE(function(){var d=o,_=Vp(n),m=[];e:{var v=d0.get(t);if(v!==void 0){var E=Yp,w=t;switch(t){case"keypress":if(yu(n)===0)break e;case"keydown":case"keyup":E=jk;break;case"focusin":w="focus",E=ud;break;case"focusout":w="blur",E=ud;break;case"beforeblur":case"afterblur":E=ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=xk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Uk;break;case l0:case u0:case c0:E=kk;break;case h0:E=Wk;break;case"scroll":E=Ck;break;case"wheel":E=Vk;break;case"copy":case"cut":case"paste":E=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=_v}var T=(e&4)!==0,k=!T&&t==="scroll",S=T?v!==null?v+"Capture":null:v;T=[];for(var C=d,x;C!==null;){x=C;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,S!==null&&(R=Aa(C,S),R!=null&&T.push(Pa(C,R,x)))),k)break;C=C.return}0<T.length&&(v=new E(v,w,null,n,_),m.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==pf&&(w=n.relatedTarget||n.fromElement)&&(kr(w)||w[ci]))break e;if((E||v)&&(v=_.window===_?_:(v=_.ownerDocument)?v.defaultView||v.parentWindow:window,E?(w=n.relatedTarget||n.toElement,E=d,w=w?kr(w):null,w!==null&&(k=Jr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(E=null,w=d),E!==w)){if(T=mv,R="onMouseLeave",S="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(T=_v,R="onPointerLeave",S="onPointerEnter",C="pointer"),k=E==null?v:Ss(E),x=w==null?v:Ss(w),v=new T(R,C+"leave",E,n,_),v.target=k,v.relatedTarget=x,R=null,kr(_)===d&&(T=new T(S,C+"enter",w,n,_),T.target=x,T.relatedTarget=k,R=T),k=R,E&&w)t:{for(T=E,S=w,C=0,x=T;x;x=ps(x))C++;for(x=0,R=S;R;R=ps(R))x++;for(;0<C-x;)T=ps(T),C--;for(;0<x-C;)S=ps(S),x--;for(;C--;){if(T===S||S!==null&&T===S.alternate)break t;T=ps(T),S=ps(S)}T=null}else T=null;E!==null&&kv(m,v,E,T,!1),w!==null&&k!==null&&kv(m,k,w,T,!0)}}e:{if(v=d?Ss(d):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var M=$k;else if(wv(v))if(i0)M=tP;else{M=Jk;var j=Xk}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(M=eP);if(M&&(M=M(t,d))){n0(m,M,n,_);break e}j&&j(t,v,d),t==="focusout"&&(j=v._wrapperState)&&j.controlled&&v.type==="number"&&uf(v,"number",v.value)}switch(j=d?Ss(d):window,t){case"focusin":(wv(j)||j.contentEditable==="true")&&(As=j,Ef=d,la=null);break;case"focusout":la=Ef=As=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,xv(m,n,_);break;case"selectionchange":if(rP)break;case"keydown":case"keyup":xv(m,n,_)}var F;if(Xp)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Es?e0(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(JE&&n.locale!=="ko"&&(Es||W!=="onCompositionStart"?W==="onCompositionEnd"&&Es&&(F=XE()):(zi=_,qp="value"in zi?zi.value:zi.textContent,Es=!0)),j=zu(d,W),0<j.length&&(W=new gv(W,t,null,n,_),m.push({event:W,listeners:j}),F?W.data=F:(F=t0(n),F!==null&&(W.data=F)))),(F=Kk?Gk(t,n):Qk(t,n))&&(d=zu(d,"onBeforeInput"),0<d.length&&(_=new gv("onBeforeInput","beforeinput",null,n,_),m.push({event:_,listeners:d}),_.data=F))}f0(m,e)})}function Pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Aa(t,n),o!=null&&i.unshift(Pa(t,o,r)),o=Aa(t,e),o!=null&&i.push(Pa(t,o,r))),t=t.return}return i}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var u=n,h=u.alternate,d=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&d!==null&&(u=d,r?(h=Aa(n,o),h!=null&&a.unshift(Pa(n,h,u))):r||(h=Aa(n,o),h!=null&&a.push(Pa(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var lP=/\r\n?/g,uP=/\u0000|\uFFFD/g;function Pv(t){return(typeof t=="string"?t:""+t).replace(lP,`
`).replace(uP,"")}function eu(t,e,n){if(e=Pv(e),Pv(t)!==e&&n)throw Error(B(425))}function Wu(){}var Cf=null,Sf=null;function xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tf=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(dP)}:Tf;function dP(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),xa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);xa(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+lo,Ra="__reactProps$"+lo,ci="__reactContainer$"+lo,If="__reactEvents$"+lo,fP="__reactListeners$"+lo,pP="__reactHandles$"+lo;function kr(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nv(t);t!==null;){if(n=t[Ln])return n;t=Nv(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Ln]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Uc(t){return t[Ra]||null}var kf=[],xs=-1;function hr(t){return{current:t}}function Ne(t){0>xs||(t.current=kf[xs],kf[xs]=null,xs--)}function Pe(t,e){xs++,kf[xs]=t.current,t.current=e}var sr={},wt=hr(sr),Mt=hr(!1),Br=sr;function Gs(t,e){var n=t.type.contextTypes;if(!n)return sr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Dt(t){return t=t.childContextTypes,t!=null}function Hu(){Ne(Mt),Ne(wt)}function bv(t,e,n){if(wt.current!==sr)throw Error(B(168));Pe(wt,e),Pe(Mt,n)}function m0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(B(108,XI(t)||"Unknown",r));return je({},n,i)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,Br=wt.current,Pe(wt,t),Pe(Mt,Mt.current),!0}function Lv(t,e,n){var i=t.stateNode;if(!i)throw Error(B(169));n?(t=m0(t,e,Br),i.__reactInternalMemoizedMergedChildContext=t,Ne(Mt),Ne(wt),Pe(wt,t)):Ne(Mt),Pe(Mt,n)}var Xn=null,zc=!1,vd=!1;function g0(t){Xn===null?Xn=[t]:Xn.push(t)}function mP(t){zc=!0,g0(t)}function dr(){if(!vd&&Xn!==null){vd=!0;var t=0,e=we;try{var n=Xn;for(we=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xn=null,zc=!1}catch(r){throw Xn!==null&&(Xn=Xn.slice(t+1)),zE(Zp,dr),r}finally{we=e,vd=!1}}return null}var Ts=[],Is=0,Zu=null,Ku=0,en=[],tn=0,Fr=null,ei=1,ti="";function Ar(t,e){Ts[Is++]=Ku,Ts[Is++]=Zu,Zu=t,Ku=e}function _0(t,e,n){en[tn++]=ei,en[tn++]=ti,en[tn++]=Fr,Fr=t;var i=ei;t=ti;var r=32-_n(i)-1;i&=~(1<<r),n+=1;var o=32-_n(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ei=1<<32-_n(e)+r|n<<r|i,ti=o+t}else ei=1<<o|n<<r|i,ti=t}function em(t){t.return!==null&&(Ar(t,1),_0(t,1,0))}function tm(t){for(;t===Zu;)Zu=Ts[--Is],Ts[Is]=null,Ku=Ts[--Is],Ts[Is]=null;for(;t===Fr;)Fr=en[--tn],en[tn]=null,ti=en[--tn],en[tn]=null,ei=en[--tn],en[tn]=null}var Ht=null,zt=null,be=!1,pn=null;function v0(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ov(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fr!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function Pf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rf(t){if(be){var e=zt;if(e){var n=e;if(!Ov(t,e)){if(Pf(t))throw Error(B(418));e=Qi(n.nextSibling);var i=Ht;e&&Ov(t,e)?v0(i,n):(t.flags=t.flags&-4097|2,be=!1,Ht=t)}}else{if(Pf(t))throw Error(B(418));t.flags=t.flags&-4097|2,be=!1,Ht=t}}}function Mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function tu(t){if(t!==Ht)return!1;if(!be)return Mv(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xf(t.type,t.memoizedProps)),e&&(e=zt)){if(Pf(t))throw y0(),Error(B(418));for(;e;)v0(t,e),e=Qi(e.nextSibling)}if(Mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?Qi(t.stateNode.nextSibling):null;return!0}function y0(){for(var t=zt;t;)t=Qi(t.nextSibling)}function Qs(){zt=Ht=null,be=!1}function nm(t){pn===null?pn=[t]:pn.push(t)}var gP=mi.ReactCurrentBatchConfig;function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=r.refs;a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function w0(t){function e(S,C){if(t){var x=S.deletions;x===null?(S.deletions=[C],S.flags|=16):x.push(C)}}function n(S,C){if(!t)return null;for(;C!==null;)e(S,C),C=C.sibling;return null}function i(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function r(S,C){return S=Xi(S,C),S.index=0,S.sibling=null,S}function o(S,C,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<C?(S.flags|=2,C):x):(S.flags|=2,C)):(S.flags|=1048576,C)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,C,x,R){return C===null||C.tag!==6?(C=xd(x,S.mode,R),C.return=S,C):(C=r(C,x),C.return=S,C)}function h(S,C,x,R){var M=x.type;return M===ws?_(S,C,x.props.children,R,x.key):C!==null&&(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ni&&Dv(M)===C.type)?(R=r(C,x.props),R.ref=zo(S,C,x),R.return=S,R):(R=Tu(x.type,x.key,x.props,null,S.mode,R),R.ref=zo(S,C,x),R.return=S,R)}function d(S,C,x,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=Td(x,S.mode,R),C.return=S,C):(C=r(C,x.children||[]),C.return=S,C)}function _(S,C,x,R,M){return C===null||C.tag!==7?(C=Or(x,S.mode,R,M),C.return=S,C):(C=r(C,x),C.return=S,C)}function m(S,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return C=xd(""+C,S.mode,x),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zl:return x=Tu(C.type,C.key,C.props,null,S.mode,x),x.ref=zo(S,null,C),x.return=S,x;case ys:return C=Td(C,S.mode,x),C.return=S,C;case Ni:var R=C._init;return m(S,R(C._payload),x)}if(Xo(C)||Do(C))return C=Or(C,S.mode,x,null),C.return=S,C;nu(S,C)}return null}function v(S,C,x,R){var M=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:u(S,C,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zl:return x.key===M?h(S,C,x,R):null;case ys:return x.key===M?d(S,C,x,R):null;case Ni:return M=x._init,v(S,C,M(x._payload),R)}if(Xo(x)||Do(x))return M!==null?null:_(S,C,x,R,null);nu(S,x)}return null}function E(S,C,x,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(x)||null,u(C,S,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zl:return S=S.get(R.key===null?x:R.key)||null,h(C,S,R,M);case ys:return S=S.get(R.key===null?x:R.key)||null,d(C,S,R,M);case Ni:var j=R._init;return E(S,C,x,j(R._payload),M)}if(Xo(R)||Do(R))return S=S.get(x)||null,_(C,S,R,M,null);nu(C,R)}return null}function w(S,C,x,R){for(var M=null,j=null,F=C,W=C=0,re=null;F!==null&&W<x.length;W++){F.index>W?(re=F,F=null):re=F.sibling;var G=v(S,F,x[W],R);if(G===null){F===null&&(F=re);break}t&&F&&G.alternate===null&&e(S,F),C=o(G,C,W),j===null?M=G:j.sibling=G,j=G,F=re}if(W===x.length)return n(S,F),be&&Ar(S,W),M;if(F===null){for(;W<x.length;W++)F=m(S,x[W],R),F!==null&&(C=o(F,C,W),j===null?M=F:j.sibling=F,j=F);return be&&Ar(S,W),M}for(F=i(S,F);W<x.length;W++)re=E(F,S,W,x[W],R),re!==null&&(t&&re.alternate!==null&&F.delete(re.key===null?W:re.key),C=o(re,C,W),j===null?M=re:j.sibling=re,j=re);return t&&F.forEach(function(ve){return e(S,ve)}),be&&Ar(S,W),M}function T(S,C,x,R){var M=Do(x);if(typeof M!="function")throw Error(B(150));if(x=M.call(x),x==null)throw Error(B(151));for(var j=M=null,F=C,W=C=0,re=null,G=x.next();F!==null&&!G.done;W++,G=x.next()){F.index>W?(re=F,F=null):re=F.sibling;var ve=v(S,F,G.value,R);if(ve===null){F===null&&(F=re);break}t&&F&&ve.alternate===null&&e(S,F),C=o(ve,C,W),j===null?M=ve:j.sibling=ve,j=ve,F=re}if(G.done)return n(S,F),be&&Ar(S,W),M;if(F===null){for(;!G.done;W++,G=x.next())G=m(S,G.value,R),G!==null&&(C=o(G,C,W),j===null?M=G:j.sibling=G,j=G);return be&&Ar(S,W),M}for(F=i(S,F);!G.done;W++,G=x.next())G=E(F,S,W,G.value,R),G!==null&&(t&&G.alternate!==null&&F.delete(G.key===null?W:G.key),C=o(G,C,W),j===null?M=G:j.sibling=G,j=G);return t&&F.forEach(function(Le){return e(S,Le)}),be&&Ar(S,W),M}function k(S,C,x,R){if(typeof x=="object"&&x!==null&&x.type===ws&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zl:e:{for(var M=x.key,j=C;j!==null;){if(j.key===M){if(M=x.type,M===ws){if(j.tag===7){n(S,j.sibling),C=r(j,x.props.children),C.return=S,S=C;break e}}else if(j.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ni&&Dv(M)===j.type){n(S,j.sibling),C=r(j,x.props),C.ref=zo(S,j,x),C.return=S,S=C;break e}n(S,j);break}else e(S,j);j=j.sibling}x.type===ws?(C=Or(x.props.children,S.mode,R,x.key),C.return=S,S=C):(R=Tu(x.type,x.key,x.props,null,S.mode,R),R.ref=zo(S,C,x),R.return=S,S=R)}return a(S);case ys:e:{for(j=x.key;C!==null;){if(C.key===j)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){n(S,C.sibling),C=r(C,x.children||[]),C.return=S,S=C;break e}else{n(S,C);break}else e(S,C);C=C.sibling}C=Td(x,S.mode,R),C.return=S,S=C}return a(S);case Ni:return j=x._init,k(S,C,j(x._payload),R)}if(Xo(x))return w(S,C,x,R);if(Do(x))return T(S,C,x,R);nu(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,C!==null&&C.tag===6?(n(S,C.sibling),C=r(C,x),C.return=S,S=C):(n(S,C),C=xd(x,S.mode,R),C.return=S,S=C),a(S)):n(S,C)}return k}var qs=w0(!0),E0=w0(!1),Gu=hr(null),Qu=null,ks=null,im=null;function rm(){im=ks=Qu=null}function sm(t){var e=Gu.current;Ne(Gu),t._currentValue=e}function Nf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Qu=t,im=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(im!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Qu===null)throw Error(B(308));ks=t,Qu.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Pr=null;function om(t){Pr===null?Pr=[t]:Pr.push(t)}function A0(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,om(e)):(n.next=r.next,r.next=n),e.interleaved=n,hi(t,i)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,hi(t,n)}return r=i.interleaved,r===null?(e.next=e,om(i)):(e.next=r.next,r.next=e),i.interleaved=e,hi(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Kp(t,n)}}function jv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qu(t,e,n,i){var r=t.updateQueue;bi=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,d=h.next;h.next=null,a===null?o=d:a.next=d,a=h;var _=t.alternate;_!==null&&(_=_.updateQueue,u=_.lastBaseUpdate,u!==a&&(u===null?_.firstBaseUpdate=d:u.next=d,_.lastBaseUpdate=h))}if(o!==null){var m=r.baseState;a=0,_=d=h=null,u=o;do{var v=u.lane,E=u.eventTime;if((i&v)===v){_!==null&&(_=_.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,T=u;switch(v=e,E=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){m=w.call(E,m,v);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,v=typeof w=="function"?w.call(E,m,v):w,v==null)break e;m=je({},m,v);break e;case 2:bi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},_===null?(d=_=E,h=m):_=_.next=E,a|=v;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;v=u,u=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);if(_===null&&(h=m),r.baseState=h,r.firstBaseUpdate=d,r.lastBaseUpdate=_,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);zr|=a,t.lanes=a,t.memoizedState=m}}function Bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(B(191,r));r.call(i)}}}var il={},Bn=hr(il),Na=hr(il),ba=hr(il);function Rr(t){if(t===il)throw Error(B(174));return t}function lm(t,e){switch(Pe(ba,e),Pe(Na,t),Pe(Bn,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hf(e,t)}Ne(Bn),Pe(Bn,e)}function Ys(){Ne(Bn),Ne(Na),Ne(ba)}function S0(t){Rr(ba.current);var e=Rr(Bn.current),n=hf(e,t.type);e!==n&&(Pe(Na,t),Pe(Bn,n))}function um(t){Na.current===t&&(Ne(Bn),Ne(Na))}var Me=hr(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yd=[];function cm(){for(var t=0;t<yd.length;t++)yd[t]._workInProgressVersionPrimary=null;yd.length=0}var Eu=mi.ReactCurrentDispatcher,wd=mi.ReactCurrentBatchConfig,Ur=0,De=null,Xe=null,rt=null,$u=!1,ua=!1,La=0,_P=0;function gt(){throw Error(B(321))}function hm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function dm(t,e,n,i,r,o){if(Ur=o,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eu.current=t===null||t.memoizedState===null?EP:AP,t=n(i,r),ua){o=0;do{if(ua=!1,La=0,25<=o)throw Error(B(301));o+=1,rt=Xe=null,e.updateQueue=null,Eu.current=CP,t=n(i,r)}while(ua)}if(Eu.current=Xu,e=Xe!==null&&Xe.next!==null,Ur=0,rt=Xe=De=null,$u=!1,e)throw Error(B(300));return t}function fm(){var t=La!==0;return La=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?De.memoizedState=rt=t:rt=rt.next=t,rt}function an(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?De.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(B(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?De.memoizedState=rt=t:rt=rt.next=t}return rt}function Oa(t,e){return typeof e=="function"?e(t):e}function Ed(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=Xe,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,h=null,d=o;do{var _=d.lane;if((Ur&_)===_)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var m={lane:_,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(u=h=m,a=i):h=h.next=m,De.lanes|=_,zr|=_}d=d.next}while(d!==null&&d!==o);h===null?a=i:h.next=u,En(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,De.lanes|=o,zr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ad(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);En(o,e.memoizedState)||(bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function x0(){}function T0(t,e){var n=De,i=an(),r=e(),o=!En(i.memoizedState,r);if(o&&(i.memoizedState=r,bt=!0),i=i.queue,pm(P0.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ma(9,k0.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(B(349));Ur&30||I0(n,e,r)}return r}function I0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k0(t,e,n,i){e.value=n,e.getSnapshot=i,R0(e)&&N0(t)}function P0(t,e,n){return n(function(){R0(e)&&N0(t)})}function R0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function N0(t){var e=hi(t,1);e!==null&&vn(e,t,1,-1)}function Fv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=wP.bind(null,De,t),[e.memoizedState,t]}function Ma(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function b0(){return an().memoizedState}function Au(t,e,n,i){var r=bn();De.flags|=t,r.memoizedState=Ma(1|e,n,void 0,i===void 0?null:i)}function Wc(t,e,n,i){var r=an();i=i===void 0?null:i;var o=void 0;if(Xe!==null){var a=Xe.memoizedState;if(o=a.destroy,i!==null&&hm(i,a.deps)){r.memoizedState=Ma(e,n,o,i);return}}De.flags|=t,r.memoizedState=Ma(1|e,n,o,i)}function Uv(t,e){return Au(8390656,8,t,e)}function pm(t,e){return Wc(2048,8,t,e)}function L0(t,e){return Wc(4,2,t,e)}function O0(t,e){return Wc(4,4,t,e)}function M0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D0(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4,4,M0.bind(null,e,t),n)}function mm(){}function j0(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&hm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function B0(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&hm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function F0(t,e,n){return Ur&21?(En(n,e)||(n=VE(),De.lanes|=n,zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function vP(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var i=wd.transition;wd.transition={};try{t(!1),e()}finally{we=n,wd.transition=i}}function U0(){return an().memoizedState}function yP(t,e,n){var i=$i(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},z0(t))W0(e,n);else if(n=A0(t,e,n,i),n!==null){var r=Tt();vn(n,t,i,r),H0(n,e,i)}}function wP(t,e,n){var i=$i(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(z0(t))W0(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,En(u,a)){var h=e.interleaved;h===null?(r.next=r,om(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=A0(t,e,r,i),n!==null&&(r=Tt(),vn(n,t,i,r),H0(n,e,i))}}function z0(t){var e=t.alternate;return t===De||e!==null&&e===De}function W0(t,e){ua=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function H0(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Kp(t,n)}}var Xu={readContext:on,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},EP={readContext:on,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Uv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Au(4194308,4,M0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Au(4194308,4,t,e)},useInsertionEffect:function(t,e){return Au(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=bn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=yP.bind(null,De,t),[i.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Fv,useDebugValue:mm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Fv(!1),e=t[0];return t=vP.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=De,r=bn();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ot===null)throw Error(B(349));Ur&30||I0(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Uv(P0.bind(null,i,o,t),[t]),i.flags|=2048,Ma(9,k0.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=bn(),e=ot.identifierPrefix;if(be){var n=ti,i=ei;n=(i&~(1<<32-_n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_P++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AP={readContext:on,useCallback:j0,useContext:on,useEffect:pm,useImperativeHandle:D0,useInsertionEffect:L0,useLayoutEffect:O0,useMemo:B0,useReducer:Ed,useRef:b0,useState:function(){return Ed(Oa)},useDebugValue:mm,useDeferredValue:function(t){var e=an();return F0(e,Xe.memoizedState,t)},useTransition:function(){var t=Ed(Oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:x0,useSyncExternalStore:T0,useId:U0,unstable_isNewReconciler:!1},CP={readContext:on,useCallback:j0,useContext:on,useEffect:pm,useImperativeHandle:D0,useInsertionEffect:L0,useLayoutEffect:O0,useMemo:B0,useReducer:Ad,useRef:b0,useState:function(){return Ad(Oa)},useDebugValue:mm,useDeferredValue:function(t){var e=an();return Xe===null?e.memoizedState=t:F0(e,Xe.memoizedState,t)},useTransition:function(){var t=Ad(Oa)[0],e=an().memoizedState;return[t,e]},useMutableSource:x0,useSyncExternalStore:T0,useId:U0,unstable_isNewReconciler:!1};function dn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Tt(),r=$i(t),o=oi(i,r);o.payload=e,n!=null&&(o.callback=n),e=qi(t,o,r),e!==null&&(vn(e,t,r,i),wu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Tt(),r=$i(t),o=oi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qi(t,o,r),e!==null&&(vn(e,t,r,i),wu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),i=$i(t),r=oi(n,i);r.tag=2,e!=null&&(r.callback=e),e=qi(t,r,i),e!==null&&(vn(e,t,i,n),wu(e,t,i))}};function zv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ia(n,i)||!Ia(r,o):!0}function V0(t,e,n){var i=!1,r=sr,o=e.contextType;return typeof o=="object"&&o!==null?o=on(o):(r=Dt(e)?Br:wt.current,i=e.contextTypes,o=(i=i!=null)?Gs(t,r):sr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function Lf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},am(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=on(o):(o=Dt(e)?Br:wt.current,r.context=Gs(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Hc.enqueueReplaceState(r,r.state,null),qu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e){try{var n="",i=e;do n+=$I(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Of(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function Z0(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ec||(ec=!0,Vf=i),Of(t,e)},n}function K0(t,e,n){n=oi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Of(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Of(t,e),typeof i!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Hv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new SP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=BP.bind(null,t,e,n),e.then(t,t))}function Vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var xP=mi.ReactCurrentOwner,bt=!1;function St(t,e,n,i){e.child=t===null?E0(e,null,n,i):qs(e,t.child,n,i)}function Kv(t,e,n,i,r){n=n.render;var o=e.ref;return Fs(e,r),i=dm(t,e,n,i,o,r),n=fm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,di(t,e,r)):(be&&n&&em(e),e.flags|=1,St(t,e,i,r),e.child)}function Gv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Cm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,G0(t,e,o,i,r)):(t=Tu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(a,i)&&t.ref===e.ref)return di(t,e,r)}return e.flags|=1,t=Xi(o,i),t.ref=e.ref,t.return=e,e.child=t}function G0(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Ia(o,i)&&t.ref===e.ref)if(bt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,di(t,e,r)}return Mf(t,e,n,i,r)}function Q0(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Rs,Ft),Ft|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Rs,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Pe(Rs,Ft),Ft|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Pe(Rs,Ft),Ft|=i;return St(t,e,r,n),e.child}function q0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mf(t,e,n,i,r){var o=Dt(n)?Br:wt.current;return o=Gs(e,o),Fs(e,r),n=dm(t,e,n,i,o,r),i=fm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,di(t,e,r)):(be&&i&&em(e),e.flags|=1,St(t,e,n,r),e.child)}function Qv(t,e,n,i,r){if(Dt(n)){var o=!0;Vu(e)}else o=!1;if(Fs(e,r),e.stateNode===null)Cu(t,e),V0(e,n,i),Lf(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=on(d):(d=Dt(n)?Br:wt.current,d=Gs(e,d));var _=n.getDerivedStateFromProps,m=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||h!==d)&&Wv(e,a,i,d),bi=!1;var v=e.memoizedState;a.state=v,qu(e,i,a,r),h=e.memoizedState,u!==i||v!==h||Mt.current||bi?(typeof _=="function"&&(bf(e,n,_,i),h=e.memoizedState),(u=bi||zv(e,n,u,i,v,h,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,C0(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:dn(e.type,u),a.props=d,m=e.pendingProps,v=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=on(h):(h=Dt(n)?Br:wt.current,h=Gs(e,h));var E=n.getDerivedStateFromProps;(_=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||v!==h)&&Wv(e,a,i,h),bi=!1,v=e.memoizedState,a.state=v,qu(e,i,a,r);var w=e.memoizedState;u!==m||v!==w||Mt.current||bi?(typeof E=="function"&&(bf(e,n,E,i),w=e.memoizedState),(d=bi||zv(e,n,d,i,v,w,h)||!1)?(_||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,w,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,w,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),a.props=i,a.state=w,a.context=h,i=d):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Df(t,e,n,i,o,r)}function Df(t,e,n,i,r,o){q0(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Lv(e,n,!1),di(t,e,o);i=e.stateNode,xP.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=qs(e,t.child,null,o),e.child=qs(e,null,u,o)):St(t,e,u,o),e.memoizedState=i.state,r&&Lv(e,n,!0),e.child}function Y0(t){var e=t.stateNode;e.pendingContext?bv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bv(t,e.context,!1),lm(t,e.containerInfo)}function qv(t,e,n,i,r){return Qs(),nm(r),e.flags|=256,St(t,e,n,i),e.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function $0(t,e,n){var i=e.pendingProps,r=Me.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Pe(Me,r&1),t===null)return Rf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Kc(a,i,0,null),t=Or(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bf(n),e.memoizedState=jf,t):gm(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return TP(t,e,a,i,u,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Xi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=Xi(u,o):(o=Or(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Bf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=jf,i}return o=t.child,t=o.sibling,i=Xi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function gm(t,e){return e=Kc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,i){return i!==null&&nm(i),qs(e,t.child,null,n),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Cd(Error(B(422))),iu(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Kc({mode:"visible",children:i.children},r,0,null),o=Or(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&qs(e,t.child,null,a),e.child.memoizedState=Bf(a),e.memoizedState=jf,o);if(!(e.mode&1))return iu(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(B(419)),i=Cd(o,i,void 0),iu(t,e,a,i)}if(u=(a&t.childLanes)!==0,bt||u){if(i=ot,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,hi(t,r),vn(i,t,r,-1))}return Am(),i=Cd(Error(B(421))),iu(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=FP.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,zt=Qi(r.nextSibling),Ht=e,be=!0,pn=null,t!==null&&(en[tn++]=ei,en[tn++]=ti,en[tn++]=Fr,ei=t.id,ti=t.overflow,Fr=e),e=gm(e,i.children),e.flags|=4096,e)}function Yv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Nf(t.return,e,n)}function Sd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function X0(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(St(t,e,i.children,n),i=Me.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yv(t,n,e);else if(t.tag===19)Yv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Pe(Me,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Sd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Yu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Sd(e,!0,n,null,o);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IP(t,e,n){switch(e.tag){case 3:Y0(e),Qs();break;case 5:S0(e);break;case 1:Dt(e.type)&&Vu(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Pe(Gu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Pe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?$0(t,e,n):(Pe(Me,Me.current&1),t=di(t,e,n),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return X0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pe(Me,Me.current),i)break;return null;case 22:case 23:return e.lanes=0,Q0(t,e,n)}return di(t,e,n)}var J0,Ff,eA,tA;J0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ff=function(){};eA=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Rr(Bn.current);var o=null;switch(n){case"input":r=af(t,r),i=af(t,i),o=[];break;case"select":r=je({},r,{value:void 0}),i=je({},i,{value:void 0}),o=[];break;case"textarea":r=cf(t,r),i=cf(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Wu)}df(n,i);var a;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wa.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var h=i[d];if(u=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&h!==u&&(h!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wa.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Re("scroll",t),o||u===h||(o=[])):(o=o||[]).push(d,h))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};tA=function(t,e,n,i){n!==i&&(e.flags|=4)};function Wo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function kP(t,e,n){var i=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Dt(e.type)&&Hu(),_t(e),null;case 3:return i=e.stateNode,Ys(),Ne(Mt),Ne(wt),cm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(Gf(pn),pn=null))),Ff(t,e),_t(e),null;case 5:um(e);var r=Rr(ba.current);if(n=e.type,t!==null&&e.stateNode!=null)eA(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=Rr(Bn.current),tu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Ln]=e,i[Ra]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(r=0;r<ea.length;r++)Re(ea[r],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":sv(i,o),Re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Re("invalid",i);break;case"textarea":av(i,o),Re("invalid",i)}df(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&eu(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&eu(i.textContent,u,t),r=["children",""+u]):wa.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Re("scroll",i)}switch(n){case"input":Kl(i),ov(i,o,!0);break;case"textarea":Kl(i),lv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Wu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Ln]=e,t[Ra]=i,J0(t,e,!1,!1),e.stateNode=t;e:{switch(a=ff(n,i),n){case"dialog":Re("cancel",t),Re("close",t),r=i;break;case"iframe":case"object":case"embed":Re("load",t),r=i;break;case"video":case"audio":for(r=0;r<ea.length;r++)Re(ea[r],t);r=i;break;case"source":Re("error",t),r=i;break;case"img":case"image":case"link":Re("error",t),Re("load",t),r=i;break;case"details":Re("toggle",t),r=i;break;case"input":sv(t,i),r=af(t,i),Re("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=je({},i,{value:void 0}),Re("invalid",t);break;case"textarea":av(t,i),r=cf(t,i),Re("invalid",t);break;default:r=i}df(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?bE(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&RE(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ea(t,h):typeof h=="number"&&Ea(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Re("scroll",t):h!=null&&Up(t,o,h,a))}switch(n){case"input":Kl(t),ov(t,i,!1);break;case"textarea":Kl(t),lv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+rr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ms(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)tA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(n=Rr(ba.current),Rr(Bn.current),tu(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ln]=e,(o=i.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:eu(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ln]=e,e.stateNode=i}return _t(e),null;case 13:if(Ne(Me),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&zt!==null&&e.mode&1&&!(e.flags&128))y0(),Qs(),e.flags|=98560,o=!1;else if(o=tu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Ln]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else pn!==null&&(Gf(pn),pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?tt===0&&(tt=3):Am())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Ys(),Ff(t,e),t===null&&ka(e.stateNode.containerInfo),_t(e),null;case 10:return sm(e.type._context),_t(e),null;case 17:return Dt(e.type)&&Hu(),_t(e),null;case 19:if(Ne(Me),o=e.memoizedState,o===null)return _t(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Wo(o,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yu(t),a!==null){for(e.flags|=128,Wo(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Me,Me.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>Xs&&(e.flags|=128,i=!0,Wo(o,!1),e.lanes=4194304)}else{if(!i)if(t=Yu(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!be)return _t(e),null}else 2*Ve()-o.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,i=!0,Wo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Me.current,Pe(Me,i?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Em(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ft&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function PP(t,e){switch(tm(e),e.tag){case 1:return Dt(e.type)&&Hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),Ne(Mt),Ne(wt),cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return um(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return Ys(),null;case 10:return sm(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var ru=!1,vt=!1,RP=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function Uf(t,e,n){try{n()}catch(i){Be(t,e,i)}}var $v=!1;function NP(t,e){if(Cf=Fu,t=o0(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,d=0,_=0,m=t,v=null;t:for(;;){for(var E;m!==n||r!==0&&m.nodeType!==3||(u=a+r),m!==o||i!==0&&m.nodeType!==3||(h=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(E=m.firstChild)!==null;)v=m,m=E;for(;;){if(m===t)break t;if(v===n&&++d===r&&(u=a),v===o&&++_===i&&(h=a),(E=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sf={focusedElem:t,selectionRange:n},Fu=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,k=w.memoizedState,S=e.stateNode,C=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:dn(e.type,T),k);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){Be(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return w=$v,$v=!1,w}function ca(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Uf(e,n,o)}r=r.next}while(r!==i)}}function Vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function zf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nA(t){var e=t.alternate;e!==null&&(t.alternate=null,nA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Ra],delete e[If],delete e[fP],delete e[pP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iA(t){return t.tag===5||t.tag===3||t.tag===4}function Xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wu));else if(i!==4&&(t=t.child,t!==null))for(Wf(t,e,n),t=t.sibling;t!==null;)Wf(t,e,n),t=t.sibling}function Hf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Hf(t,e,n),t=t.sibling;t!==null;)Hf(t,e,n),t=t.sibling}var ut=null,fn=!1;function ki(t,e,n){for(n=n.child;n!==null;)rA(t,e,n),n=n.sibling}function rA(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Dc,n)}catch{}switch(n.tag){case 5:vt||Ps(n,e);case 6:var i=ut,r=fn;ut=null,ki(t,e,n),ut=i,fn=r,ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(fn?(t=ut,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),xa(t)):_d(ut,n.stateNode));break;case 4:i=ut,r=fn,ut=n.stateNode.containerInfo,fn=!0,ki(t,e,n),ut=i,fn=r;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Uf(n,e,a),r=r.next}while(r!==i)}ki(t,e,n);break;case 1:if(!vt&&(Ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Be(n,e,u)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,ki(t,e,n),vt=i):ki(t,e,n);break;default:ki(t,e,n)}}function Jv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RP),e.forEach(function(i){var r=UP.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:ut=u.stateNode,fn=!1;break e;case 3:ut=u.stateNode.containerInfo,fn=!0;break e;case 4:ut=u.stateNode.containerInfo,fn=!0;break e}u=u.return}if(ut===null)throw Error(B(160));rA(o,a,r),ut=null,fn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(d){Be(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sA(e,t),e=e.sibling}function sA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Nn(t),i&4){try{ca(3,t,t.return),Vc(3,t)}catch(T){Be(t,t.return,T)}try{ca(5,t,t.return)}catch(T){Be(t,t.return,T)}}break;case 1:hn(e,t),Nn(t),i&512&&n!==null&&Ps(n,n.return);break;case 5:if(hn(e,t),Nn(t),i&512&&n!==null&&Ps(n,n.return),t.flags&32){var r=t.stateNode;try{Ea(r,"")}catch(T){Be(t,t.return,T)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&IE(r,o),ff(u,a);var d=ff(u,o);for(a=0;a<h.length;a+=2){var _=h[a],m=h[a+1];_==="style"?bE(r,m):_==="dangerouslySetInnerHTML"?RE(r,m):_==="children"?Ea(r,m):Up(r,_,m,d)}switch(u){case"input":lf(r,o);break;case"textarea":kE(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Ms(r,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?Ms(r,!!o.multiple,o.defaultValue,!0):Ms(r,!!o.multiple,o.multiple?[]:"",!1))}r[Ra]=o}catch(T){Be(t,t.return,T)}}break;case 6:if(hn(e,t),Nn(t),i&4){if(t.stateNode===null)throw Error(B(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(T){Be(t,t.return,T)}}break;case 3:if(hn(e,t),Nn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(e.containerInfo)}catch(T){Be(t,t.return,T)}break;case 4:hn(e,t),Nn(t);break;case 13:hn(e,t),Nn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(ym=Ve())),i&4&&Jv(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||_,hn(e,t),vt=d):hn(e,t),Nn(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!_&&t.mode&1)for(V=t,_=t.child;_!==null;){for(m=V=_;V!==null;){switch(v=V,E=v.child,v.tag){case 0:case 11:case 14:case 15:ca(4,v,v.return);break;case 1:Ps(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){Be(i,n,T)}}break;case 5:Ps(v,v.return);break;case 22:if(v.memoizedState!==null){ty(m);continue}}E!==null?(E.return=v,V=E):ty(m)}_=_.sibling}e:for(_=null,m=t;;){if(m.tag===5){if(_===null){_=m;try{r=m.stateNode,d?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,h=m.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=NE("display",a))}catch(T){Be(t,t.return,T)}}}else if(m.tag===6){if(_===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(T){Be(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hn(e,t),Nn(t),i&4&&Jv(t);break;case 21:break;default:hn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iA(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ea(r,""),i.flags&=-33);var o=Xv(t);Hf(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=Xv(t);Wf(t,u,a);break;default:throw Error(B(161))}}catch(h){Be(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bP(t,e,n){V=t,oA(t)}function oA(t,e,n){for(var i=(t.mode&1)!==0;V!==null;){var r=V,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||ru;if(!a){var u=r.alternate,h=u!==null&&u.memoizedState!==null||vt;u=ru;var d=vt;if(ru=a,(vt=h)&&!d)for(V=r;V!==null;)a=V,h=a.child,a.tag===22&&a.memoizedState!==null?ny(r):h!==null?(h.return=a,V=h):ny(r);for(;o!==null;)V=o,oA(o),o=o.sibling;V=r,ru=u,vt=d}ey(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,V=o):ey(t)}}function ey(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Vc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bv(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var _=d.memoizedState;if(_!==null){var m=_.dehydrated;m!==null&&xa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}vt||e.flags&512&&zf(e)}catch(v){Be(e,e.return,v)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function ty(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function ny(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vc(4,e)}catch(h){Be(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){Be(e,r,h)}}var o=e.return;try{zf(e)}catch(h){Be(e,o,h)}break;case 5:var a=e.return;try{zf(e)}catch(h){Be(e,a,h)}}}catch(h){Be(e,e.return,h)}if(e===t){V=null;break}var u=e.sibling;if(u!==null){u.return=e.return,V=u;break}V=e.return}}var LP=Math.ceil,Ju=mi.ReactCurrentDispatcher,_m=mi.ReactCurrentOwner,sn=mi.ReactCurrentBatchConfig,me=0,ot=null,qe=null,ht=0,Ft=0,Rs=hr(0),tt=0,Da=null,zr=0,Zc=0,vm=0,ha=null,Nt=null,ym=0,Xs=1/0,$n=null,ec=!1,Vf=null,Yi=null,su=!1,Wi=null,tc=0,da=0,Zf=null,Su=-1,xu=0;function Tt(){return me&6?Ve():Su!==-1?Su:Su=Ve()}function $i(t){return t.mode&1?me&2&&ht!==0?ht&-ht:gP.transition!==null?(xu===0&&(xu=VE()),xu):(t=we,t!==0||(t=window.event,t=t===void 0?16:$E(t.type)),t):1}function vn(t,e,n,i){if(50<da)throw da=0,Zf=null,Error(B(185));el(t,n,i),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(Zc|=n),tt===4&&Mi(t,ht)),jt(t,i),n===1&&me===0&&!(e.mode&1)&&(Xs=Ve()+500,zc&&dr()))}function jt(t,e){var n=t.callbackNode;gk(t,e);var i=Bu(t,t===ot?ht:0);if(i===0)n!==null&&hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&hv(n),e===1)t.tag===0?mP(iy.bind(null,t)):g0(iy.bind(null,t)),hP(function(){!(me&6)&&dr()}),n=null;else{switch(ZE(i)){case 1:n=Zp;break;case 4:n=WE;break;case 16:n=ju;break;case 536870912:n=HE;break;default:n=ju}n=pA(n,aA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aA(t,e){if(Su=-1,xu=0,me&6)throw Error(B(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var i=Bu(t,t===ot?ht:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=nc(t,i);else{e=i;var r=me;me|=2;var o=uA();(ot!==t||ht!==e)&&($n=null,Xs=Ve()+500,Lr(t,e));do try{DP();break}catch(u){lA(t,u)}while(!0);rm(),Ju.current=o,me=r,qe!==null?e=0:(ot=null,ht=0,e=tt)}if(e!==0){if(e===2&&(r=vf(t),r!==0&&(i=r,e=Kf(t,r))),e===1)throw n=Da,Lr(t,0),Mi(t,i),jt(t,Ve()),n;if(e===6)Mi(t,i);else{if(r=t.current.alternate,!(i&30)&&!OP(r)&&(e=nc(t,i),e===2&&(o=vf(t),o!==0&&(i=o,e=Kf(t,o))),e===1))throw n=Da,Lr(t,0),Mi(t,i),jt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(B(345));case 2:Cr(t,Nt,$n);break;case 3:if(Mi(t,i),(i&130023424)===i&&(e=ym+500-Ve(),10<e)){if(Bu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Tt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Tf(Cr.bind(null,t,Nt,$n),e);break}Cr(t,Nt,$n);break;case 4:if(Mi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-_n(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*LP(i/1960))-i,10<i){t.timeoutHandle=Tf(Cr.bind(null,t,Nt,$n),i);break}Cr(t,Nt,$n);break;case 5:Cr(t,Nt,$n);break;default:throw Error(B(329))}}}return jt(t,Ve()),t.callbackNode===n?aA.bind(null,t):null}function Kf(t,e){var n=ha;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=nc(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Gf(e)),t}function Gf(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function OP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!En(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~vm,e&=~Zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),i=1<<n;t[n]=-1,e&=~i}}function iy(t){if(me&6)throw Error(B(327));Us();var e=Bu(t,0);if(!(e&1))return jt(t,Ve()),null;var n=nc(t,e);if(t.tag!==0&&n===2){var i=vf(t);i!==0&&(e=i,n=Kf(t,i))}if(n===1)throw n=Da,Lr(t,0),Mi(t,e),jt(t,Ve()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cr(t,Nt,$n),jt(t,Ve()),null}function wm(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Xs=Ve()+500,zc&&dr())}}function Wr(t){Wi!==null&&Wi.tag===0&&!(me&6)&&Us();var e=me;me|=1;var n=sn.transition,i=we;try{if(sn.transition=null,we=1,t)return t()}finally{we=i,sn.transition=n,me=e,!(me&6)&&dr()}}function Em(){Ft=Rs.current,Ne(Rs)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cP(n)),qe!==null)for(n=qe.return;n!==null;){var i=n;switch(tm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Hu();break;case 3:Ys(),Ne(Mt),Ne(wt),cm();break;case 5:um(i);break;case 4:Ys();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:sm(i.type._context);break;case 22:case 23:Em()}n=n.return}if(ot=t,qe=t=Xi(t.current,null),ht=Ft=e,tt=0,Da=null,vm=Zc=zr=0,Nt=ha=null,Pr!==null){for(e=0;e<Pr.length;e++)if(n=Pr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}Pr=null}return t}function lA(t,e){do{var n=qe;try{if(rm(),Eu.current=Xu,$u){for(var i=De.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}if(Ur=0,rt=Xe=De=null,ua=!1,La=0,_m.current=null,n===null||n.return===null){tt=1,Da=e,qe=null;break}e:{var o=t,a=n.return,u=n,h=e;if(e=ht,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,_=u,m=_.tag;if(!(_.mode&1)&&(m===0||m===11||m===15)){var v=_.alternate;v?(_.updateQueue=v.updateQueue,_.memoizedState=v.memoizedState,_.lanes=v.lanes):(_.updateQueue=null,_.memoizedState=null)}var E=Vv(a);if(E!==null){E.flags&=-257,Zv(E,a,u,o,e),E.mode&1&&Hv(o,d,e),e=E,h=d;var w=e.updateQueue;if(w===null){var T=new Set;T.add(h),e.updateQueue=T}else w.add(h);break e}else{if(!(e&1)){Hv(o,d,e),Am();break e}h=Error(B(426))}}else if(be&&u.mode&1){var k=Vv(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Zv(k,a,u,o,e),nm($s(h,u));break e}}o=h=$s(h,u),tt!==4&&(tt=2),ha===null?ha=[o]:ha.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=Z0(o,h,e);jv(o,S);break e;case 1:u=h;var C=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yi===null||!Yi.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=K0(o,u,e);jv(o,R);break e}}o=o.return}while(o!==null)}hA(n)}catch(M){e=M,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function uA(){var t=Ju.current;return Ju.current=Xu,t===null?Xu:t}function Am(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(zr&268435455)&&!(Zc&268435455)||Mi(ot,ht)}function nc(t,e){var n=me;me|=2;var i=uA();(ot!==t||ht!==e)&&($n=null,Lr(t,e));do try{MP();break}catch(r){lA(t,r)}while(!0);if(rm(),me=n,Ju.current=i,qe!==null)throw Error(B(261));return ot=null,ht=0,tt}function MP(){for(;qe!==null;)cA(qe)}function DP(){for(;qe!==null&&!ak();)cA(qe)}function cA(t){var e=fA(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?hA(t):qe=e,_m.current=null}function hA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PP(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,qe=null;return}}else if(n=kP(n,e,Ft),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);tt===0&&(tt=5)}function Cr(t,e,n){var i=we,r=sn.transition;try{sn.transition=null,we=1,jP(t,e,n,i)}finally{sn.transition=r,we=i}return null}function jP(t,e,n,i){do Us();while(Wi!==null);if(me&6)throw Error(B(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_k(t,o),t===ot&&(qe=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||su||(su=!0,pA(ju,function(){return Us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var a=we;we=1;var u=me;me|=4,_m.current=null,NP(t,n),sA(n,t),iP(Sf),Fu=!!Cf,Sf=Cf=null,t.current=n,bP(n),lk(),me=u,we=a,sn.transition=o}else t.current=n;if(su&&(su=!1,Wi=t,tc=r),o=t.pendingLanes,o===0&&(Yi=null),hk(n.stateNode),jt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ec)throw ec=!1,t=Vf,Vf=null,t;return tc&1&&t.tag!==0&&Us(),o=t.pendingLanes,o&1?t===Zf?da++:(da=0,Zf=t):da=0,dr(),null}function Us(){if(Wi!==null){var t=ZE(tc),e=sn.transition,n=we;try{if(sn.transition=null,we=16>t?16:t,Wi===null)var i=!1;else{if(t=Wi,Wi=null,tc=0,me&6)throw Error(B(331));var r=me;for(me|=4,V=t.current;V!==null;){var o=V,a=o.child;if(V.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var d=u[h];for(V=d;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:ca(8,_,o)}var m=_.child;if(m!==null)m.return=_,V=m;else for(;V!==null;){_=V;var v=_.sibling,E=_.return;if(nA(_),_===d){V=null;break}if(v!==null){v.return=E,V=v;break}V=E}}}var w=o.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var k=T.sibling;T.sibling=null,T=k}while(T!==null)}}V=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,V=a;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ca(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,V=S;break e}V=o.return}}var C=t.current;for(V=C;V!==null;){a=V;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,V=x;else e:for(a=C;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Vc(9,u)}}catch(M){Be(u,u.return,M)}if(u===a){V=null;break e}var R=u.sibling;if(R!==null){R.return=u.return,V=R;break e}V=u.return}}if(me=r,dr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Dc,t)}catch{}i=!0}return i}finally{we=n,sn.transition=e}}return!1}function ry(t,e,n){e=$s(n,e),e=Z0(t,e,1),t=qi(t,e,1),e=Tt(),t!==null&&(el(t,1,e),jt(t,e))}function Be(t,e,n){if(t.tag===3)ry(t,t,n);else for(;e!==null;){if(e.tag===3){ry(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yi===null||!Yi.has(i))){t=$s(n,t),t=K0(e,t,1),e=qi(e,t,1),t=Tt(),e!==null&&(el(e,1,t),jt(e,t));break}}e=e.return}}function BP(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ht&n)===n&&(tt===4||tt===3&&(ht&130023424)===ht&&500>Ve()-ym?Lr(t,0):vm|=n),jt(t,e)}function dA(t,e){e===0&&(t.mode&1?(e=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):e=1);var n=Tt();t=hi(t,e),t!==null&&(el(t,e,n),jt(t,n))}function FP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dA(t,n)}function UP(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(e),dA(t,n)}var fA;fA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,IP(t,e,n);bt=!!(t.flags&131072)}else bt=!1,be&&e.flags&1048576&&_0(e,Ku,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Cu(t,e),t=e.pendingProps;var r=Gs(e,wt.current);Fs(e,n),r=dm(null,e,i,t,r,n);var o=fm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(i)?(o=!0,Vu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,am(e),r.updater=Hc,e.stateNode=r,r._reactInternals=e,Lf(e,i,t,n),e=Df(null,e,i,!0,o,n)):(e.tag=0,be&&o&&em(e),St(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=WP(i),t=dn(i,t),r){case 0:e=Mf(null,e,i,t,n);break e;case 1:e=Qv(null,e,i,t,n);break e;case 11:e=Kv(null,e,i,t,n);break e;case 14:e=Gv(null,e,i,dn(i.type,t),n);break e}throw Error(B(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Mf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Qv(t,e,i,r,n);case 3:e:{if(Y0(e),t===null)throw Error(B(387));i=e.pendingProps,o=e.memoizedState,r=o.element,C0(t,e),qu(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=$s(Error(B(423)),e),e=qv(t,e,i,n,r);break e}else if(i!==r){r=$s(Error(B(424)),e),e=qv(t,e,i,n,r);break e}else for(zt=Qi(e.stateNode.containerInfo.firstChild),Ht=e,be=!0,pn=null,n=E0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),i===r){e=di(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 5:return S0(e),t===null&&Rf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,xf(i,r)?a=null:o!==null&&xf(i,o)&&(e.flags|=32),q0(t,e),St(t,e,a,n),e.child;case 6:return t===null&&Rf(e),null;case 13:return $0(t,e,n);case 4:return lm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=qs(e,null,i,n):St(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Kv(t,e,i,r,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Pe(Gu,i._currentValue),i._currentValue=a,o!==null)if(En(o.value,a)){if(o.children===r.children&&!Mt.current){e=di(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=oi(-1,n&-n),h.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var _=d.pending;_===null?h.next=h:(h.next=_.next,_.next=h),d.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Nf(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(B(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Nf(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}St(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),r=on(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return i=e.type,r=dn(i,e.pendingProps),r=dn(i.type,r),Gv(t,e,i,r,n);case 15:return G0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dn(i,r),Cu(t,e),e.tag=1,Dt(i)?(t=!0,Vu(e)):t=!1,Fs(e,n),V0(e,i,r),Lf(e,i,r,n),Df(null,e,i,!0,t,n);case 19:return X0(t,e,n);case 22:return Q0(t,e,n)}throw Error(B(156,e.tag))};function pA(t,e){return zE(t,e)}function zP(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new zP(t,e,n,i)}function Cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WP(t){if(typeof t=="function")return Cm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wp)return 11;if(t===Hp)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")Cm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ws:return Or(n.children,r,o,e);case zp:a=8,r|=8;break;case nf:return t=nn(12,n,e,r|2),t.elementType=nf,t.lanes=o,t;case rf:return t=nn(13,n,e,r),t.elementType=rf,t.lanes=o,t;case sf:return t=nn(19,n,e,r),t.elementType=sf,t.lanes=o,t;case SE:return Kc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AE:a=10;break e;case CE:a=9;break e;case Wp:a=11;break e;case Hp:a=14;break e;case Ni:a=16,i=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=nn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Or(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function Kc(t,e,n,i){return t=nn(22,t,i,e),t.elementType=SE,t.lanes=n,t.stateNode={isHidden:!1},t}function xd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Td(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HP(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Sm(t,e,n,i,r,o,a,u,h){return t=new HP(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(o),t}function VP(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function mA(t){if(!t)return sr;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Dt(n))return m0(t,n,e)}return e}function gA(t,e,n,i,r,o,a,u,h){return t=Sm(n,i,!0,t,r,o,a,u,h),t.context=mA(null),n=t.current,i=Tt(),r=$i(n),o=oi(i,r),o.callback=e??null,qi(n,o,r),t.current.lanes=r,el(t,r,i),jt(t,i),t}function Gc(t,e,n,i){var r=e.current,o=Tt(),a=$i(r);return n=mA(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=qi(r,e,a),t!==null&&(vn(t,r,a,o),wu(t,r,a)),a}function ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xm(t,e){sy(t,e),(t=t.alternate)&&sy(t,e)}function ZP(){return null}var _A=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tm(t){this._internalRoot=t}Qc.prototype.render=Tm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Gc(t,e,null,null)};Qc.prototype.unmount=Tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wr(function(){Gc(null,t,null,null)}),e[ci]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=QE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&YE(t)}};function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oy(){}function KP(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var d=ic(a);o.call(d)}}var a=gA(e,i,t,0,null,!1,!1,"",oy);return t._reactRootContainer=a,t[ci]=a.current,ka(t.nodeType===8?t.parentNode:t),Wr(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var d=ic(h);u.call(d)}}var h=Sm(t,0,!1,null,null,!1,!1,"",oy);return t._reactRootContainer=h,t[ci]=h.current,ka(t.nodeType===8?t.parentNode:t),Wr(function(){Gc(e,h,n,i)}),h}function Yc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var h=ic(a);u.call(h)}}Gc(e,a,t,r)}else a=KP(n,e,t,r,i);return ic(a)}KE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(Kp(e,n|1),jt(e,Ve()),!(me&6)&&(Xs=Ve()+500,dr()))}break;case 13:Wr(function(){var i=hi(t,1);if(i!==null){var r=Tt();vn(i,t,1,r)}}),xm(t,1)}};Gp=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=Tt();vn(e,t,134217728,n)}xm(t,134217728)}};GE=function(t){if(t.tag===13){var e=$i(t),n=hi(t,e);if(n!==null){var i=Tt();vn(n,t,e,i)}xm(t,e)}};QE=function(){return we};qE=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};mf=function(t,e,n){switch(e){case"input":if(lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Uc(i);if(!r)throw Error(B(90));TE(i),lf(i,r)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};ME=wm;DE=Wr;var GP={usingClientEntryPoint:!1,Events:[nl,Ss,Uc,LE,OE,wm]},Ho={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||ZP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Dc=ou.inject(QP),jn=ou}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GP;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(e))throw Error(B(200));return VP(t,e,null,n)};Kt.createRoot=function(t,e){if(!Im(t))throw Error(B(299));var n=!1,i="",r=_A;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Sm(t,1,!1,null,null,n,!1,i,r),t[ci]=e.current,ka(t.nodeType===8?t.parentNode:t),new Tm(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return Wr(t)};Kt.hydrate=function(t,e,n){if(!qc(e))throw Error(B(200));return Yc(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!Im(t))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=_A;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=gA(e,null,t,1,n??null,r,!1,o,a),t[ci]=e.current,ka(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Qc(e)};Kt.render=function(t,e,n){if(!qc(e))throw Error(B(200));return Yc(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!qc(t))throw Error(B(40));return t._reactRootContainer?(Wr(function(){Yc(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};Kt.unstable_batchedUpdates=wm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!qc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Yc(t,e,n,!1,i)};Kt.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),vE.exports=Kt;var km=vE.exports;const Ns=Oc(km);var ay=km;ef.createRoot=ay.createRoot,ef.hydrateRoot=ay.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ja.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const ly="popstate";function qP(t){t===void 0&&(t={});function e(r,o){let{pathname:a="/",search:u="",hash:h=""}=es(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Qf("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let h=r.location.href,d=h.indexOf("#");u=d===-1?h:h.slice(0,d)}return u+"#"+(typeof o=="string"?o:rc(o))}function i(r,o){Pm(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return $P(e,n,i,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YP(){return Math.random().toString(36).substr(2,8)}function uy(t,e){return{usr:t.state,key:t.key,idx:e}}function Qf(t,e,n,i){return n===void 0&&(n=null),ja({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?es(e):e,{state:n,key:e&&e.key||i||YP()})}function rc(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function es(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function $P(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,u=Hi.Pop,h=null,d=_();d==null&&(d=0,a.replaceState(ja({},a.state,{idx:d}),""));function _(){return(a.state||{idx:null}).idx}function m(){u=Hi.Pop;let k=_(),S=k==null?null:k-d;d=k,h&&h({action:u,location:T.location,delta:S})}function v(k,S){u=Hi.Push;let C=Qf(T.location,k,S);n&&n(C,k),d=_()+1;let x=uy(C,d),R=T.createHref(C);try{a.pushState(x,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}o&&h&&h({action:u,location:T.location,delta:1})}function E(k,S){u=Hi.Replace;let C=Qf(T.location,k,S);n&&n(C,k),d=_();let x=uy(C,d),R=T.createHref(C);a.replaceState(x,"",R),o&&h&&h({action:u,location:T.location,delta:0})}function w(k){let S=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof k=="string"?k:rc(k);return C=C.replace(/ $/,"%20"),Ze(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let T={get action(){return u},get location(){return t(r,a)},listen(k){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(ly,m),h=k,()=>{r.removeEventListener(ly,m),h=null}},createHref(k){return e(r,k)},createURL:w,encodeLocation(k){let S=w(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:E,go(k){return a.go(k)}};return T}var cy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cy||(cy={}));function XP(t,e,n){return n===void 0&&(n="/"),JP(t,e,n,!1)}function JP(t,e,n,i){let r=typeof e=="string"?es(e):e,o=Rm(r.pathname||"/",n);if(o==null)return null;let a=yA(t);eR(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let d=hR(o);u=uR(a[h],d,i)}return u}function yA(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let d=Ji([i,h.relativePath]),_=n.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),yA(o.children,e,_,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:aR(d,o.index),routesMeta:_})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let h of wA(o.path))r(o,a,h)}),e}function wA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=wA(i.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function eR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const tR=/^:[\w-]+$/,nR=3,iR=2,rR=1,sR=10,oR=-2,hy=t=>t==="*";function aR(t,e){let n=t.split("/"),i=n.length;return n.some(hy)&&(i+=oR),e&&(i+=iR),n.filter(r=>!hy(r)).reduce((r,o)=>r+(tR.test(o)?nR:o===""?rR:sR),i)}function lR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function uR(t,e,n){let{routesMeta:i}=t,r={},o="/",a=[];for(let u=0;u<i.length;++u){let h=i[u],d=u===i.length-1,_=o==="/"?e:e.slice(o.length)||"/",m=dy({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},_),v=h.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=dy({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:Ji([o,m.pathname]),pathnameBase:mR(Ji([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=Ji([o,m.pathnameBase]))}return a}function dy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=cR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,_,m)=>{let{paramName:v,isOptional:E}=_;if(v==="*"){let T=u[m]||"";a=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[m];return E&&!w?d[v]=void 0:d[v]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function cR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function hR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function dR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?es(t):t;return{pathname:n?n.startsWith("/")?n:fR(n,e):e,search:gR(i),hash:_R(r)}}function fR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Id(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nm(t,e){let n=pR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function bm(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=es(t):(r=ja({},t),Ze(!r.pathname||!r.pathname.includes("?"),Id("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),Id("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),Id("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,u;if(a==null)u=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}u=m>=0?e[m]:"/"}let h=dR(r,u),d=a&&a!=="/"&&a.endsWith("/"),_=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||_)&&(h.pathname+="/"),h}const Ji=t=>t.join("/").replace(/\/\/+/g,"/"),mR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EA=["post","put","patch","delete"];new Set(EA);const yR=["get",...EA];new Set(yR);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ba.apply(this,arguments)}const Lm=A.createContext(null),wR=A.createContext(null),fr=A.createContext(null),$c=A.createContext(null),gi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),AA=A.createContext(null);function ER(t,e){let{relative:n}=e===void 0?{}:e;uo()||Ze(!1);let{basename:i,navigator:r}=A.useContext(fr),{hash:o,pathname:a,search:u}=SA(t,{relative:n}),h=a;return i!=="/"&&(h=a==="/"?i:Ji([i,a])),r.createHref({pathname:h,search:u,hash:o})}function uo(){return A.useContext($c)!=null}function _i(){return uo()||Ze(!1),A.useContext($c).location}function CA(t){A.useContext(fr).static||A.useLayoutEffect(t)}function Sn(){let{isDataRoute:t}=A.useContext(gi);return t?MR():AR()}function AR(){uo()||Ze(!1);let t=A.useContext(Lm),{basename:e,future:n,navigator:i}=A.useContext(fr),{matches:r}=A.useContext(gi),{pathname:o}=_i(),a=JSON.stringify(Nm(r,n.v7_relativeSplatPath)),u=A.useRef(!1);return CA(()=>{u.current=!0}),A.useCallback(function(d,_){if(_===void 0&&(_={}),!u.current)return;if(typeof d=="number"){i.go(d);return}let m=bm(d,JSON.parse(a),o,_.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ji([e,m.pathname])),(_.replace?i.replace:i.push)(m,_.state,_)},[e,i,a,o,t])}function CR(){let{matches:t}=A.useContext(gi),e=t[t.length-1];return e?e.params:{}}function SA(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=A.useContext(fr),{matches:r}=A.useContext(gi),{pathname:o}=_i(),a=JSON.stringify(Nm(r,i.v7_relativeSplatPath));return A.useMemo(()=>bm(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function SR(t,e){return xR(t,e)}function xR(t,e,n,i){uo()||Ze(!1);let{navigator:r}=A.useContext(fr),{matches:o}=A.useContext(gi),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let d=_i(),_;if(e){var m;let k=typeof e=="string"?es(e):e;h==="/"||(m=k.pathname)!=null&&m.startsWith(h)||Ze(!1),_=k}else _=d;let v=_.pathname||"/",E=v;if(h!=="/"){let k=h.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=XP(t,{pathname:E}),T=RR(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Ji([h,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Ji([h,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,i);return e&&T?A.createElement($c.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Hi.Pop}},T):T}function TR(){let t=OR(),e=vR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:r},n):null,null)}const IR=A.createElement(TR,null);class kR extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(gi.Provider,{value:this.props.routeContext},A.createElement(AA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PR(t){let{routeContext:e,match:n,children:i}=t,r=A.useContext(Lm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(gi.Provider,{value:e},i)}function RR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,u=(r=n)==null?void 0:r.errors;if(u!=null){let _=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);_>=0||Ze(!1),a=a.slice(0,Math.min(a.length,_+1))}let h=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let _=0;_<a.length;_++){let m=a[_];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=_),m.route.id){let{loaderData:v,errors:E}=n,w=m.route.loader&&v[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((_,m,v)=>{let E,w=!1,T=null,k=null;n&&(E=u&&m.route.id?u[m.route.id]:void 0,T=m.route.errorElement||IR,h&&(d<0&&v===0?(w=!0,k=null):d===v&&(w=!0,k=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),C=()=>{let x;return E?x=T:w?x=k:m.route.Component?x=A.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=_,A.createElement(PR,{match:m,routeContext:{outlet:_,matches:S,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?A.createElement(kR,{location:n.location,revalidation:n.revalidation,component:T,error:E,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var xA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xA||{}),sc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sc||{});function NR(t){let e=A.useContext(Lm);return e||Ze(!1),e}function bR(t){let e=A.useContext(wR);return e||Ze(!1),e}function LR(t){let e=A.useContext(gi);return e||Ze(!1),e}function TA(t){let e=LR(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function OR(){var t;let e=A.useContext(AA),n=bR(sc.UseRouteError),i=TA(sc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function MR(){let{router:t}=NR(xA.UseNavigateStable),e=TA(sc.UseNavigateStable),n=A.useRef(!1);return CA(()=>{n.current=!0}),A.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ba({fromRouteId:e},o)))},[t,e])}function Jn(t){let{to:e,replace:n,state:i,relative:r}=t;uo()||Ze(!1);let{future:o,static:a}=A.useContext(fr),{matches:u}=A.useContext(gi),{pathname:h}=_i(),d=Sn(),_=bm(e,Nm(u,o.v7_relativeSplatPath),h,r==="path"),m=JSON.stringify(_);return A.useEffect(()=>d(JSON.parse(m),{replace:n,state:i,relative:r}),[d,m,r,n,i]),null}function Se(t){Ze(!1)}function DR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Hi.Pop,navigator:o,static:a=!1,future:u}=t;uo()&&Ze(!1);let h=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:h,navigator:o,static:a,future:Ba({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof i=="string"&&(i=es(i));let{pathname:_="/",search:m="",hash:v="",state:E=null,key:w="default"}=i,T=A.useMemo(()=>{let k=Rm(_,h);return k==null?null:{location:{pathname:k,search:m,hash:v,state:E,key:w},navigationType:r}},[h,_,m,v,E,w,r]);return T==null?null:A.createElement(fr.Provider,{value:d},A.createElement($c.Provider,{children:n,value:T}))}function Xc(t){let{children:e,location:n}=t;return SR(qf(e),n)}new Promise(()=>{});function qf(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(i,r)=>{if(!A.isValidElement(i))return;let o=[...e,r];if(i.type===A.Fragment){n.push.apply(n,qf(i.props.children,o));return}i.type!==Se&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=qf(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yf.apply(this,arguments)}function jR(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FR(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}const UR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],zR="6";try{window.__reactRouterVersion=zR}catch{}const WR="startTransition",fy=BI[WR];function HR(t){let{basename:e,children:n,future:i,window:r}=t,o=A.useRef();o.current==null&&(o.current=qP({window:r,v5Compat:!0}));let a=o.current,[u,h]=A.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},_=A.useCallback(m=>{d&&fy?fy(()=>h(m)):h(m)},[h,d]);return A.useLayoutEffect(()=>a.listen(_),[a,_]),A.createElement(DR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:i})}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=A.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:u,target:h,to:d,preventScrollReset:_,unstable_viewTransition:m}=e,v=jR(e,UR),{basename:E}=A.useContext(fr),w,T=!1;if(typeof d=="string"&&ZR.test(d)&&(w=d,VR))try{let x=new URL(window.location.href),R=d.startsWith("//")?new URL(x.protocol+d):new URL(d),M=Rm(R.pathname,E);R.origin===x.origin&&M!=null?d=M+R.search+R.hash:T=!0}catch{}let k=ER(d,{relative:r}),S=KR(d,{replace:a,state:u,target:h,preventScrollReset:_,relative:r,unstable_viewTransition:m});function C(x){i&&i(x),x.defaultPrevented||S(x)}return A.createElement("a",Yf({},v,{href:w||k,onClick:T||o?i:C,ref:n,target:h}))});var py;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(py||(py={}));var my;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(my||(my={}));function KR(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,h=Sn(),d=_i(),_=SA(t,{relative:a});return A.useCallback(m=>{if(FR(m,n)){m.preventDefault();let v=i!==void 0?i:rc(d)===rc(_);h(t,{replace:v,state:r,preventScrollReset:o,relative:a,unstable_viewTransition:u})}},[d,h,_,i,r,n,t,o,a,u])}var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw co(e)},co=function(t){return new Error("Firebase Database ("+IA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},GR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Om={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,u=a?t[r+1]:0,h=r+2<t.length,d=h?t[r+2]:0,_=o>>2,m=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;h||(E=64,a||(v=64)),i.push(n[_],n[m],n[v],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||d==null||m==null)throw new QR;const v=o<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),m!==64){const w=d<<6&192|m;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(t){const e=kA(t);return Om.encodeByteArray(e,!0)},oc=function(t){return PA(t).replace(/\./g,"")},ac=function(t){try{return Om.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){return RA(void 0,t)}function RA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!YR(n)||(t[n]=RA(t[n],e[n]));return t}function YR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=()=>$R().__FIREBASE_DEFAULTS__,JR=()=>{if(typeof process>"u"||typeof gy>"u")return;const t=gy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ac(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return XR()||JR()||eN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NA=t=>{var e,n;return(n=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bA=t=>{const e=NA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},LA=()=>{var t;return(t=Mm())===null||t===void 0?void 0:t.config},OA=t=>{var e;return(e=Mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oc(JSON.stringify(n)),oc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function tN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nN(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jA(){return IA.NODE_ADMIN===!0}function iN(){try{return typeof indexedDB=="object"}catch{return!1}}function rN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="FirebaseError";class vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sN,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sl.prototype.create)}}class sl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?oN(o,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new vi(r,u,i)}}function oN(t,e){return t.replace(aN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const aN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return JSON.parse(t)}function et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Fa(ac(o[0])||""),n=Fa(ac(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},lN=function(t){const e=BA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uN=function(t){const e=BA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $f(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lc(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function uc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(_y(o)&&_y(a)){if(!uc(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function _y(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const v=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],h=this.chain_[4],d,_;for(let m=0;m<80;m++){m<40?m<20?(d=u^o&(a^u),_=1518500249):(d=o^a^u,_=1859775393):m<60?(d=o&a|u&(o|a),_=2400959708):(d=o^a^u,_=3395469782);const v=(r<<5|r>>>27)+d+h+_+i[m]&4294967295;h=u,u=a,a=(o<<30|o>>>2)&4294967295,o=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<n;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function hN(t,e){const n=new dN(t,e);return n.subscribe.bind(n)}class dN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=kd),r.error===void 0&&(r.error=kd),r.complete===void 0&&(r.complete=kd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kd(){}function Jc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,z(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;r=65536+(o<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},eh=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class or{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rl;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gN(t){return t===Sr?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const yN={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},wN=Ee.INFO,EN={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},AN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=EN[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=wN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const CN=(t,e)=>e.some(n=>t instanceof n);let vy,yy;function SN(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xN(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,Xf=new WeakMap,UA=new WeakMap,Pd=new WeakMap,Bm=new WeakMap;function TN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(er(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&FA.set(n,t)}).catch(()=>{}),Bm.set(e,t),e}function IN(t){if(Xf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Xf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kN(t){Jf=t(Jf)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Rd(this),e,...n);return UA.set(i,e.sort?e.sort():[e]),er(i)}:xN().includes(t)?function(...e){return t.apply(Rd(this),e),er(FA.get(this))}:function(...e){return er(t.apply(Rd(this),e))}}function RN(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&IN(t),CN(t,SN())?new Proxy(t,Jf):t)}function er(t){if(t instanceof IDBRequest)return TN(t);if(Pd.has(t))return Pd.get(t);const e=RN(t);return e!==t&&(Pd.set(t,e),Bm.set(e,t)),e}const Rd=t=>Bm.get(t);function NN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=er(a);return i&&a.addEventListener("upgradeneeded",h=>{i(er(a.result),h.oldVersion,h.newVersion,er(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const bN=["get","getKey","getAll","getAllKeys","count"],LN=["put","add","delete","clear"],Nd=new Map;function wy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=LN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bN.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,r?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&h.done]))[0]};return Nd.set(e,o),o}kN(t=>({...t,get:(e,n,i)=>wy(e,n)||t.get(e,n,i),has:(e,n)=>!!wy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",Ey="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new jm("@firebase/app"),DN="@firebase/app-compat",jN="@firebase/analytics-compat",BN="@firebase/analytics",FN="@firebase/app-check-compat",UN="@firebase/app-check",zN="@firebase/auth",WN="@firebase/auth-compat",HN="@firebase/database",VN="@firebase/database-compat",ZN="@firebase/functions",KN="@firebase/functions-compat",GN="@firebase/installations",QN="@firebase/installations-compat",qN="@firebase/messaging",YN="@firebase/messaging-compat",$N="@firebase/performance",XN="@firebase/performance-compat",JN="@firebase/remote-config",eb="@firebase/remote-config-compat",tb="@firebase/storage",nb="@firebase/storage-compat",ib="@firebase/firestore",rb="@firebase/vertexai-preview",sb="@firebase/firestore-compat",ob="firebase",ab="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",lb={[ep]:"fire-core",[DN]:"fire-core-compat",[BN]:"fire-analytics",[jN]:"fire-analytics-compat",[UN]:"fire-app-check",[FN]:"fire-app-check-compat",[zN]:"fire-auth",[WN]:"fire-auth-compat",[HN]:"fire-rtdb",[VN]:"fire-rtdb-compat",[ZN]:"fire-fn",[KN]:"fire-fn-compat",[GN]:"fire-iid",[QN]:"fire-iid-compat",[qN]:"fire-fcm",[YN]:"fire-fcm-compat",[$N]:"fire-perf",[XN]:"fire-perf-compat",[JN]:"fire-rc",[eb]:"fire-rc-compat",[tb]:"fire-gcs",[nb]:"fire-gcs-compat",[ib]:"fire-fst",[sb]:"fire-fst-compat",[rb]:"fire-vertex","fire-js":"fire-js",[ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,ub=new Map,np=new Map;function Ay(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(np.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of cc.values())Ay(n,t);for(const n of ub.values())Ay(n,t);return!0}function th(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new sl("app","Firebase",cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=ab;function zA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw tr.create("bad-app-name",{appName:String(r)});if(n||(n=LA()),!n)throw tr.create("no-options");const o=cc.get(r);if(o){if(uc(n,o.options)&&uc(i,o.config))return o;throw tr.create("duplicate-app",{appName:r})}const a=new vN(r);for(const h of np.values())a.addComponent(h);const u=new hb(n,i,a);return cc.set(r,u),u}function Fm(t=tp){const e=cc.get(t);if(!e&&t===tp&&LA())return zA();if(!e)throw tr.create("no-app",{appName:t});return e}function Fn(t,e,n){var i;let r=(i=lb[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(u.join(" "));return}Vr(new or(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebase-heartbeat-database",fb=1,Ua="firebase-heartbeat-store";let bd=null;function WA(){return bd||(bd=NN(db,fb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw tr.create("idb-open",{originalErrorMessage:t.message})})),bd}async function pb(t){try{const n=(await WA()).transaction(Ua),i=await n.objectStore(Ua).get(HA(t));return await n.done,i}catch(e){if(e instanceof vi)Hr.warn(e.message);else{const n=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function Cy(t,e){try{const i=(await WA()).transaction(Ua,"readwrite");await i.objectStore(Ua).put(e,HA(t)),await i.done}catch(n){if(n instanceof vi)Hr.warn(n.message);else{const i=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(i.message)}}}function HA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=1024,gb=30*24*60*60*1e3;class _b{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=gb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sy(),{heartbeatsToSend:i,unsentEntries:r}=vb(this._heartbeatsCache.heartbeats),o=oc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Sy(){return new Date().toISOString().substring(0,10)}function vb(t,e=mb){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),xy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iN()?rN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xy(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){Vr(new or("platform-logger",e=>new ON(e),"PRIVATE")),Vr(new or("heartbeat",e=>new _b(e),"PRIVATE")),Fn(ep,Ey,t),Fn(ep,Ey,"esm2017"),Fn("fire-js","")}wb("");function Um(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Eb=VA,ZA=new sl("auth","Firebase",VA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new jm("@firebase/auth");function Ab(t,...e){hc.logLevel<=Ee.WARN&&hc.warn(`Auth (${ts}): ${t}`,...e)}function Iu(t,...e){hc.logLevel<=Ee.ERROR&&hc.error(`Auth (${ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw zm(t,...e)}function Un(t,...e){return zm(t,...e)}function KA(t,e,n){const i=Object.assign(Object.assign({},Eb()),{[e]:n});return new sl("auth","Firebase",i).create(e,{appName:t.name})}function ai(t){return KA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ZA.create(t,...e)}function $(t,e,...n){if(!t)throw zm(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function fi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Cb(){return Ty()==="http:"||Ty()==="https:"}function Ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cb()||tN()||"connection"in navigator)?navigator.onLine:!0}function xb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Dm()||DA()}get(){return Sb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new ol(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hn(t,e,n,i,r={}){return QA(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=ho(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),GA.fetch()(qA(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function QA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Tb),e);try{const r=new Pb(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw au(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw au(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw au(t,"user-disabled",a);const _=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw KA(t,_,d);An(t,_)}}catch(r){if(r instanceof vi)throw r;An(t,"network-request-failed",{message:String(r)})}}async function al(t,e,n,i,r={}){const o=await Hn(t,e,n,i,r);return"mfaPendingCredential"in o&&An(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qA(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Wm(t.config,r):`${t.config.apiScheme}://${r}`}function kb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),Ib.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function au(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Un(t,e,i);return r.customData._tokenResponse=n,r}function Iy(t){return t!==void 0&&t.enterprise!==void 0}class Rb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Nb(t,e){return Hn(t,"GET","/v2/recaptchaConfig",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e){return Hn(t,"POST","/v1/accounts:delete",e)}async function YA(t,e){return Hn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lb(t,e=!1){const n=Ke(t),i=await n.getIdToken(e),r=Hm(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:fa(Ld(r.auth_time)),issuedAtTime:fa(Ld(r.iat)),expirationTime:fa(Ld(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ld(t){return Number(t)*1e3}function Hm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Iu("JWT malformed, contained fewer than 3 sections"),null;try{const r=ac(n);return r?JSON.parse(r):(Iu("Failed to decode base64 JWT payload"),null)}catch(r){return Iu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function ky(t){const e=Hm(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vi&&Ob(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Ob({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await eo(t,YA(n,{idToken:i}));$(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$A(o.providerUserInfo):[],u=jb(t.providerData,a),h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),_=h?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(t,m)}async function Db(t){const e=Ke(t);await dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jb(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function $A(t){return t.map(e=>{var{providerId:n}=e,i=Um(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e){const n=await QA(t,{},async()=>{const i=ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=qA(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",GA.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fb(t,e){return Hn(t,"POST","/v2/accounts:revokeToken",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ky(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");const n=ky(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await Bb(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new zs;return i&&($(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&($(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eo(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lb(this,e)}reload(){return Db(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await dc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await eo(this,bb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,u,h,d,_;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,T=(u=n.tenantId)!==null&&u!==void 0?u:void 0,k=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,S=(d=n.createdAt)!==null&&d!==void 0?d:void 0,C=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:x,emailVerified:R,isAnonymous:M,providerData:j,stsTokenManager:F}=n;$(x&&F,e,"internal-error");const W=zs.fromJSON(this.name,F);$(typeof x=="string",e,"internal-error"),Pi(m,e.name),Pi(v,e.name),$(typeof R=="boolean",e,"internal-error"),$(typeof M=="boolean",e,"internal-error"),Pi(E,e.name),Pi(w,e.name),Pi(T,e.name),Pi(k,e.name),Pi(S,e.name),Pi(C,e.name);const re=new ii({uid:x,auth:e,email:v,emailVerified:R,displayName:m,isAnonymous:M,photoURL:w,phoneNumber:E,tenantId:T,stsTokenManager:W,createdAt:S,lastLoginAt:C});return j&&Array.isArray(j)&&(re.providerData=j.map(G=>Object.assign({},G))),k&&(re._redirectEventId=k),re}static async _fromIdTokenResponse(e,n,i=!1){const r=new zs;r.updateFromServerResponse(n);const o=new ii({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await dc(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?$A(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new zs;u.updateFromIdToken(i);const h=new ii({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new rp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;function ri(t){fi(t instanceof Function,"Expected a class definition");let e=Py.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Py.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XA.type="NONE";const Ry=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Ws{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ku(this.userKey,r.apiKey,o),this.fullPersistenceKey=ku("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ws(ri(Ry),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||ri(Ry);const a=ku(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const _=await d._get(a);if(_){const m=ii._fromJSON(e,_);d!==o&&(u=m),o=d;break}}catch{}const h=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ws(o,e,i):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Ws(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iC(e))return"Blackberry";if(rC(e))return"Webos";if(Vm(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function JA(t=Et()){return/firefox\//i.test(t)}function Vm(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(t=Et()){return/crios\//i.test(t)}function tC(t=Et()){return/iemobile/i.test(t)}function nC(t=Et()){return/android/i.test(t)}function iC(t=Et()){return/blackberry/i.test(t)}function rC(t=Et()){return/webos/i.test(t)}function nh(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ub(t=Et()){var e;return nh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zb(){return nN()&&document.documentMode===10}function sC(t=Et()){return nh(t)||nC(t)||rC(t)||iC(t)||/windows phone/i.test(t)||tC(t)}function Wb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e=[]){let n;switch(t){case"Browser":n=Ny(Et());break;case"Worker":n=`${Ny(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e={}){return Hn(t,"GET","/v2/passwordPolicy",yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=6;class Kb{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Zb,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new by(this),this.idTokenSubscription=new by(this),this.beforeStateQueue=new Hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YA(this,{idToken:e}),i=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(ai(this));const n=e?Ke(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vb(this),n=new Kb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Fb(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ab(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pr(t){return Ke(t)}class by{constructor(e){this.auth=e,this.observer=null,this.addObserver=hN(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qb(t){ih=t}function aC(t){return ih.loadJS(t)}function qb(){return ih.recaptchaEnterpriseScript}function Yb(){return ih.gapiScript}function $b(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Xb="recaptcha-enterprise",Jb="NO_RECAPTCHA";class e1{constructor(e){this.type=Xb,this.auth=pr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{Nb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new Rb(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(h=>{u(h)})})}function r(o,a,u){const h=window.grecaptcha;Iy(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(Jb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!n&&Iy(window.grecaptcha))r(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=qb();h.length!==0&&(h+=u),aC(h).then(()=>{r(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function Ly(t,e,n,i=!1){const r=new e1(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fc(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ly(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ly(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e){const n=th(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(uc(o,e??{}))return r;An(r,"already-initialized")}return n.initialize({options:e})}function n1(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function i1(t,e,n){const i=pr(t);$(i._canInitEmulator,i,"emulator-config-failed"),$(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=lC(e),{host:a,port:u}=r1(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),s1()}function lC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r1(t){const e=lC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Oy(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:Oy(a)}}}function Oy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function o1(t,e){return Hn(t,"POST","/v1/accounts:update",e)}async function a1(t,e){return Hn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",yi(t,e))}async function u1(t,e){return Hn(t,"POST","/v1/accounts:sendOobCode",yi(t,e))}async function c1(t,e){return u1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}async function d1(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Zm{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new za(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new za(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,n,"signInWithPassword",l1);case"emailLink":return h1(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fc(e,i,"signUpPassword",a1);case"emailLink":return d1(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="http://localhost";class Zr extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Um(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Zr(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:f1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m1(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,i=ta(na(t)).deep_link_id;return(i?ta(na(i)).link:null)||i||n||e||t}class Km{constructor(e){var n,i,r,o,a,u;const h=ta(na(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,_=(i=h.oobCode)!==null&&i!==void 0?i:null,m=p1((r=h.mode)!==null&&r!==void 0?r:null);$(d&&_&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=_,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=m1(e);try{return new Km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Km.parseLink(n);return $(i,"argument-error"),za._fromEmailAndCode(e,i.code,i.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends uC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ll{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.FACEBOOK_SIGN_IN_METHOD="facebook.com";Di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ji.credential(n,i)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ll{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ll{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t,e){return al(t,"POST","/v1/accounts:signUp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await ii._fromIdTokenResponse(e,i,r),a=My(i);return new Kr({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=My(i);return new Kr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function My(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends vi{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new pc(e,n,i,r)}}function cC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,o,e,i):o})}async function _1(t,e,n=!1){const i=await eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e,n=!1){const{auth:i}=t;if(Mn(i.app))return Promise.reject(ai(i));const r="reauthenticate";try{const o=await eo(t,cC(i,r,e,t),n);$(o.idToken,i,"internal-error");const a=Hm(o.idToken);$(a,i,"internal-error");const{sub:u}=a;return $(t.uid===u,i,"user-mismatch"),Kr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&An(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(t,e,n=!1){if(Mn(t.app))return Promise.reject(ai(t));const i="signIn",r=await cC(t,i,e),o=await Kr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function y1(t,e){return hC(pr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t){const e=pr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function w1(t,e,n){const i=pr(t);await fc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",c1)}async function E1(t,e,n){if(Mn(t.app))return Promise.reject(ai(t));const i=pr(t),a=await fc(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g1).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&dC(t),h}),u=await Kr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function A1(t,e,n){return Mn(t.app)?Promise.reject(ai(t)):y1(Ke(t),fo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&dC(t),i})}function C1(t,e){return S1(Ke(t),null,e)}async function S1(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await eo(t,o1(i,o));await t._updateTokensIfNecessary(a,!0)}function x1(t,e,n,i){return Ke(t).onIdTokenChanged(e,n,i)}function T1(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function I1(t,e,n,i){return Ke(t).onAuthStateChanged(e,n,i)}function k1(t){return Ke(t).signOut()}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){const t=Et();return Vm(t)||nh(t)}const R1=1e3,N1=10;class pC extends fC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=P1()&&Wb(),this.fallbackToPolling=sC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);zb()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,N1):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},R1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pC.type="LOCAL";const b1=pC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends fC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mC.type="SESSION";const gC=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new rh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async d=>d(n.origin,o)),h=await L1(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const d=Gm("",20);r.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(_),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function M1(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function D1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function B1(){return _C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebaseLocalStorageDb",F1=1,gc="firebaseLocalStorage",yC="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function U1(){const t=indexedDB.deleteDatabase(vC);return new ul(t).toPromise()}function sp(){const t=indexedDB.open(vC,F1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gc,{keyPath:yC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gc)?e(i):(i.close(),await U1(),e(await sp()))})})}async function Dy(t,e,n){const i=sh(t,!0).put({[yC]:e,value:n});return new ul(i).toPromise()}async function z1(t,e){const n=sh(t,!1).get(e),i=await new ul(n).toPromise();return i===void 0?null:i.value}function jy(t,e){const n=sh(t,!0).delete(e);return new ul(n).toPromise()}const W1=800,H1=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>H1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(B1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D1(),!this.activeServiceWorker)return;this.sender=new O1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await Dy(e,mc,"1"),await jy(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>z1(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=sh(r,!1).getAll();return new ul(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const V1=wC;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){return e?ri(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K1(t){return hC(t.auth,new Qm(t),t.bypassAuthState)}function G1(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),v1(n,new Qm(t),t.bypassAuthState)}async function Q1(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),_1(n,new Qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K1;case"linkViaPopup":case"linkViaRedirect":return Q1;case"reauthViaPopup":case"reauthViaRedirect":return G1;default:An(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new ol(2e3,1e4);class bs extends EC{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q1.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="pendingRedirect",Pu=new Map;class $1 extends EC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const i=await X1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X1(t,e){const n=tL(e),i=eL(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function J1(t,e){Pu.set(t._key(),e)}function eL(t){return ri(t._redirectPersistence)}function tL(t){return ku(Y1,t.config.apiKey,t.name)}async function nL(t,e,n=!1){if(Mn(t.app))return Promise.reject(ai(t));const i=pr(t),r=Z1(i,e),a=await new $1(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=10*60*1e3;class rL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!AC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iL&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e={}){return Hn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lL=/^https?/;async function uL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oL(t);for(const n of e)try{if(cL(n))return}catch{}An(t,"unauthorized-domain")}function cL(t){const e=ip(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!lL.test(n))return!1;if(aL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new ol(3e4,6e4);function Fy(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dL(t){return new Promise((e,n)=>{var i,r,o;function a(){Fy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fy(),n(Un(t,"network-request-failed"))},timeout:hL.get()})}if(!((r=(i=zn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)a();else{const u=$b("iframefcb");return zn()[u]=()=>{gapi.load?a():n(Un(t,"network-request-failed"))},aC(`${Yb()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function fL(t){return Ru=Ru||dL(t),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new ol(5e3,15e3),mL="__/auth/iframe",gL="emulator/auth/iframe",_L={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yL(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wm(e,gL):`https://${t.config.authDomain}/${mL}`,i={apiKey:e.apiKey,appName:t.name,v:ts},r=vL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ho(i).slice(1)}`}async function wL(t){const e=await fL(t),n=zn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:yL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_L,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=Un(t,"network-request-failed"),u=zn().setTimeout(()=>{o(a)},pL.get());function h(){zn().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AL=500,CL=600,SL="_blank",xL="http://localhost";class Uy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TL(t,e,n,i=AL,r=CL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},EL),{width:i.toString(),height:r.toString(),top:o,left:a}),d=Et().toLowerCase();n&&(u=eC(d)?SL:n),JA(d)&&(e=e||xL,h.scrollbars="yes");const _=Object.entries(h).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(Ub(d)&&u!=="_self")return IL(e||"",u),new Uy(null);const m=window.open(e||"",u,_);$(m,t,"popup-blocked");try{m.focus()}catch{}return new Uy(m)}function IL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="__/auth/handler",PL="emulator/auth/handler",RL=encodeURIComponent("fac");async function zy(t,e,n,i,r,o){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ts,eventId:r};if(e instanceof uC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$f(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,m]of Object.entries({}))a[_]=m}if(e instanceof ll){const _=e.getScopes().filter(m=>m!=="");_.length>0&&(a.scopes=_.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const _ of Object.keys(u))u[_]===void 0&&delete u[_];const h=await t._getAppCheckToken(),d=h?`#${RL}=${encodeURIComponent(h)}`:"";return`${NL(t)}?${ho(u).slice(1)}${d}`}function NL({config:t}){return t.emulator?Wm(t,PL):`https://${t.authDomain}/${kL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="webStorageSupport";class bL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=nL,this._overrideRedirectResult=J1}async _openPopup(e,n,i,r){var o;fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await zy(e,n,i,ip(),r);return TL(e,a,Gm())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await zy(e,n,i,ip(),r);return M1(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(fi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wL(e),i=new rL(e);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Od,{type:Od},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Od];a!==void 0&&n(!!a),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sC()||Vm()||nh()}}const LL=bL;var Wy="@firebase/auth",Hy="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DL(t){Vr(new or("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(t)},d=new Gb(i,r,o,h);return n1(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Vr(new or("auth-internal",e=>{const n=pr(e.getProvider("auth").getImmediate());return(i=>new OL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(Wy,Hy,ML(t)),Fn(Wy,Hy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=5*60,BL=OA("authIdTokenMaxAge")||jL;let Vy=null;const FL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>BL)return;const r=n==null?void 0:n.token;Vy!==r&&(Vy=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function qm(t=Fm()){const e=th(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t1(t,{popupRedirectResolver:LL,persistence:[V1,b1,gC]}),i=OA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=FL(o.toString());T1(n,a,()=>a(n.currentUser)),x1(n,u=>a(u))}}const r=NA("auth");return r&&i1(n,`http://${r}`),n}function UL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qb({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Un("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",UL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DL("Browser");var Zy={};const Ky="@firebase/database",Gy="1.0.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CC="";function zL(t){CC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WL(e)}}catch{}return new HL},Nr=SC("localStorage"),VL=SC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new jm("@firebase/database"),ZL=function(){let t=1;return function(){return t++}}(),xC=function(t){const e=pN(t),n=new cN;n.update(e);const i=n.digest();return Om.encodeByteArray(i)},cl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=cl.apply(null,i):typeof i=="object"?e+=et(i):e+=i,e+=" "}return e};let pa=null,Qy=!0;const KL=function(t,e){z(!e,"Can't turn on custom loggers persistently."),Vs.logLevel=Ee.VERBOSE,pa=Vs.log.bind(Vs)},ct=function(...t){if(Qy===!0&&(Qy=!1,pa===null&&VL.get("logging_enabled")===!0&&KL()),pa){const e=cl.apply(null,t);pa(e)}},hl=function(t){return function(...e){ct(t,...e)}},op=function(...t){const e="FIREBASE INTERNAL ERROR: "+cl(...t);Vs.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${cl(...t)}`;throw Vs.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+cl(...t);Vs.warn(e)},GL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ym=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},to="[MIN_NAME]",Gr="[MAX_NAME]",ns=function(t,e){if(t===e)return 0;if(t===to||e===Gr)return-1;if(e===to||t===Gr)return 1;{const n=qy(t),i=qy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},qL=function(t,e){return t===e?0:t<e?-1:1},Vo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+et(e))},$m=function(t){if(typeof t!="object"||t===null)return et(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=et(e[i]),n+=":",n+=$m(t[e[i]]);return n+="}",n},TC=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IC=function(t){z(!Ym(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,a,u,h;t===0?(o=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-i-n))));const d=[];for(h=n;h;h-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const _=d.join("");let m="";for(h=0;h<64;h+=8){let v=parseInt(_.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),m=m+v}return m.toLowerCase()},YL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$L=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const JL=new RegExp("^-?(0*)\\d{1,10}$"),eO=-2147483648,tO=2147483647,qy=function(t){if(JL.test(t)){const e=Number(t);if(e>=eO&&e<=tO)return e}return null},po=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},nO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ma=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class Nu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="5",kC="v",PC="s",RC="r",NC="f",bC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LC="ls",OC="p",ap="ac",MC="websocket",DC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,i,r,o=!1,a="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function BC(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let i;if(e===MC)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DC)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sO(t)&&(n.ns=t.namespace);const r=[];return ft(n,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.counters_={}}incrementCounter(e,n=1){Wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return qR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md={},Dd={};function Jm(t){const e=t.toString();return Md[e]||(Md[e]=new oO),Md[e]}function aO(t,e){const n=t.toString();return Dd[n]||(Dd[n]=e()),Dd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&po(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="start",uO="close",cO="pLPCommand",hO="pRTLPCB",FC="id",UC="pw",zC="ser",dO="cb",fO="seg",pO="ts",mO="d",gO="dframe",WC=1870,HC=30,_O=WC-HC,vO=25e3,yO=3e4;class Ls{constructor(e,n,i,r,o,a,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hl(e),this.stats_=Jm(n),this.urlFn=h=>(this.appCheckToken&&(h[ap]=this.appCheckToken),BC(n,DC,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yO)),QL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eg((...o)=>{const[a,u,h,d,_]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Yy)this.id=u,this.password=h;else if(a===uO)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[Yy]="t",i[zC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[dO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[kC]=Xm,this.transportSessionId&&(i[PC]=this.transportSessionId),this.lastSessionId&&(i[LC]=this.lastSessionId),this.applicationId&&(i[OC]=this.applicationId),this.appCheckToken&&(i[ap]=this.appCheckToken),typeof location<"u"&&location.hostname&&bC.test(location.hostname)&&(i[RC]=NC);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ls.forceAllow_=!0}static forceDisallow(){Ls.forceDisallow_=!0}static isAvailable(){return Ls.forceAllow_?!0:!Ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!YL()&&!$L()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=PA(n),r=TC(i,_O);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[gO]="t",i[FC]=e,i[UC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class eg{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZL(),window[cO+this.uniqueCallbackIdentifier]=e,window[hO+this.uniqueCallbackIdentifier]=n,this.myIFrame=eg.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){ct("frame writing exception"),u.stack&&ct(u.stack),ct(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ct("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FC]=this.myID,e[UC]=this.myPW,e[zC]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+HC+i.length<=WC;){const a=this.pendingSegs.shift();i=i+"&"+fO+r+"="+a.seg+"&"+pO+r+"="+a.ts+"&"+mO+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(vO)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ct("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=16384,EO=45e3;let _c=null;typeof MozWebSocket<"u"?_c=MozWebSocket:typeof WebSocket<"u"&&(_c=WebSocket);class mn{constructor(e,n,i,r,o,a,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hl(this.connId),this.stats_=Jm(n),this.connURL=mn.connectionURL_(n,a,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const a={};return a[kC]=Xm,typeof location<"u"&&location.hostname&&bC.test(location.hostname)&&(a[RC]=NC),n&&(a[PC]=n),i&&(a[LC]=i),r&&(a[ap]=r),o&&(a[OC]=o),BC(e,MC,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nr.set("previous_websocket_failure",!0);try{let i;jA(),this.mySock=new _c(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&_c!==null&&!mn.forceDisallow_}static previouslyFailed(){return Nr.isInMemoryStorage||Nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Nr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Fa(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=TC(n,wO);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(EO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ls,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=mn&&mn.isAvailable();let i=n&&!mn.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mn];else{const r=this.transports_=[];for(const o of Wa.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=6e4,CO=5e3,SO=10*1024,xO=100*1024,jd="t",$y="d",TO="s",Xy="r",IO="e",Jy="o",ew="a",tw="n",nw="p",kO="h";class PO{constructor(e,n,i,r,o,a,u,h,d,_){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=d,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hl("c:"+this.id+":"),this.transportManager_=new Wa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jd in e){const n=e[jd];n===ew?this.upgradeIfSecondaryHealthy_():n===Xy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Jy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vo("t",e),i=Vo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ew,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vo("t",e),i=Vo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vo(jd,e);if($y in e){const i=e[$y];if(n===kO){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===tw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TO?this.onConnectionShutdown_(i):n===Xy?this.onReset_(i):n===IO?op("Server Error: "+i):n===Jy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):op("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xm!==i&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(AO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends ZC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vc}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=32,rw=768;class Ae{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new Ae("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ar(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ae(t.pieces_,e)}function tg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function RO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ha(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function KC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ae(e,0)}function Fe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ae)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ae(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){const n=ae(t),i=ae(e);if(n===null)return e;if(n===i)return xt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function NO(t,e){const n=Ha(t,0),i=Ha(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=ns(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function ng(t,e){if(ar(t)!==ar(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ar(t)>ar(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class bO{constructor(e,n){this.errorPrefix_=n,this.parts_=Ha(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=eh(this.parts_[i]);GC(this)}}function LO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=eh(e),GC(t)}function OO(t){const e=t.parts_.pop();t.byteLength_-=eh(e),t.parts_.length>0&&(t.byteLength_-=1)}function GC(t){if(t.byteLength_>rw)throw new Error(t.errorPrefix_+"has a key path longer than "+rw+" bytes ("+t.byteLength_+").");if(t.parts_.length>iw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+iw+") or object contains a cycle "+xr(t))}function xr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends ZC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ig}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=1e3,MO=60*5*1e3,sw=30*1e3,DO=1.3,jO=3e4,BO="server_kill",ow=3;class li extends VC{constructor(e,n,i,r,o,a,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=li.nextPersistentConnectionId_++,this.log_=hl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zo,this.maxReconnectDelay_=MO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!jA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ig.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(et(o)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new rl,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const h=u.d,d=u.s;li.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),d!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(d,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Wn(e,"w")){const i=Js(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=lN(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,a=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";r&&(o.q=i,o.t=r),this.sendRequest(a,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const a={p:n,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):op("Unrecognized action received from server: "+et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jO&&(this.reconnectDelay_=Zo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+li.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const h=function(){u?u.close():(a=!0,i())},d=function(m){z(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:h,sendRequest:d};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,v]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);a?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,u=new PO(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{It(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(BO)},o))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&It(m),h())}}}interrupt(e){ct("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ct("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$f(this.interruptReasons_)&&(this.reconnectDelay_=Zo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>$m(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ae(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){ct("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ow&&(this.reconnectDelay_=sw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ct("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ow&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+CC.replace(/\./g,"-")]=1,Dm()?e["framework.cordova"]=1:DA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vc.getInstance().currentlyOnline();return $f(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new le(to,e),r=new le(to,n);return this.compare(i,r)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;class QC extends oh{static get __EMPTY_NODE(){return lu}static set __EMPTY_NODE(e){lu=e}compare(e,n){return ns(e.name,n.name)}isDefinedOn(e){throw co("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Gr,lu)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,lu)}toString(){return".key"}}const Zs=new QC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??Lt.EMPTY_NODE,this.right=o??Lt.EMPTY_NODE}copy(e,n,i,r,o){return new st(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class FO{copy(e,n,i,r,o){return this}insert(e,n,i){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(e,n=Lt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Lt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uu(this.root_,null,this.comparator_,!0,e)}}Lt.EMPTY_NODE=new FO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e){return ns(t.name,e.name)}function rg(t,e){return ns(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp;function zO(t){lp=t}const qC=function(t){return typeof t=="number"?"number:"+IC(t):"string:"+t},YC=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wn(e,".sv"),"Priority must be a string or number.")}else z(t===lp||t.isEmpty(),"priority of unexpected type.");z(t===lp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw;class it{constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YC(this.priorityNode_)}static set __childrenNodeConstructor(e){aw=e}static get __childrenNodeConstructor(){return aw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:ae(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ae(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||ar(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IC(this.value_):e+=this.value_,this.lazyHash_=xC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=it.VALUE_TYPE_ORDER.indexOf(n),o=it.VALUE_TYPE_ORDER.indexOf(i);return z(r>=0,"Unknown leaf type: "+n),z(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $C,XC;function WO(t){$C=t}function HO(t){XC=t}class VO extends oh{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?ns(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Gr,new it("[PRIORITY-POST]",XC))}makePost(e,n){const i=$C(e);return new le(n,new it("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new VO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=Math.log(2);class KO{constructor(e){const n=o=>parseInt(Math.log(o)/ZO,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yc=function(t,e,n,i){t.sort(e);const r=function(h,d){const _=d-h;let m,v;if(_===0)return null;if(_===1)return m=t[h],v=n?n(m):m,new st(v,m.node,st.BLACK,null,null);{const E=parseInt(_/2,10)+h,w=r(h,E),T=r(E+1,d);return m=t[E],v=n?n(m):m,new st(v,m.node,st.BLACK,w,T)}},o=function(h){let d=null,_=null,m=t.length;const v=function(w,T){const k=m-w,S=m;m-=w;const C=r(k+1,S),x=t[k],R=n?n(x):x;E(new st(R,x.node,T,null,C))},E=function(w){d?(d.left=w,d=w):(_=w,d=w)};for(let w=0;w<h.count;++w){const T=h.nextBitIsOne(),k=Math.pow(2,h.count-(w+1));T?v(k,st.BLACK):(v(k,st.BLACK),v(k,st.RED))}return _},a=new KO(t.length),u=o(a);return new Lt(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;const ms={};class si{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(ms&&Ue,"ChildrenNode.ts has not been loaded"),Bd=Bd||new si({".priority":ms},{".priority":Ue}),Bd}get(e){const n=Js(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Lt?n:null}hasIndex(e){return Wn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==Zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(le.Wrap);let a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=o.getNext();let u;r?u=yc(i,e.getCompare()):u=ms;const h=e.toString(),d=Object.assign({},this.indexSet_);d[h]=e;const _=Object.assign({},this.indexes_);return _[h]=u,new si(_,d)}addToIndexes(e,n){const i=lc(this.indexes_,(r,o)=>{const a=Js(this.indexSet_,o);if(z(a,"Missing index implementation for "+o),r===ms)if(a.isDefinedOn(e.node)){const u=[],h=n.getIterator(le.Wrap);let d=h.getNext();for(;d;)d.name!==e.name&&u.push(d),d=h.getNext();return u.push(e),yc(u,a.getCompare())}else return ms;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new le(e.name,u))),h.insert(e,e.node)}});return new si(i,this.indexSet_)}removeFromIndexes(e,n){const i=lc(this.indexes_,r=>{if(r===ms)return r;{const o=n.get(e.name);return o?r.remove(new le(e.name,o)):r}});return new si(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class q{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&YC(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ko||(Ko=new q(new Lt(rg),null,si.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ko}updatePriority(e){return this.children_.isEmpty()?this:new q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ko:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new le(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Ko:this.priorityNode_;return new q(r,a,o)}}updateChild(e,n){const i=ae(e);if(i===null)return n;{z(ae(e)!==".priority"||ar(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ke(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Ue,(a,u)=>{n[a]=u.val(e),i++,o&&q.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qC(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":xC(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new le(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,le.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dl?-1:0}withIndex(e){if(e===Zs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Zs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),r=n.getIterator(Ue);let o=i.getNext(),a=r.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=r.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Zs?null:this.indexMap_.get(e.toString())}}q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GO extends q{constructor(){super(new Lt(rg),q.EMPTY_NODE,si.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return q.EMPTY_NODE}isEmpty(){return!1}}const dl=new GO;Object.defineProperties(le,{MIN:{value:new le(to,q.EMPTY_NODE)},MAX:{value:new le(Gr,dl)}});QC.__EMPTY_NODE=q.EMPTY_NODE;it.__childrenNodeConstructor=q;zO(dl);HO(dl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=!0;function Je(t,e=null){if(t===null)return q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new it(n,Je(e))}if(!(t instanceof Array)&&QO){const n=[];let i=!1;if(ft(t,(a,u)=>{if(a.substring(0,1)!=="."){const h=Je(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new le(a,h)))}}),n.length===0)return q.EMPTY_NODE;const o=yc(n,UO,a=>a.name,rg);if(i){const a=yc(n,Ue.getCompare());return new q(o,Je(e),new si({".priority":a},{".priority":Ue}))}else return new q(o,Je(e),si.Default)}else{let n=q.EMPTY_NODE;return ft(t,(i,r)=>{if(Wn(t,i)&&i.substring(0,1)!=="."){const o=Je(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Je(e))}}WO(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends oh{constructor(e){super(),this.indexPath_=e,z(!ce(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?ns(e.name,n.name):o}makePost(e,n){const i=Je(e),r=q.EMPTY_NODE.updateChild(this.indexPath_,i);return new le(n,r)}maxPost(){const e=q.EMPTY_NODE.updateChild(this.indexPath_,dl);return new le(Gr,e)}toString(){return Ha(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO extends oh{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ns(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const i=Je(e);return new le(n,i)}toString(){return".value"}}const $O=new YO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Va(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Za(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function XO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.index_=e}updateChild(e,n,i,r,o,a){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(Va(n,u)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(no(n,i)):a.trackChildChange(Za(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ue,(r,o)=>{n.hasChild(r)||i.trackChildChange(Va(r,o))}),n.isLeafNode()||n.forEachChild(Ue,(r,o)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(o)||i.trackChildChange(Za(r,o,a))}else i.trackChildChange(no(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.indexedFilter_=new sg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ka.getStartPost_(e),this.endPost_=Ka.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,a){return this.matches(new le(n,i))||(i=q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=q.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(q.EMPTY_NODE);const o=this;return n.forEachChild(Ue,(a,u)=>{o.matches(new le(a,u))||(r=r.updateImmediateChild(a,q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ka(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,a){return this.rangedFilter_.matches(new le(n,i))||(i=q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,a):this.fullLimitUpdateChild_(e,n,i,o,a)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=q.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(q.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let a;if(this.reverse_){const m=this.index_.getCompare();a=(v,E)=>m(E,v)}else a=this.index_.getCompare();const u=e;z(u.numChildren()===this.limit_,"");const h=new le(n,i),d=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(n)){const m=u.getImmediateChild(n);let v=r.getChildAfterChild(this.index_,d,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:a(v,h);if(_&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(Za(n,i,m)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Va(n,m));const T=u.updateImmediateChild(n,q.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(no(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return i.isEmpty()?e:_&&a(d,h)>=0?(o!=null&&(o.trackChildChange(Va(d.name,d.node)),o.trackChildChange(no(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(d.name,q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new og;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eM(t){return t.loadsAllData()?new sg(t.getIndex()):t.hasLimit()?new JO(t):new Ka(t)}function lw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===$O?n="$value":t.index_===Zs?n="$key":(z(t.index_ instanceof qO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=et(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=et(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+et(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=et(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends VC{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=wc.getListenId_(e,i),u={};this.listens_[a]=u;const h=lw(e._queryParams);this.restRequest_(o+".json",h,(d,_)=>{let m=_;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(o,m,!1,i),Js(this.listens_,a)===u){let v;d?d===401?v="permission_denied":v="rest_error:"+d:v="ok",r(v,null)}})}unlisten(e,n){const i=wc.getListenId_(e,n);delete this.listens_[i]}get(e){const n=lw(e._queryParams),i=e._path.toString(),r=new rl;return this.restRequest_(i+".json",n,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ho(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Fa(u.responseText)}catch{It("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&It("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.rootNode_=q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(){return{value:null,children:new Map}}function eS(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ae(e);t.children.has(i)||t.children.set(i,Ec());const r=t.children.get(i);e=ke(e),eS(r,e,n)}}function up(t,e,n){t.value!==null?n(e,t.value):nM(t,(i,r)=>{const o=new Ae(e.toString()+"/"+i);up(r,o,n)})}function nM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ft(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=10*1e3,rM=30*1e3,sM=5*60*1e3;class oM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iM(e);const i=cw+(rM-cw)*Math.random();ma(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ft(e,(r,o)=>{o>0&&Wn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*sM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function ag(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ug(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=gn.ACK_USER_WRITE,this.source=ag()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ae(e));return new Ac(_e(),n,this.revert)}}else return z(ae(this.path)===e,"operationForChild called for unrelated child."),new Ac(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.source=e,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Ga(this.source,_e()):new Ga(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=gn.OVERWRITE}operationForChild(e){return ce(this.path)?new Qr(this.source,_e(),this.snap.getImmediateChild(e)):new Qr(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=gn.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Ae(e));return n.isEmpty()?null:n.value?new Qr(this.source,_e(),n.value):new io(this.source,_e(),n)}else return z(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new io(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lM(t,e,n,i){const r=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(XO(a.childName,a.snapshotNode))}),Go(t,r,"child_removed",e,i,n),Go(t,r,"child_added",e,i,n),Go(t,r,"child_moved",o,i,n),Go(t,r,"child_changed",e,i,n),Go(t,r,"value",e,i,n),r}function Go(t,e,n,i,r,o){const a=i.filter(u=>u.type===n);a.sort((u,h)=>cM(t,u,h)),a.forEach(u=>{const h=uM(t,u,o);r.forEach(d=>{d.respondsTo(u.type)&&e.push(d.createEvent(h,t.query_))})})}function uM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cM(t,e,n){if(e.childName==null||n.childName==null)throw co("Should only compare child_ events.");const i=new le(e.childName,e.snapshotNode),r=new le(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e){return{eventCache:t,serverCache:e}}function ga(t,e,n,i){return ah(new lr(e,n,i),t.serverCache)}function tS(t,e,n,i){return ah(t.eventCache,new lr(e,n,i))}function Cc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;const hM=()=>(Fd||(Fd=new Lt(qL)),Fd);class Ie{constructor(e,n=hM()){this.value=e,this.children=n}static fromObject(e){let n=new Ie(null);return ft(e,(i,r)=>{n=n.set(new Ae(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ce(e))return null;{const i=ae(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(ke(e),n);return o!=null?{path:Fe(new Ae(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=ae(e),i=this.children.get(n);return i!==null?i.subtree(ke(e)):new Ie(null)}}set(e,n){if(ce(e))return new Ie(n,this.children);{const i=ae(e),o=(this.children.get(i)||new Ie(null)).set(ke(e),n),a=this.children.insert(i,o);return new Ie(this.value,a)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=ae(e),i=this.children.get(n);if(i){const r=i.remove(ke(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Ie(null):new Ie(this.value,o)}else return this}}get(e){if(ce(e))return this.value;{const n=ae(e),i=this.children.get(n);return i?i.get(ke(e)):null}}setTree(e,n){if(ce(e))return n;{const i=ae(e),o=(this.children.get(i)||new Ie(null)).setTree(ke(e),n);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new Ie(this.value,a)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Fe(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ce(e))return null;{const o=ae(e),a=this.children.get(o);return a?a.findOnPath_(ke(e),Fe(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,i){if(ce(e))return this;{this.value&&i(n,this.value);const r=ae(e),o=this.children.get(r);return o?o.foreachOnPath_(ke(e),Fe(n,r),i):new Ie(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Fe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new Ie(null))}}function _a(t,e,n){if(ce(e))return new yn(new Ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const a=xt(r,e);return o=o.updateChild(a,n),new yn(t.writeTree_.set(r,o))}else{const r=new Ie(n),o=t.writeTree_.setTree(e,r);return new yn(o)}}}function cp(t,e,n){let i=t;return ft(n,(r,o)=>{i=_a(i,Fe(e,r),o)}),i}function hw(t,e){if(ce(e))return yn.empty();{const n=t.writeTree_.setTree(e,new Ie(null));return new yn(n)}}function hp(t,e){return is(t,e)!=null}function is(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function dw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,r)=>{e.push(new le(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new le(i,r.value))}),e}function nr(t,e){if(ce(e))return t;{const n=is(t,e);return n!=null?new yn(new Ie(n)):new yn(t.writeTree_.subtree(e))}}function dp(t){return t.writeTree_.isEmpty()}function ro(t,e){return nS(_e(),t.writeTree_,e)}function nS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=nS(Fe(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Fe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e){return oS(e,t)}function dM(t,e,n,i,r){z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=_a(t.visibleWrites,e,n)),t.lastWriteId=i}function fM(t,e,n,i){z(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=cp(t.visibleWrites,e,n),t.lastWriteId=i}function pM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function mM(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&gM(u,i.path)?r=!1:rn(i.path,u.path)&&(o=!0)),a--}if(r){if(o)return _M(t),!0;if(i.snap)t.visibleWrites=hw(t.visibleWrites,i.path);else{const u=i.children;ft(u,h=>{t.visibleWrites=hw(t.visibleWrites,Fe(i.path,h))})}return!0}else return!1}function gM(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(Fe(t.path,n),e))return!0;return!1}function _M(t){t.visibleWrites=iS(t.allWrites,vM,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vM(t){return t.visible}function iS(t,e,n){let i=yn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const a=o.path;let u;if(o.snap)rn(n,a)?(u=xt(n,a),i=_a(i,u,o.snap)):rn(a,n)&&(u=xt(a,n),i=_a(i,_e(),o.snap.getChild(u)));else if(o.children){if(rn(n,a))u=xt(n,a),i=cp(i,u,o.children);else if(rn(a,n))if(u=xt(a,n),ce(u))i=cp(i,_e(),o.children);else{const h=Js(o.children,ae(u));if(h){const d=h.getChild(ke(u));i=_a(i,_e(),d)}}}else throw co("WriteRecord should have .snap or .children")}}return i}function rS(t,e,n,i,r){if(!i&&!r){const o=is(t.visibleWrites,e);if(o!=null)return o;{const a=nr(t.visibleWrites,e);if(dp(a))return n;if(n==null&&!hp(a,_e()))return null;{const u=n||q.EMPTY_NODE;return ro(a,u)}}}else{const o=nr(t.visibleWrites,e);if(!r&&dp(o))return n;if(!r&&n==null&&!hp(o,_e()))return null;{const a=function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(rn(d.path,e)||rn(e,d.path))},u=iS(t.allWrites,a,e),h=n||q.EMPTY_NODE;return ro(u,h)}}}function yM(t,e,n){let i=q.EMPTY_NODE;const r=is(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ue,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(n){const o=nr(t.visibleWrites,e);return n.forEachChild(Ue,(a,u)=>{const h=ro(nr(o,new Ae(a)),u);i=i.updateImmediateChild(a,h)}),dw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=nr(t.visibleWrites,e);return dw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function wM(t,e,n,i,r){z(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(e,n);if(hp(t.visibleWrites,o))return null;{const a=nr(t.visibleWrites,o);return dp(a)?r.getChild(n):ro(a,r.getChild(n))}}function EM(t,e,n,i){const r=Fe(e,n),o=is(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const a=nr(t.visibleWrites,r);return ro(a,i.getNode().getImmediateChild(n))}else return null}function AM(t,e){return is(t.visibleWrites,e)}function CM(t,e,n,i,r,o,a){let u;const h=nr(t.visibleWrites,e),d=is(h,_e());if(d!=null)u=d;else if(n!=null)u=ro(h,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const _=[],m=a.getCompare(),v=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let E=v.getNext();for(;E&&_.length<r;)m(E,i)!==0&&_.push(E),E=v.getNext();return _}else return[]}function SM(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function Sc(t,e,n,i){return rS(t.writeTree,t.treePath,e,n,i)}function cg(t,e){return yM(t.writeTree,t.treePath,e)}function fw(t,e,n,i){return wM(t.writeTree,t.treePath,e,n,i)}function xc(t,e){return AM(t.writeTree,Fe(t.treePath,e))}function xM(t,e,n,i,r,o){return CM(t.writeTree,t.treePath,e,n,i,r,o)}function hg(t,e,n){return EM(t.writeTree,t.treePath,e,n)}function sS(t,e){return oS(Fe(t.treePath,e),t.writeTree)}function oS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Za(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Va(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,no(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Za(i,e.snapshotNode,r.oldSnap));else throw co("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const aS=new IM;class dg{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qr(this.viewCache_),o=xM(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return{filter:t}}function PM(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RM(t,e,n,i,r){const o=new TM;let a,u;if(n.type===gn.OVERWRITE){const d=n;d.source.fromUser?a=fp(t,e,d.path,d.snap,i,r,o):(z(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered()&&!ce(d.path),a=Tc(t,e,d.path,d.snap,i,r,u,o))}else if(n.type===gn.MERGE){const d=n;d.source.fromUser?a=bM(t,e,d.path,d.children,i,r,o):(z(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),a=pp(t,e,d.path,d.children,i,r,u,o))}else if(n.type===gn.ACK_USER_WRITE){const d=n;d.revert?a=MM(t,e,d.path,i,r,o):a=LM(t,e,d.path,d.affectedTree,i,r,o)}else if(n.type===gn.LISTEN_COMPLETE)a=OM(t,e,n.path,i,o);else throw co("Unknown operation type: "+n.type);const h=o.getChanges();return NM(e,a,h),{viewCache:a,changes:h}}function NM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Cc(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(JC(Cc(e)))}}function lS(t,e,n,i,r,o){const a=e.eventCache;if(xc(i,n)!=null)return e;{let u,h;if(ce(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=qr(e),_=d instanceof q?d:q.EMPTY_NODE,m=cg(i,_);u=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const d=Sc(i,qr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ae(n);if(d===".priority"){z(ar(n)===1,"Can't have a priority with additional path components");const _=a.getNode();h=e.serverCache.getNode();const m=fw(i,n,_,h);m!=null?u=t.filter.updatePriority(_,m):u=a.getNode()}else{const _=ke(n);let m;if(a.isCompleteForChild(d)){h=e.serverCache.getNode();const v=fw(i,n,a.getNode(),h);v!=null?m=a.getNode().getImmediateChild(d).updateChild(_,v):m=a.getNode().getImmediateChild(d)}else m=hg(i,d,e.serverCache);m!=null?u=t.filter.updateChild(a.getNode(),d,m,_,r,o):u=a.getNode()}}return ga(e,u,a.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function Tc(t,e,n,i,r,o,a,u){const h=e.serverCache;let d;const _=a?t.filter:t.filter.getIndexedFilter();if(ce(n))d=_.updateFullNode(h.getNode(),i,null);else if(_.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);d=_.updateFullNode(h.getNode(),E,null)}else{const E=ae(n);if(!h.isCompleteForPath(n)&&ar(n)>1)return e;const w=ke(n),k=h.getNode().getImmediateChild(E).updateChild(w,i);E===".priority"?d=_.updatePriority(h.getNode(),k):d=_.updateChild(h.getNode(),E,k,w,aS,null)}const m=tS(e,d,h.isFullyInitialized()||ce(n),_.filtersNodes()),v=new dg(r,m,o);return lS(t,m,n,r,v,u)}function fp(t,e,n,i,r,o,a){const u=e.eventCache;let h,d;const _=new dg(r,e,o);if(ce(n))d=t.filter.updateFullNode(e.eventCache.getNode(),i,a),h=ga(e,d,!0,t.filter.filtersNodes());else{const m=ae(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),i),h=ga(e,d,u.isFullyInitialized(),u.isFiltered());else{const v=ke(n),E=u.getNode().getImmediateChild(m);let w;if(ce(v))w=i;else{const T=_.getCompleteChild(m);T!=null?tg(v)===".priority"&&T.getChild(KC(v)).isEmpty()?w=T:w=T.updateChild(v,i):w=q.EMPTY_NODE}if(E.equals(w))h=e;else{const T=t.filter.updateChild(u.getNode(),m,w,v,_,a);h=ga(e,T,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function pw(t,e){return t.eventCache.isCompleteForChild(e)}function bM(t,e,n,i,r,o,a){let u=e;return i.foreach((h,d)=>{const _=Fe(n,h);pw(e,ae(_))&&(u=fp(t,u,_,d,r,o,a))}),i.foreach((h,d)=>{const _=Fe(n,h);pw(e,ae(_))||(u=fp(t,u,_,d,r,o,a))}),u}function mw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function pp(t,e,n,i,r,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,d;ce(n)?d=i:d=new Ie(null).setTree(n,i);const _=e.serverCache.getNode();return d.children.inorderTraversal((m,v)=>{if(_.hasChild(m)){const E=e.serverCache.getNode().getImmediateChild(m),w=mw(t,E,v);h=Tc(t,h,new Ae(m),w,r,o,a,u)}}),d.children.inorderTraversal((m,v)=>{const E=!e.serverCache.isCompleteForChild(m)&&v.value===null;if(!_.hasChild(m)&&!E){const w=e.serverCache.getNode().getImmediateChild(m),T=mw(t,w,v);h=Tc(t,h,new Ae(m),T,r,o,a,u)}}),h}function LM(t,e,n,i,r,o,a){if(xc(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ce(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Tc(t,e,n,h.getNode().getChild(n),r,o,u,a);if(ce(n)){let d=new Ie(null);return h.getNode().forEachChild(Zs,(_,m)=>{d=d.set(new Ae(_),m)}),pp(t,e,n,d,r,o,u,a)}else return e}else{let d=new Ie(null);return i.foreach((_,m)=>{const v=Fe(n,_);h.isCompleteForPath(v)&&(d=d.set(_,h.getNode().getChild(v)))}),pp(t,e,n,d,r,o,u,a)}}function OM(t,e,n,i,r){const o=e.serverCache,a=tS(e,o.getNode(),o.isFullyInitialized()||ce(n),o.isFiltered());return lS(t,a,n,i,aS,r)}function MM(t,e,n,i,r,o){let a;if(xc(i,n)!=null)return e;{const u=new dg(i,e,r),h=e.eventCache.getNode();let d;if(ce(n)||ae(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Sc(i,qr(e));else{const m=e.serverCache.getNode();z(m instanceof q,"serverChildren would be complete if leaf node"),_=cg(i,m)}_=_,d=t.filter.updateFullNode(h,_,o)}else{const _=ae(n);let m=hg(i,_,e.serverCache);m==null&&e.serverCache.isCompleteForChild(_)&&(m=h.getImmediateChild(_)),m!=null?d=t.filter.updateChild(h,_,m,ke(n),u,o):e.eventCache.getNode().hasChild(_)?d=t.filter.updateChild(h,_,q.EMPTY_NODE,ke(n),u,o):d=h,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Sc(i,qr(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||xc(i,_e())!=null,ga(e,d,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sg(i.getIndex()),o=eM(i);this.processor_=kM(o);const a=n.serverCache,u=n.eventCache,h=r.updateFullNode(q.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(q.EMPTY_NODE,u.getNode(),null),_=new lr(h,a.isFullyInitialized(),r.filtersNodes()),m=new lr(d,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ah(m,_),this.eventGenerator_=new aM(this.query_)}get query(){return this.query_}}function jM(t){return t.viewCache_.serverCache.getNode()}function BM(t){return Cc(t.viewCache_)}function FM(t,e){const n=qr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function gw(t){return t.eventRegistrations_.length===0}function UM(t,e){t.eventRegistrations_.push(e)}function _w(t,e,n){const i=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,r);a&&i.push(a)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function vw(t,e,n,i){e.type===gn.MERGE&&e.source.queryId!==null&&(z(qr(t.viewCache_),"We should always have a full cache before handling merges"),z(Cc(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=RM(t.processor_,r,e,n,i);return PM(t.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,uS(t,o.changes,o.viewCache.eventCache.getNode(),null)}function zM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(o,a)=>{i.push(no(o,a))}),n.isFullyInitialized()&&i.push(JC(n.getNode())),uS(t,i,n.getNode(),e)}function uS(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return lM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;class cS{constructor(){this.views=new Map}}function WM(t){z(!Ic,"__referenceConstructor has already been defined"),Ic=t}function HM(){return z(Ic,"Reference.ts has not been loaded"),Ic}function VM(t){return t.views.size===0}function fg(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return z(o!=null,"SyncTree gave us an op for an invalid query."),vw(o,e,n,i)}else{let o=[];for(const a of t.views.values())o=o.concat(vw(a,e,n,i));return o}}function hS(t,e,n,i,r){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let u=Sc(n,r?i:null),h=!1;u?h=!0:i instanceof q?(u=cg(n,i),h=!1):(u=q.EMPTY_NODE,h=!1);const d=ah(new lr(u,h,!1),new lr(i,r,!1));return new DM(e,d)}return a}function ZM(t,e,n,i,r,o){const a=hS(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),UM(a,n),zM(a,n)}function KM(t,e,n,i){const r=e._queryIdentifier,o=[];let a=[];const u=ur(t);if(r==="default")for(const[h,d]of t.views.entries())a=a.concat(_w(d,n,i)),gw(d)&&(t.views.delete(h),d.query._queryParams.loadsAllData()||o.push(d.query));else{const h=t.views.get(r);h&&(a=a.concat(_w(h,n,i)),gw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!ur(t)&&o.push(new(HM())(e._repo,e._path)),{removed:o,events:a}}function dS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ir(t,e){let n=null;for(const i of t.views.values())n=n||FM(i,e);return n}function fS(t,e){if(e._queryParams.loadsAllData())return uh(t);{const i=e._queryIdentifier;return t.views.get(i)}}function pS(t,e){return fS(t,e)!=null}function ur(t){return uh(t)!=null}function uh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;function GM(t){z(!kc,"__referenceConstructor has already been defined"),kc=t}function QM(){return z(kc,"Reference.ts has not been loaded"),kc}let qM=1;class yw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=SM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mS(t,e,n,i,r){return dM(t.pendingWriteTree_,e,n,i,r),r?mo(t,new Qr(ag(),e,n)):[]}function YM(t,e,n,i){fM(t.pendingWriteTree_,e,n,i);const r=Ie.fromObject(n);return mo(t,new io(ag(),e,r))}function Vi(t,e,n=!1){const i=pM(t.pendingWriteTree_,e);if(mM(t.pendingWriteTree_,e)){let o=new Ie(null);return i.snap!=null?o=o.set(_e(),!0):ft(i.children,a=>{o=o.set(new Ae(a),!0)}),mo(t,new Ac(i.path,o,n))}else return[]}function fl(t,e,n){return mo(t,new Qr(lg(),e,n))}function $M(t,e,n){const i=Ie.fromObject(n);return mo(t,new io(lg(),e,i))}function XM(t,e){return mo(t,new Ga(lg(),e))}function JM(t,e,n){const i=mg(t,n);if(i){const r=gg(i),o=r.path,a=r.queryId,u=xt(o,e),h=new Ga(ug(a),u);return _g(t,o,h)}else return[]}function Pc(t,e,n,i,r=!1){const o=e._path,a=t.syncPointTree_.get(o);let u=[];if(a&&(e._queryIdentifier==="default"||pS(a,e))){const h=KM(a,e,n,i);VM(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=h.removed;if(u=h.events,!r){const _=d.findIndex(v=>v._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(o,(v,E)=>ur(E));if(_&&!m){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=nD(v);for(let w=0;w<E.length;++w){const T=E[w],k=T.query,S=yS(t,T);t.listenProvider_.startListening(va(k),Qa(t,k),S.hashFn,S.onComplete)}}}!m&&d.length>0&&!i&&(_?t.listenProvider_.stopListening(va(e),null):d.forEach(v=>{const E=t.queryToTagMap.get(ch(v));t.listenProvider_.stopListening(va(v),E)}))}iD(t,d)}return u}function gS(t,e,n,i){const r=mg(t,i);if(r!=null){const o=gg(r),a=o.path,u=o.queryId,h=xt(a,e),d=new Qr(ug(u),h,n);return _g(t,a,d)}else return[]}function eD(t,e,n,i){const r=mg(t,i);if(r){const o=gg(r),a=o.path,u=o.queryId,h=xt(a,e),d=Ie.fromObject(n),_=new io(ug(u),h,d);return _g(t,a,_)}else return[]}function mp(t,e,n,i=!1){const r=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(r,(v,E)=>{const w=xt(v,r);o=o||ir(E,w),a=a||ur(E)});let u=t.syncPointTree_.get(r);u?(a=a||ur(u),o=o||ir(u,_e())):(u=new cS,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=q.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,w)=>{const T=ir(w,_e());T&&(o=o.updateImmediateChild(E,T))}));const d=pS(u,e);if(!d&&!e._queryParams.loadsAllData()){const v=ch(e);z(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=rD();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const _=lh(t.pendingWriteTree_,r);let m=ZM(u,e,n,_,o,h);if(!d&&!a&&!i){const v=fS(u,e);m=m.concat(sD(t,e,v))}return m}function pg(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,u)=>{const h=xt(a,e),d=ir(u,h);if(d)return d});return rS(r,e,o,n,!0)}function tD(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(d,_)=>{const m=xt(d,n);i=i||ir(_,m)});let r=t.syncPointTree_.get(n);r?i=i||ir(r,_e()):(r=new cS,t.syncPointTree_=t.syncPointTree_.set(n,r));const o=i!=null,a=o?new lr(i,!0,!1):null,u=lh(t.pendingWriteTree_,e._path),h=hS(r,e,u,o?a.getNode():q.EMPTY_NODE,o);return BM(h)}function mo(t,e){return _S(e,t.syncPointTree_,null,lh(t.pendingWriteTree_,_e()))}function _S(t,e,n,i){if(ce(t.path))return vS(t,e,n,i);{const r=e.get(_e());n==null&&r!=null&&(n=ir(r,_e()));let o=[];const a=ae(t.path),u=t.operationForChild(a),h=e.children.get(a);if(h&&u){const d=n?n.getImmediateChild(a):null,_=sS(i,a);o=o.concat(_S(u,h,d,_))}return r&&(o=o.concat(fg(r,t,i,n))),o}}function vS(t,e,n,i){const r=e.get(_e());n==null&&r!=null&&(n=ir(r,_e()));let o=[];return e.children.inorderTraversal((a,u)=>{const h=n?n.getImmediateChild(a):null,d=sS(i,a),_=t.operationForChild(a);_&&(o=o.concat(vS(_,u,h,d)))}),r&&(o=o.concat(fg(r,t,i,n))),o}function yS(t,e){const n=e.query,i=Qa(t,n);return{hashFn:()=>(jM(e)||q.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?JM(t,n._path,i):XM(t,n._path);{const o=XL(r,n);return Pc(t,n,null,o)}}}}function Qa(t,e){const n=ch(e);return t.queryToTagMap.get(n)}function ch(t){return t._path.toString()+"$"+t._queryIdentifier}function mg(t,e){return t.tagToQueryMap.get(e)}function gg(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ae(t.substr(0,e))}}function _g(t,e,n){const i=t.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const r=lh(t.pendingWriteTree_,e);return fg(i,n,r,null)}function nD(t){return t.fold((e,n,i)=>{if(n&&ur(n))return[uh(n)];{let r=[];return n&&(r=dS(n)),ft(i,(o,a)=>{r=r.concat(a)}),r}})}function va(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QM())(t._repo,t._path):t}function iD(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=ch(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function rD(){return qM++}function sD(t,e,n){const i=e._path,r=Qa(t,e),o=yS(t,n),a=t.listenProvider_.startListening(va(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)z(!ur(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((d,_,m)=>{if(!ce(d)&&_&&ur(_))return[uh(_).query];{let v=[];return _&&(v=v.concat(dS(_).map(E=>E.query))),ft(m,(E,w)=>{v=v.concat(w)}),v}});for(let d=0;d<h.length;++d){const _=h[d];t.listenProvider_.stopListening(va(_),Qa(t,_))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vg(n)}node(){return this.node_}}class yg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fe(this.path_,e);return new yg(this.syncTree_,n)}node(){return pg(this.syncTree_,this.path_)}}const oD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ww=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return aD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lD(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},aD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},lD=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const r=e.node();if(z(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},wS=function(t,e,n,i){return wg(e,new yg(n,t),i)},ES=function(t,e,n){return wg(t,new vg(e),n)};function wg(t,e,n){const i=t.getPriority().val(),r=ww(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,u=ww(a.getValue(),e,n);return u!==a.getValue()||r!==a.getPriority().val()?new it(u,Je(r)):t}else{const a=t;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new it(r))),a.forEachChild(Ue,(u,h)=>{const d=wg(h,e.getImmediateChild(u),n);d!==h&&(o=o.updateImmediateChild(u,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Ag(t,e){let n=e instanceof Ae?e:new Ae(e),i=t,r=ae(n);for(;r!==null;){const o=Js(i.node.children,r)||{children:{},childCount:0};i=new Eg(r,i,o),n=ke(n),r=ae(n)}return i}function go(t){return t.node.value}function AS(t,e){t.node.value=e,gp(t)}function CS(t){return t.node.childCount>0}function uD(t){return go(t)===void 0&&!CS(t)}function hh(t,e){ft(t.node.children,(n,i)=>{e(new Eg(n,t,i))})}function SS(t,e,n,i){n&&!i&&e(t),hh(t,r=>{SS(r,e,!0,i)}),n&&i&&e(t)}function cD(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function pl(t){return new Ae(t.parent===null?t.name:pl(t.parent)+"/"+t.name)}function gp(t){t.parent!==null&&hD(t.parent,t.name,t)}function hD(t,e,n){const i=uD(n),r=Wn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,gp(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,gp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/[\[\].#$\/\u0000-\u001F\u007F]/,fD=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10*1024*1024,Cg=function(t){return typeof t=="string"&&t.length!==0&&!dD.test(t)},xS=function(t){return typeof t=="string"&&t.length!==0&&!fD.test(t)},pD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xS(t)},mD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ym(t)||t&&typeof t=="object"&&Wn(t,".sv")},TS=function(t,e,n,i){i&&e===void 0||dh(Jc(t,"value"),e,n)},dh=function(t,e,n){const i=n instanceof Ae?new bO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xr(i));if(typeof e=="function")throw new Error(t+"contains a function "+xr(i)+" with contents = "+e.toString());if(Ym(e))throw new Error(t+"contains "+e.toString()+" "+xr(i));if(typeof e=="string"&&e.length>Ud/3&&eh(e)>Ud)throw new Error(t+"contains a string greater than "+Ud+" utf8 bytes "+xr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ft(e,(a,u)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Cg(a)))throw new Error(t+" contains an invalid key ("+a+") "+xr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);LO(i,a),dh(t,u,i),OO(i)}),r&&o)throw new Error(t+' contains ".value" child '+xr(i)+" in addition to actual children.")}},gD=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Ha(i);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!Cg(o[a]))throw new Error(t+"contains an invalid key ("+o[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(NO);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&rn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},_D=function(t,e,n,i){const r=Jc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];ft(e,(a,u)=>{const h=new Ae(a);if(dh(r,u,Fe(n,h)),tg(h)===".priority"&&!mD(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),gD(r,o)},IS=function(t,e,n,i){if(!xS(n))throw new Error(Jc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),IS(t,e,n)},Sg=function(t,e){if(ae(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pD(n))throw new Error(Jc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fh(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!ng(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function kS(t,e,n){fh(t,n),PS(t,i=>ng(i,e))}function ln(t,e,n){fh(t,n),PS(t,i=>rn(i,e)||rn(e,i))}function PS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(ED(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ED(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();pa&&ct("event: "+n.toString()),po(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="repo_interrupt",CD=25;class SD{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ec(),this.transactionQueueTree_=new Eg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xD(t,e,n){if(t.stats_=Jm(t.repoInfo_),t.forceRestClient_||nO())t.server_=new wc(t.repoInfo_,(i,r,o,a)=>{Ew(t,i,r,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Aw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new li(t.repoInfo_,e,(i,r,o,a)=>{Ew(t,i,r,o,a)},i=>{Aw(t,i)},i=>{TD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=aO(t.repoInfo_,()=>new oM(t.stats_,t.server_)),t.infoData_=new tM,t.infoSyncTree_=new yw({startListening:(i,r,o,a)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=fl(t.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),xg(t,"connected",!1),t.serverSyncTree_=new yw({startListening:(i,r,o,a)=>(t.server_.listen(i,o,r,(u,h)=>{const d=a(u,h);ln(t.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function RS(t){const n=t.infoData_.getNode(new Ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ph(t){return oD({timestamp:RS(t)})}function Ew(t,e,n,i,r){t.dataUpdateCount++;const o=new Ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const h=lc(n,d=>Je(d));a=eD(t.serverSyncTree_,o,h,r)}else{const h=Je(n);a=gS(t.serverSyncTree_,o,h,r)}else if(i){const h=lc(n,d=>Je(d));a=$M(t.serverSyncTree_,o,h)}else{const h=Je(n);a=fl(t.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=so(t,o)),ln(t.eventQueue_,u,a)}function Aw(t,e){xg(t,"connected",e),e===!1&&RD(t)}function TD(t,e){ft(e,(n,i)=>{xg(t,n,i)})}function xg(t,e,n){const i=new Ae("/.info/"+e),r=Je(n);t.infoData_.updateSnapshot(i,r);const o=fl(t.infoSyncTree_,i,r);ln(t.eventQueue_,i,o)}function Tg(t){return t.nextWriteId_++}function ID(t,e,n){const i=tD(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const o=Je(r).withIndex(e._queryParams.getIndex());mp(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=fl(t.serverSyncTree_,e._path,o);else{const u=Qa(t.serverSyncTree_,e);a=gS(t.serverSyncTree_,e._path,o,u)}return ln(t.eventQueue_,e._path,a),Pc(t.serverSyncTree_,e,n,null,!0),o},r=>(ml(t,"get for query "+et(e)+" failed: "+r),Promise.reject(new Error(r))))}function kD(t,e,n,i,r){ml(t,"set",{path:e.toString(),value:n,priority:i});const o=ph(t),a=Je(n,i),u=pg(t.serverSyncTree_,e),h=ES(a,u,o),d=Tg(t),_=mS(t.serverSyncTree_,e,h,d,!0);fh(t.eventQueue_,_),t.server_.put(e.toString(),a.val(!0),(v,E)=>{const w=v==="ok";w||It("set at "+e+" failed: "+v);const T=Vi(t.serverSyncTree_,d,!w);ln(t.eventQueue_,e,T),_p(t,r,v,E)});const m=kg(t,e);so(t,m),ln(t.eventQueue_,m,[])}function PD(t,e,n,i){ml(t,"update",{path:e.toString(),value:n});let r=!0;const o=ph(t),a={};if(ft(n,(u,h)=>{r=!1,a[u]=wS(Fe(e,u),Je(h),t.serverSyncTree_,o)}),r)ct("update() called with empty data.  Don't do anything."),_p(t,i,"ok",void 0);else{const u=Tg(t),h=YM(t.serverSyncTree_,e,a,u);fh(t.eventQueue_,h),t.server_.merge(e.toString(),n,(d,_)=>{const m=d==="ok";m||It("update at "+e+" failed: "+d);const v=Vi(t.serverSyncTree_,u,!m),E=v.length>0?so(t,e):e;ln(t.eventQueue_,E,v),_p(t,i,d,_)}),ft(n,d=>{const _=kg(t,Fe(e,d));so(t,_)}),ln(t.eventQueue_,e,[])}}function RD(t){ml(t,"onDisconnectEvents");const e=ph(t),n=Ec();up(t.onDisconnect_,_e(),(r,o)=>{const a=wS(r,o,t.serverSyncTree_,e);eS(n,r,a)});let i=[];up(n,_e(),(r,o)=>{i=i.concat(fl(t.serverSyncTree_,r,o));const a=kg(t,r);so(t,a)}),t.onDisconnect_=Ec(),ln(t.eventQueue_,_e(),i)}function ND(t,e,n){let i;ae(e._path)===".info"?i=mp(t.infoSyncTree_,e,n):i=mp(t.serverSyncTree_,e,n),kS(t.eventQueue_,e._path,i)}function Cw(t,e,n){let i;ae(e._path)===".info"?i=Pc(t.infoSyncTree_,e,n):i=Pc(t.serverSyncTree_,e,n),kS(t.eventQueue_,e._path,i)}function bD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(AD)}function ml(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ct(n,...e)}function _p(t,e,n,i){e&&po(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,e(a)}})}function NS(t,e,n){return pg(t.serverSyncTree_,e,n)||q.EMPTY_NODE}function Ig(t,e=t.transactionQueueTree_){if(e||mh(t,e),go(e)){const n=LS(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&LD(t,pl(e),n)}else CS(e)&&hh(e,n=>{Ig(t,n)})}function LD(t,e,n){const i=n.map(d=>d.currentWriteId),r=NS(t,e,i);let o=r;const a=r.hash();for(let d=0;d<n.length;d++){const _=n[d];z(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const m=xt(e,_.path);o=o.updateChild(m,_.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,d=>{ml(t,"transaction put response",{path:h.toString(),status:d});let _=[];if(d==="ok"){const m=[];for(let v=0;v<n.length;v++)n[v].status=2,_=_.concat(Vi(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&m.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();mh(t,Ag(t.transactionQueueTree_,e)),Ig(t,t.transactionQueueTree_),ln(t.eventQueue_,e,_);for(let v=0;v<m.length;v++)po(m[v])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{It("transaction at "+h.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}so(t,e)}},a)}function so(t,e){const n=bS(t,e),i=pl(n),r=LS(t,n);return OD(t,r,i),i}function OD(t,e,n){if(e.length===0)return;const i=[];let r=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],d=xt(n,h.path);let _=!1,m;if(z(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)_=!0,m=h.abortReason,r=r.concat(Vi(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=CD)_=!0,m="maxretry",r=r.concat(Vi(t.serverSyncTree_,h.currentWriteId,!0));else{const v=NS(t,h.path,a);h.currentInputSnapshot=v;const E=e[u].update(v.val());if(E!==void 0){dh("transaction failed: Data returned ",E,h.path);let w=Je(E);typeof E=="object"&&E!=null&&Wn(E,".priority")||(w=w.updatePriority(v.getPriority()));const k=h.currentWriteId,S=ph(t),C=ES(w,v,S);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=C,h.currentWriteId=Tg(t),a.splice(a.indexOf(k),1),r=r.concat(mS(t.serverSyncTree_,h.path,C,h.currentWriteId,h.applyLocally)),r=r.concat(Vi(t.serverSyncTree_,k,!0))}else _=!0,m="nodata",r=r.concat(Vi(t.serverSyncTree_,h.currentWriteId,!0))}ln(t.eventQueue_,n,r),r=[],_&&(e[u].status=2,function(v){setTimeout(v,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(m==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(m),!1,null))))}mh(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)po(i[u]);Ig(t,t.transactionQueueTree_)}function bS(t,e){let n,i=t.transactionQueueTree_;for(n=ae(e);n!==null&&go(i)===void 0;)i=Ag(i,n),e=ke(e),n=ae(e);return i}function LS(t,e){const n=[];return OS(t,e,n),n.sort((i,r)=>i.order-r.order),n}function OS(t,e,n){const i=go(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);hh(e,r=>{OS(t,r,n)})}function mh(t,e){const n=go(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,AS(e,n.length>0?n:void 0)}hh(e,i=>{mh(t,i)})}function kg(t,e){const n=pl(bS(t,e)),i=Ag(t.transactionQueueTree_,e);return cD(i,r=>{zd(t,r)}),zd(t,i),SS(i,r=>{zd(t,r)}),n}function zd(t,e){const n=go(e);if(n){const i=[];let r=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(z(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(z(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(Vi(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?AS(e,void 0):n.length=o+1,ln(t.eventQueue_,pl(e),r);for(let a=0;a<i.length;a++)po(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function DD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sw=function(t,e){const n=jD(t),i=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GL();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jC(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ae(n.pathString)}},jD=function(t){let e="",n="",i="",r="",o="",a=!0,u="https",h=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(u=t.substring(0,d-1),t=t.substring(d+2));let _=t.indexOf("/");_===-1&&(_=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(_,m)),_<m&&(r=MD(t.substring(_,m)));const v=DD(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(a=u==="https"||u==="wss",h=parseInt(e.substring(d+1),10)):d=e.length;const E=e.slice(0,d);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",BD=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const o=new Array(8);for(r=7;r>=0;r--)o[r]=xw.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=xw.charAt(e[r]);return z(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class UD{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ce(this._path)?null:tg(this._path)}get ref(){return new wi(this._repo,this._path)}get _queryIdentifier(){const e=uw(this._queryParams),n=$m(e);return n==="{}"?"default":n}get _queryObject(){return uw(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof Pg))return!1;const n=this._repo===e._repo,i=ng(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+RO(this._path)}}class wi extends Pg{constructor(e,n){super(e,n,new og,!1)}get parent(){const e=KC(this._path);return e===null?null:new wi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ae(e),i=Ya(this.ref,e);return new qa(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new qa(r,Ya(this.ref,i),Ue)))}hasChild(e){const n=new Ae(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ie(t,e){return t=Ke(t),t._checkNotDeleted("ref"),e!==void 0?Ya(t._root,e):t._root}function Ya(t,e){return t=Ke(t),ae(t._path)===null?vD("child","path",e):IS("child","path",e),new wi(t._repo,Fe(t._path,e))}function gl(t,e){t=Ke(t),Sg("push",t._path),TS("push",e,t._path,!0);const n=RS(t._repo),i=BD(n),r=Ya(t,i),o=Ya(t,i);let a;return a=Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function Rg(t){return Sg("remove",t._path),Ot(t,null)}function Ot(t,e){t=Ke(t),Sg("set",t._path),TS("set",e,t._path,!1);const n=new rl;return kD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Rc(t,e){_D("update",e,t._path);const n=new rl;return PD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Tw(t){t=Ke(t);const e=new MS(()=>{}),n=new gh(e);return ID(t._repo,t,n).then(i=>new qa(i,new wi(t._repo,t._path),t._queryParams.getIndex()))}class gh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new FD("value",this,new qa(e.snapshotNode,new wi(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new UD(this,e,n):null}matches(e){return e instanceof gh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zD(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,d=(_,m)=>{Cw(t._repo,t,u),h(_,m)};d.userCallback=n.userCallback,d.context=n.context,n=d}const a=new MS(n,o||void 0),u=new gh(a);return ND(t._repo,t,u),()=>Cw(t._repo,t,u)}function pt(t,e,n,i){return zD(t,"value",e,n,i)}WM(wi);GM(wi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="FIREBASE_DATABASE_EMULATOR_HOST",vp={};let HD=!1;function VD(t,e,n,i){t.repoInfo_=new jC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function ZD(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=Sw(o,r),u=a.repoInfo,h;typeof process<"u"&&Zy&&(h=Zy[WD]),h?(o=`http://${h}?ns=${u.namespace}`,a=Sw(o,r),u=a.repoInfo):a.repoInfo.secure;const d=new rO(t.name,t.options,e);yD("Invalid Firebase Database URL",a),ce(a.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=GD(u,t,d,new iO(t.name,n));return new QD(_,t)}function KD(t,e){const n=vp[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bD(t),delete n[t.key]}function GD(t,e,n,i){let r=vp[e.name];r||(r={},vp[e.name]=r);let o=r[t.toURLString()];return o&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new SD(t,HD,n,i),r[t.toURLString()]=o,o}class QD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wi(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function de(t=Fm(),e){const n=th(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=bA("database");i&&qD(n,...i)}return n}function qD(t,e,n,i={}){t=Ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&pi("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Nu(Nu.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:MA(i.mockUserToken,t.app.options.projectId);o=new Nu(a)}VD(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){zL(ts),Vr(new or("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return ZD(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Fn(Ky,Gy,t),Fn(Ky,Gy,"esm2017")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};YD();var $D="firebase",XD="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn($D,XD,"app");const JD={apiKey:"AIzaSyDnxKqjlOn_i6C235rfjnE5FahIjOxeWrQ",authDomain:"mywork-497c9.firebaseapp.com",databaseURL:"https://mywork-497c9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"mywork-497c9",storageBucket:"mywork-497c9.appspot.com",messagingSenderId:"1030977091971",appId:"1:1030977091971:web:d6d62bec2e948d601d1eb6",measurementId:"G-2TDSDFK9B2"},DS=zA(JD),_h=qm(DS);de(DS);const Ei=A.createContext(void 0),ej=({children:t})=>{const[e,n]=A.useState(null);return A.useEffect(()=>{const i=I1(_h,r=>{if(r){const o=de(),a=ie(o,"users/"+r.uid);pt(a,u=>{const h=u.val();n({uid:r.uid,email:r.email||"",...h})})}else n(null)});return()=>i()},[]),p.jsxs(Ei.Provider,{value:{user:e,setUser:n},children:[t," "]})},tj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHpSURBVHgBnZRBUhpREIa7m5FkSdaZUMwJAicIXiD4FhErK3MC5QTGE6AnIKuUxEoNSQ4AOYHcQMqa7FkGcV7b/ZgZKZ1h0H/zXvWjP/7u128QChRe79W8avWIGdsM0F5FeWotn5v65beiPMyHHTRoh8eybRRkzewt7prgYvb4iPJ+n8E0kXHXLhdvOv4QxZ2R+AwYGlTlsVZRCgyjg8MMdrtomXcXExOM5npm6j9GAm+lUPCqx6VAAnukq425l4LWpTFx/UX3FcQPpUBpUDN1A0W6+z/V5eGyNgJXyuvPusuisydAufaJ23ivm0VJ4c3+XrKdlgJj5r/ugHiQ51JjRNjXvbX2PMdQTsLOqytIbzq+65n6z5GDe16TsDJIzzpvh0Ep0EGjz02C+AqKNbdLbG012NofgY1hs2pusG8+HW4E/o66felPqAkyEhML0BMngb4S91Kg0rLgZnD1WogGmrPOyEr+82//RAb2qysH4NT4wzPYoDDqHoubE/1zgZx99Ie9DKjPjYC12aAujP99Clso6bW2p6bVqAkH/BV1r2VppEF4hhKnfVfZchFg5q5gDLaR9HGsz1ANEaLtaNDG9hReqFiKdBuGNiEnH1GCrfqWqyW6DwkRvCcEnGu5xr98MTAZcBklnt8De5rbu6Xo3MoAAAAASUVORK5CYII=",nj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEQSURBVHgBrdRLasJAGMDx75uMdKWdVddZdmFLj9DcIKVQWsgiR2h33dkbFE+ggqD4wCPoDQziwmXWrrIV0c8ZzYjPOMb8IZB5/UIgBCDjsGK7QhTuS0RLX44FpAwBqpFl/fBCPv8fYzdFAL5YLCIuZXdnPpzN587XpBmaII3HT/sul+vLW1ujDPRrIgZqQW1QG6/CiIJ4WjC9ARlzTNFDDDl39NoWfAuqkQl6ClNnj0AT9BJ2BCahJthJ8Aw6VNcl7Cy4hwLVYPMlCIkNkjAVh4Tig37vxf/eGSfGwSATSMcg4xS4fnrnyXMhZe2i9xrfRtgten+IWIIsIipbrelo8PHwLE20If3vKySJvY/rvyvST4m2GPYhPwAAAABJRU5ErkJggg==",ij="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE9SURBVHgBpVRBToNQEJ2Buse11ZQb9AhcQA2JKezaG9ieADiB9Aa4a3WB1Qv0JjSB7tlW9H+HH0go0g+0LyEww3vDnz+8j9CAMH4yVFQdDjCmUEOA7S9jr+bde1DnYj3xtZ84jKPbVFhB7t7fvHlHuaMvJ/asFNPdY9nhWlwAiyLnhrFtVDWDaqACn/KcSALzduVXXvlhPNEUREdF7lC8bVwBiQ3xkB0CqOPn2y8445MtlDD1j1SS01oL9IGYQrHz83p1CVISBg/D9QI/E+uF+prDGWCcewMSz0SQoW7qq10XYRjZI+WKRzSVZ6VcdldxjatJN3GTWNFmb0UyzgDkGOWDl+HiMV5coK2F3X+/9ijwOFzr0IK8BfGP57OFjqhwUySburlN4QwwDkvRYRhbvoIwhR5eIO8s6cxw/wAWbnWPpYu/3QAAAABJRU5ErkJggg==",rj={user:tj,email:nj,password:ij},Os=({type:t,name:e,value:n,onChange:i,placeholder:r,iconName:o})=>{const a=rj[o];return p.jsxs("div",{id:"input-field",className:"input-field",children:[a&&p.jsx("img",{src:a,alt:`${o} icon`,className:"input-icon"}),p.jsx("input",{type:t,name:e,value:n,onChange:i,placeholder:r,required:!0})]})},sj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEsSURBVHgBtVaLEcIgDA13DtAN7AiO0A10hDpB3cBuUJ2gdQJHqBvoBoxQN8Bw0muk5IAD311KSSB5D+gHIAJKqQL+AZ0YbVQL+qzFTEIbd8gBTFSRpC3ahfQrSAVZmt7hGyEFmKAmbEvir7KowMnSZk9iaSo49iSepsLFXp8ctA5SVbjY63Z2JKtg2K8KWCqeocm5k8MVoCrqkALSDG4tv7OApUL6ks/spbJOjqdASVScIJa9iRUmNjFzhzmuXC9CdDYcezJmx50WS0XrCsrgjWKgvi/DtQrsnEM2ySxT6YlPPypC2ZPJE8SowEsXwV4GjltUxKy9mez9VFIVQHZ+C5mgyNO9wf4DrdIt9m+QB3vTvgQmPeBNng/4Gkehr2b9G7RcvyJvtKsQYvgACiWj7hXViCIAAAAASUVORK5CYII=",Ng=({message:t,className:e})=>p.jsxs("div",{id:"error-message",className:`error-message d-flex align-items-center ${e}`,children:[p.jsx("img",{src:sj,alt:"Error icon",className:"error-icon me-2"}),p.jsxs("div",{children:[p.jsx("strong",{children:"Error"}),p.jsx("br",{}),t]})]}),oj=()=>{const[t,e]=A.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=A.useState(""),[r,o]=A.useState(!1),a=Sn(),u=A.useContext(Ei),h=_=>{e({...t,[_.target.name]:_.target.value})};A.useEffect(()=>{const _=Object.values(t).some(m=>m!=="");o(_)},[t]);const d=async _=>{if(_.preventDefault(),t.password!==t.confirmPassword){i("Passwords do not match");return}try{const v=(await E1(_h,t.email,t.password)).user,E=de();await Ot(ie(E,"users/"+v.uid),{name:t.name,email:v.email??"",isAdmin:!1}),u==null||u.setUser({uid:v.uid,email:v.email??"",name:t.name,isAdmin:!1}),a("/login")}catch(m){i(m.message)}};return p.jsxs("div",{className:"registration-container d-flex justify-content-center align-items-center min-vh-100",children:[p.jsx("div",{className:"header",onClick:()=>a("/home/news"),style:{cursor:"pointer"},children:"MyWork"})," ",p.jsxs("div",{id:"registration-form",className:"registration-form bg-dark text-white p-4 rounded",children:[p.jsx("h2",{children:"Create a MyWork Account"}),n&&p.jsx(Ng,{className:"registration-error",message:n}),p.jsxs("form",{onSubmit:d,children:[p.jsx(Os,{type:"text",name:"name",value:t.name,onChange:h,placeholder:"John Carpenter",iconName:"user"}),p.jsx(Os,{type:"email",name:"email",value:t.email,onChange:h,placeholder:"jhcpart@emailserver.com",iconName:"email"}),p.jsx(Os,{type:"password",name:"password",value:t.password,onChange:h,placeholder:"Password",iconName:"password"}),p.jsx(Os,{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:h,placeholder:"Confirm your password",iconName:"password"}),p.jsx("button",{type:"submit",className:`registration-button ${r?"filled":"not-filled"}`,children:"Sign up"})]})]}),p.jsx("div",{className:"footer mt-3 text-white text-center",children:p.jsxs("p",{children:["Already have an account? ",p.jsx(yt,{to:"/login",children:"Login"})," "]})})]})},aj=()=>{const[t,e]=A.useState({email:"",password:""}),[n,i]=A.useState(!1),[r,o]=A.useState(""),a=Sn(),u=d=>{e({...t,[d.target.name]:d.target.value})};A.useEffect(()=>{const d=Object.values(t).some(_=>_!=="");i(d)},[t]),A.useEffect(()=>{sessionStorage.getItem("loginPageRefreshed")&&sessionStorage.removeItem("loginPageRefreshed")},[]);const h=async d=>{d.preventDefault();try{const m=(await A1(_h,t.email,t.password)).user,v=de(),E=ie(v,`users/${m.uid}`),w=ie(v,`admins/${m.uid}`),T=await Tw(E);if((await Tw(w)).exists())a("/home");else if(T.exists())a("/home");else throw new Error("User data not found")}catch{o("Incorrect username or password!")}};return p.jsxs("div",{id:"login-page",className:"login-page",children:[p.jsx("div",{className:"header",onClick:()=>{a("/home/news")},style:{cursor:"pointer"},children:"MyWork"}),p.jsxs("div",{id:"login-form",className:"login-form bg-dark text-white p-4 rounded",children:[p.jsx("h2",{children:"Welcome back!"}),p.jsx("p",{children:"Sign in to your account"}),r&&p.jsx(Ng,{className:"login-error",message:r}),p.jsxs("form",{onSubmit:h,children:[p.jsx(Os,{type:"email",name:"email",value:t.email,onChange:u,placeholder:"mymail@mailserver.com",iconName:"email"}),p.jsx(Os,{type:"password",name:"password",value:t.password,onChange:u,placeholder:"Password",iconName:"password"}),p.jsx("button",{type:"submit",className:`login-button ${n?"filled":"not-filled"}`,children:"Login"})]})]}),p.jsxs("div",{className:"footer mt-3 text-white",children:[p.jsxs("p",{children:["Don't have an account? ",p.jsx(yt,{to:"/register",children:"Sign up"})," "]}),p.jsx("p",{children:p.jsxs(yt,{to:"/reset-password",className:"text-primary",children:[" ","Forgot password?"]})})]})]})},lj=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(""),r=Sn(),[o,a]=A.useState(""),[u,h]=A.useState(!1);A.useEffect(()=>{h(t!=="")},[t]);const d=async _=>{_.preventDefault(),i(""),a("");try{await w1(_h,t),a("Password reset email sent!")}catch{i("Error sending password reset email.")}};return p.jsxs("div",{id:"reset-password-page",className:"reset-password-page",children:[p.jsx("div",{className:"header",onClick:()=>{r("/home/news")},style:{cursor:"pointer"},children:"MyWork"}),p.jsxs("div",{className:"reset-password-form bg-dark text-white p-4 rounded",children:[p.jsx("h2",{children:"Reset Password"}),p.jsxs("form",{onSubmit:d,children:[n&&p.jsx(Ng,{className:"reset-password-error",message:n}),o&&p.jsxs("p",{className:"text-success success-message",children:[o,p.jsx("br",{}),p.jsx(yt,{to:"/login",className:"login-link",children:"Go back to Login page."})]}),p.jsx("div",{className:"input-field mb-3",children:p.jsx("input",{type:"email",name:"email",value:t,onChange:_=>e(_.target.value),placeholder:"Enter your email",className:"form-control",required:!0})}),p.jsx("button",{type:"submit",className:`btn btn-primary send-reset-button ${u?"filled":"not-filled"}`,children:"Send Reset Email"})]})]})]})},Iw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAiFJREFUWIXtl01rE1EUhp8zk7jSuOuiVsFmknFXi0tBpCJiF0IKSWp1J/gTRBSlq/4OEWOlUyiCEKlfXbjWnTI2dVUEA6JNdZGSzHGRmUgStddJgpu8m5k7c868z5w7Zy5XMNT1UyS/7XBL4Bpw1DSvWwq7wAu1uen5+GKYJ4UMT0SZjWv8G30VZcoIoJhmHmEZQKEqymuEZkzjLDAVnnsJkwwVzkekanNmxcePac4iWO8d3oQQFyyTJIFD0bnXh3kIEAAfwmHKCGCYGgGMAHraMJdmLClMa4XnHu1eD8Jj3N7/ozoqkHdxDwhvBZ5aDnej6wKrQA24P2iAdgXyLq7V5CUw3h30qMIqLYiBKwFQnCRLp3m5BkvDMOwByLu4XeafgFIKLhWdeA/VgB/VY6xvbNDYF8BqskZn2ceBB/GsWxILxrZZAm7vFzu8NpR25/xVicAmZ/VOwQ1gL7a58r06wTM2DQA8H39hkrMNi1cCR0KQKzXIlSvUY0NsmYVZAA8/sqk252i9PcDFlHAntvk/qP0NeD5+YDPThlDs6F7BoVB02C1kuDc0gAhiT5lGmf088asCAnPAQVGuDhqgZy1Y26IKlLvmMAK1u+P71X9fDUcAIwAjgHA/B8DlLCf6MVwEC8ENhztGW7P5DAuqlEKYgW3NFFaMAPJgi8O6wExM0x4pfEnCSaMfyzvQ08dZrtdpKKQFDvfhXVN4nIS5UoXtnx0Sl92+16ZHAAAAAElFTkSuQmCC",jS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAADNFJREFUeF7t3YFx00oQBuB7lUAqASoBKiFUQqiEUAlQCS+rsTJ2Yie2OWt92k8zTIAkWt13p18nWZb/axYCBMoK/Fe25RpOgEATAAYBgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICAqBw52s6AQFgDBAoLCAACne+phMQAMYAgcICPQLgbWvt/cbwTWst/m0hQOAyAr9ba39aa/F1/nN2pXMD4FNr7d1mx7fDn83vFwn8s8D9w34Yf36eEwinBkDs+F8c5f+506yAwCUEYkbw9WH/vDt25ccGQEzxY8efp/rHrt/PESCwvEDMCCII4uuLyzEBEDv+7Wsr8n0CBK5OIPbb75tTg70b91oA/HDUv7pOtUEEThGIWcDnQyFwKADiwt43O/8pzn6WwNUKxLWBD/tC4FAAOPJfbV/aMAJnCewNgX0BEEf+uNpvIUBgXQJxTSAuDj4uTwPABb91dbjWEHgqsBMC2wEQ5/2/eBEgsHqBm/l6wHYAOPqvvt81kMAk8DgLmAPA0d/IIFBLYJoFzAHg6F+r87WWwDQLmAMgzv29qcegIFBHIG4Q+hABYPpfp9O1lMC2wE0EgOm/QUGgpsDnCAA3/tTsfK0mcBcB4LZfA4FATYH7CAAXAGt2vlYTmALgLwcCBGoKmAHU7HetJjAJCAADgUBdgelOQBcB6w4ALa8tMF0D8DJg7UGg9XUFppcB3QhUdwBoeW2B2wiAeNR3nAZYCBCoJTDdChyLewFqdbzWEohnBD4GgOsABgSBWgI7bweO04AIAW8JrjUItLauwM4DQYLBLKDuYNDyWgLPHgkWzY+jf1wMNAuoNRi0tp7A3oeCBoOXBOsNBi2uJXDwseAzg1cEag0Ira0jMD0GbLu5+z4ZyKlAnQGhpXUEppf9njb3pQ8HdT2gzuDQ0vULxJE/ZgA7y0sfD24msP5BoYXrF4gjf3w8+LOdP5r+UgDMNN4tuP5BooXrFHh2zn/KDGD7Z+PTguMVAi8RrnOgaNX6BOKof/das46ZAWyvI24WirsGBcFrsr5PIEfg2UeAv7QZpwZArCt2/giBj5u/C4OcjlaVwCwQR/qfm/P8OOc/ejknAJ6uPMLg3eY/4+8WAgQuJzDv4LHDx/LqNL/3DOByTbNmAgQWFegxA1h0gxUjQKCfgADoZ2lNBIYTEADDdZkNJtBPQAD0s7QmAsMJCIDhuswGE+gnIAD6WVoTgeEEBMBwXWaDCfQTEAD9LK2JwHACAmC4LrPBBPoJCIB+ltZEYDgBATBcl9lgAv0EBEA/S2siMJyAABiuy2wwgX4CAqCfpTURGE5AAAzXZTaYQD8BAdDP0poIDCcgAIbrMhtMoJ+AAOhnaU0EhhMQAMN1mQ0m0E9AAPSztCYCwwkIgOG6zAYT6CcgAPpZWhOB4QQEwHBdZoMJ9BMQAP0srYnAcAICYLgus8EE+gkIgH6W1kRgOAEBMFyX2WAC/QQEQD9LayIwnIAAGK7LbDCBfgICoJ+lNREYTkAADNdlNphAPwEB0M/SmggMJyAAhusyG0ygn4AA6GdpTQSGExAAw3WZDSbQT0AA9LO0JgLDCQiA4brMBhPoJyAA+llaE4HhBATAcF1mgwn0ExAA/SyticBwAgJguC6zwQT6CQiAfpbWRGA4AQEwXJfZYAL9BARAP0trIjCcgAAYrstsMIF+Aj0C4H1r7W1r7c3ma2xd/NtCgEB/gfvNKv+01n5v/Tmr0rkB8Km19q61Nu/8ZxX3SwQIdBGIUPh6ThicGgCx43/rsslWQoDAJQQ+PxyYIxBidvDqcmwAxI7/xdT+VU8/QOAaBCIAvj/sr3evbcwxAfBjM9V/bV2+T4DAdQncboLg4GzgpQCIC3kx3Y/zfAsBAmMKxGwgTgv2hsChAIidP478ruaP2em2msC2QOz8H/aFwKEAMO03gAisS2BvCOwLADv/ujpeawjMAnFNIF4ufFyeBkBc6Y8fshAgsE6BnRDYDoA43/+1zjZrFQECWwI38/WA7QBw9DdGCNQQeJwFzAHg6F+j47WSwCwwzQLmAHD0NzAI1BKYZgFzAMS5v9f8aw0Ara0tEDcIfYgAMP2vPRC0vq7ATQSA6X/dAaDltQVuIwDifv94t5+FAIFaAncRAO78q9XpWktgFriPAHAB0IAgUFNgehnwb822azUBAmYAxgCBugLTDMApQN0BoOW1BaYAcBGw9iDQ+roC00VALwPWHQBaXltgehnQjUC1B4HW1xWYbgSKh37GaYCFAIFaAtOtwLG4EFir47WWQDwj8DEAXAcwIAjUEth5O7DHgNfqfK0lsPNAkOBwMdCgIFBD4NkjwaLZZgE1Ol8rCTw+C9RjwQ0GArUEDj4WfGZwQbDWgNDaOgLTY8C2m3voo8G8LFhnUGhpDYHpZb+nTfXhoDU6XytrC5z84aAuCtYeMFq/HoFn0/5jTgG2f8Y1gfUMBi2pJfDizh8Uh04BnjLFQ0PjPgGfHVBrAGntmAIx5f/88D6fCIAXl2MDYF6JIHhN1PcJ5ArEjn937CacGgDzeuMdhPOMwKzgWG0/R+AyArHD/zxlx58349wA2G5GhEGEwJvNfwqEy3SytRKYBWKK/2czxY+/n730CICzi/tFAgRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBQRAKr/iBHIFBECuv+oEUgUEQCq/4gRyBQRArr/qBFIFBEAqv+IEcgUEQK6/6gRSBXoEwKdNC95tvr5NbZHiBNYt8Lu1Fn9i+bn5+/zvk1t+bgDETv+xtfb+5Ip+gQCB3gL3rbXvD/tjfD0pDE4NgC8PW37be+utjwCBbgKxf0YYHBUExwZAHPG/ddtEKyJA4NICn4+ZERwTAD9M9S/dV9ZP4CICcUoQQXBwNvBSAMTFvDjqO8+/SN9YKYFFBGLn/3AoBA4FQOz8vxbZPEUIEFhC4GZfCOwLgNj5Y9rv5bwlukUNAssI7J0J7AsA5/zLdIgqBJYWuGutfd2eCTwNAC/zLd0l6hFYViBeJowQmJbtAHDev2xHqEYgS+DxesB2ADj6Z3WHugSWFXicBcwB4Oi/bAeoRiBbYJoFzAHg6J/dHeoTWFZgmgXMAfB32dqqESCQLBAvC95EAJj+J/eE8gSSBKYAMP1P0leWQLLAbQRA3O8/P9QjeXuUJ0BgQYG7CAB3/i0orhSBKxK4jwCIN/247/+KesWmEFhIYHoZ0CsAC2krQ+DaBMwArq1HbA+B5QSmGYBTgOXAVSJwTQJTALgIeE1dYlsILCcwXQT0MuBy4CoRuCaB6WVANwJdU5fYFgLLCUw3AsVDP+M0wEKAQC2B6VbgWFwIrNXxWkvg8c1AQeE0wIAgUEtg5+3AngRcq/O1lsDOA0HMAgwIAnUEnj0SbG66awF1BoGW1hSYzv3npnsseM1BoNV1BQ4+FnwmcUGw7uDQ8nULxAeDxIeFPi6HPhvQqcC6B4LW1ROITwqODwndWV76cFCfD1hvkGjxOgV2zvuPmQHMP+ONQuscEFpVR2Dvkf/QRcB9LK4J1BksWrougZ0LfvuadugU4OnPxvsF4l2DHh22rgGiNesUiKN+fABofH1xOTYA5pXE04NjRiAIXpP1fQLLC8S5fuz4cbX/qOXUAJhXGjOCj5t3EgqDo6j9EIGLCcQO//2YI/7TLTg3ALbXE2EQSwTBG7ODi3WyFRMIgTjK/9lQxBQ//n320iMAzi7uFwkQyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBUQALn+qhNIFRAAqfyKE8gVEAC5/qoTSBUQAKn8ihPIFRAAuf6qE0gVEACp/IoTyBX4HzWcGrN1qYysAAAAAElFTkSuQmCC",uj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD+SURBVHgBxZMxEkRAEEWbEsiIyLgBESJu4nSOICOTIRKSCYUyIut3FWWHtbUl2J/oYbz/dQ9pWUUPJNNDKcfFPM9UVRWVZcm1aZrk+z45jvMdMI4jJUnCdRRFpKoq9X1PaZryszAM7wFFUfA1jmPSNI1rONu2zRDLsrgWtfcAboi7vbwJEMMwqOu6ywTy8RMQ+0q6rtM0TfcAbBqG4XIT7ovJTgDP83gCdV2/bcjznN1d170ESMeDlGUZA9AsOLZtu6cDACa3AAjNRMPgCkgQBNQ0DSfBeMVxKiIR7uK4MB0At1EfISfAJ8EdAgTJ9tO5/Kj1mC9rmn0t/f1vfAEXA7DRUX1PdQAAAABJRU5ErkJggg==",cu=[{name:"Home News",path:"/home/news"},{name:"Home Tasks",path:"/home/tasks"},{name:"Home Done Tasks",path:"/home/done-tasks"},{name:"Home Person List",path:"/home/person-list"},{name:"Profile Info",path:"/profile/info"},{name:"Profile Reminders",path:"/profile/reminders"},{name:"Contact",path:"/contact"},{name:"About Us",path:"/about"},{name:"Message Board",path:"/home/message-board"}],kw="TooSecret",cj=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(cu),r=Sn(),o=h=>{const d=h.target.value;if(e(d),d)if(d.toLowerCase()===kw.toLowerCase())i([]);else{const _=cu.filter(m=>m.name.toLowerCase().includes(d.toLowerCase())).sort((m,v)=>m.name.toLowerCase().startsWith(d.toLowerCase())?-1:v.name.toLowerCase().startsWith(d.toLowerCase())?1:0);i(_)}else i(cu)},a=h=>{r(h),e(""),i(cu)},u=()=>{t.toLowerCase()===kw.toLowerCase()&&(r("/snake-game"),e(""))};return p.jsxs("div",{className:"search-bar-container",children:[p.jsx("img",{src:uj,alt:"Search",className:"search-icon"}),p.jsx("input",{type:"text",placeholder:"Search",value:t,onChange:o,onKeyDown:h=>{h.key==="Enter"&&u()},className:"search-input"}),t&&p.jsx("ul",{className:"search-results",children:n.map(h=>p.jsx("li",{onClick:()=>a(h.path),className:"search-result-item",children:h.name},h.path))})]})},_l=({toggleSidebar:t})=>{const e=_i(),n=Sn(),i=A.useContext(Ei);if(!i)throw new Error("UserContext is not available");const{user:r,setUser:o}=i,[a,u]=A.useState(null),h=m=>e.pathname.startsWith(m);A.useEffect(()=>{if(r){const m=de(),v=ie(m,"users/"+r.uid);pt(v,E=>{const w=E.val();w&&u(w.profilePicture||null)})}},[r]);const d=async()=>{const m=qm();try{await k1(m),o&&o(null),sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),n("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),n("/login"),window.location.reload())}catch(v){console.error("Error signing out:",v)}},_=r!=null&&r.isAdmin?"/admin-about":"/about";return p.jsx("header",{id:"header",className:"header p-3",children:p.jsxs("div",{className:"general ",children:[p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("button",{className:"menu-button",id:"menuButton",onClick:t,children:p.jsx("img",{src:jS,alt:"Menu",className:"menu-icon"})}),p.jsx("button",{className:"header-title",onClick:()=>n("/home"),children:"MyWork"}),r&&p.jsx("button",{onClick:d,className:"exit-button-mobile",children:p.jsx("img",{src:Iw,alt:"Exit",className:"exit-icon-mobile"})})]}),p.jsxs("div",{className:"navbar2",children:[r&&p.jsx(cj,{}),!r&&p.jsxs("div",{className:"guest-links",children:[p.jsx(yt,{to:"/about",className:`nav-link ${h("/about")?"active":""}`,children:"About Us"}),p.jsx(yt,{to:"/contact",className:`nav-link ${h("/contact")?"active":""}`,children:"Contact"}),p.jsx("button",{className:`nav-link ${h("/login")?"active":""}`,onClick:()=>{sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),n("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),n("/login"),window.location.reload())},children:"Sign In"})]}),r&&p.jsxs(p.Fragment,{children:[p.jsx(yt,{to:"/profile",className:`nav-link ${h("/profile")?"active":""}`,children:"Profile"}),p.jsx(yt,{to:_,className:`nav-link ${h("/about")||h("/admin-about")?"active":""}`,children:"About Us"}),p.jsx(yt,{to:"/contact",className:`nav-link ${h("/contact")?"active":""}`,children:"Contact"})]})]}),r&&p.jsxs("div",{className:"user-info",children:[a&&p.jsx("img",{src:a,alt:"Profile",className:"user-profile-picture"}),p.jsxs("span",{className:"user-name",children:["Logged In: ",r==null?void 0:r.name]}),p.jsxs("button",{onClick:d,className:"exit-button d-flex align-items-center",children:[p.jsx("img",{src:Iw,alt:"Exit",className:"exit-icon"}),p.jsx("span",{className:"ml-1",children:"Exit"})]})]})]})})},hj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADZSURBVHgB7ZXrDYIwFIWPhAEYQSfQEdgAnMCygRu4gk6gTqAbwAY6AkygG+htWhJS7UMppD/4ksMjNHztbdoCE6EzU94ZZQe/PClFTJdECvh9Q5nDPzkXbeF/FB9EnecaYpgtC4jS/pu1TlRR7oq4D91OIzY0ZD1lmavoCI9EGAnTiE6URvNtSckd21hFBygT2iGTPzlDP48pHEU32CnhSBBzdIW+dCnEVlVBX7qVjFVUGES89heItdYYOlN+EyUyLQ/YqfEDKeU1cFh7HjEMd0TwZbLHRPC8AZD/O0Y3SoVpAAAAAElFTkSuQmCC",Pw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAXCAYAAAAV1F8QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgB7ZXdEYIwEITXn3e1g5RgCdqBdkAHagVqBWoFWoIdWIJagXYAHeCdXOTIAA8hDC9+MzuBgdmDyx4AHWNIL9IZgehVFLnJyixJV9KaNIYfF2vMT39Qx6lop4qnDfT1ieouhipkW8emW2W8dwoxR9IIfuz1ya7kTVpjig7ghBm0jEGWvhf8I11gKKs1S1Cco0Su8XqGPyeIYUy6I9sjO0cx8j0zaBjvoZiNZb2rN5uTHgiEnaMIeWuqikTwD8fFNdLt+lPLQB1HpBVpgoAhsJSFgeEP6Eadcypv8B/e30eVTXTuY+dGg4Zz1Bejp2P8RmBs67gl3LqFFOHft7tPM/gTfM8r+QAsO3ft4HhkWgAAAABJRU5ErkJggg==",dj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADNSURBVHgBtdLtDcIgEAbgS1xAN7gRGMER3EBHcAPchBEcwRH86z9H6Ah4jZC0DVcOuHuTN03KxxMCB9CJp56oHzBMoMbUKxhliZhhJWTuCxTDIV8qQkMcdYL/JZsjeQPfgRypl/QtBjfIEpMimP7NY28OcwwUO5CohUmQ3DswqWEtyASVR8JhrYgrbY4VTAXxaUJgMFUkMhjC+uV0ITdmQYBysAfZg7iTdSE5DwGGo4gEe2ohEkwNacWGECmmgtQwVYTDTJAtZorknEeRHznb/X/ubUgbAAAAAElFTkSuQmCC",fj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAQAAAAHtlR4AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAAAqo0jMgAAAAd0SU1FB+gIFBQTJJ8LFqkAAAIpSURBVDjLjdLBa5RHGAbw33z7bUww6yhNBVvWlFRqwUuUnnoRwV5SiqFq9aI3T1VEL0Vy91qooNZjL21zkoKQWMh/YBAsJkZBE4lY1BRETcxuvvGQ3c26rTbPexlmnmfe531mAr0osc1vNvjOXLKGQL/fLTnqcV3wQh6bZ1V7lA2YC97CgEE12z3OEeXY6muf67dB5qRvtCuSfrnMWbPuuObvEHe64Cvrw59OhjjqsFduKtsjuOlZR4cPDEom1ezW41dxIab4c+yJe+PLuByHYh672yqPQ3E5vox7Y0+8ElN8kuvGHYseuKXLXXX1t2zc85fX7ls0jY15K73Z2YOy4mHocJRmsgOK8nzN6sGqoGCWebKOKYPAQ2oNVlMwZPO/uJ0ofAkhvtKzzlBhcbXDA/PC/1CTj33StHTFj43Vu1F3xvmm4LUlSEEeapBKhBVIZfWQGizNWAKkrjASRu1CX7gULurDrjAaRnStsdqyCRWHDRtE1RFHVTFo2CGVNVbLeWIh/OAz45hyClMYd9pMWtDKpCUIUjJmDCz5pbH91E8tNzot0WeHEgVV1QJKduhrT7z9fXtdNmEf2aeuupoNYJ8Jl/T+xwzIVFR0I1dBGd0qKu3X5s2JC9lzJ3zoFmkmDJNmAtft98TzQkZaFayg0vA2Zw5Ccrsx6LIbLeebsJKb9oXjVvzz3t+UbHEMUyF+64KPrA+PfF/qmg539dukbvm9tWjSueKPN6CwqsyZX7OhAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTA4LTIwVDIwOjE5OjIzKzAwOjAwIphV9wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0wOC0yMFQyMDoxOToyMyswMDowMFPF7UsAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMDgtMjBUMjA6MTk6MzYrMDA6MDCaQuOtAAAAAElFTkSuQmCC",pj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAZCAYAAAAIcL+IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAChSURBVHgBzZPBDYMwEAQ3TgN+5heXQAkpJZ1ACUkFSSckFVACdAAdwFncCctwyDxArDQS1g3S2paBKZbIiZboiZJwWMiHhZA2lrMFSXh5wbDooMeFYrMizmZlSkcfy33CXWfYLRfukCvzP/GVRQH9DGuRDBKTLF4xHqjl9S2ad8Q7/qnAoR1PID6Iu+L4mfMfT+hXKFQG689AYjd1bBK83wAyfDgZRXddoQAAAABJRU5ErkJggg==",mj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAjCAYAAACKPxqrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHvSURBVHgB7VfNLgRBEK7qbrGJiPEEZiUkTngC67Z+Dt7Aui0u6wnwBNZB7E08AQfEzbwBTiKbMN5gD+tiZ7pUD8v0YA+7MyT4LlNd1d1fuuvr6h5cnbtdAiEPAMiBTIA+ha1ZAUJtZkdiQC4vpCIA9BRkDEScFPBN+DkiAjrsf2wOUxjkueVDSlAJGr92Ol56bTTKi/UVJLiAFGCtiIiu4+3ayZjHqWxA2kRZwiJCFDOVwuXbmSoX64W0zlgiR+A8DQzulIs326GQDuvfVAxIA0kio7oSSlVSr620kEaOGqwiP/p2wMcVIcy2bZa2KU87kZ9oBQT6xtaAjiQ64r7buWazWvWmIxI+DgUk4u1GNzkvri7Urf3ZPx3Dtm3EgPLlHAmS7t7Z6MOL/8YFpUos/63khCaGsu8yISKvq63L5XKNz0gMaucTPpE+TPq7Iqoe5zvmA4Xwkj4FPWBtvr7JeXK4Lu6albT9FLSuWLlW365Vx7mtMMkWmxXOiVUP46Q9E/HQ5Xeb3PX5uxErTHbl74HIvplDEeY79f4DN+w/0T9R5vhQ68rFe7dtyz4Y0jqI7FCHeY7he8/AHqjJjY8FaHUmQhncv43Vcb+5lwL4CtH7QsbjaMV/pxg8yBjmBawCog1l9pcy+hlDftDosPoMgEevB5BQqE0AAAAASUVORK5CYII=",gj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAjCAYAAABl/XGVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQNSURBVHgBrVfNbttGEJ5ZUrVjpwjzBKUPTtFT5CcodQssA3WewOqhgO0crDyB5SeoeqkD5NDkCewCTdqb2SewcgpgGTHzBFGQKLAicSezy12RifmjyPkAieTucr+dnW9mlghfoB2ceh+Wb7Ycgp8BqK4bEX0oBQ6A5IDHRfzQo3jyx6P/foqujMo+/LZ+VndRHDGJD9cEEnT+fL56kEtmiE6YyINvhC8JNZnautHy96epRRQR4lME7E2kjJzvaoOySeOPY88R6EmCugPwCzcFto8QGo/+WQ3Vvav+LpeWN9EQEdDTxeGw3Q3XSgkKEPKvu9Pst/n6u7Fu37Qnlu00zy8Sqyg6fHZnBb4BtjfOu0i0p+6tde4u+4qsVQQHMCe277300XH/4vX7C8N3a+A6ndE43tIakDLgIaEgIXz7wuKH4THMC+EEoH1F/uXSUrt7vMJuoJ7p1SHkkozriAJUR5Wftu/1A+lAXZD02Be9w39/nC5OInrOdCRqRRPRC0QMEJ27mowV4Seew0Exid0iCPSEanGofR2BjB8qUhFPjsGp7SfbFnfNq8ayJJyEnZBIvi0mqp1ARs4p2NdCHD1onm+pjEHxeG1h+P52TvbwEssMBDpv8siE4x5RmlEGerWo01NdiUE1SqAuL+r/KySS01e6t+Ci49xSMsy1av2sRca5OtDjuJGdcHuj3zFx5JltbkAJBBMVpid27lYRkQLHTocHWZEEKhNBKVkB2psX6sVAU3H85WVx3TcZP7T3oxs3WjAP2eXlpD59kHFYNM4sQvejcO/CPGQgUlEUWWVBUr7W14rSJKASWJ2QESKYATOQzVDfVGK4FpnQJV7Be7D+6gcogfWVSk8wD9mi69okCjGMfy0apzIMK8iKqQfzkCVZ26gMxV4y6VWYYE5QolpNZpWUBy56tr55Kj9mCVUAcy3UyVmTAj6pUq1b1qmqK5f4EEydYisudpt9vVUjQD8VD0UynlQW3imZpPh23oCFmnt/NB6f2qSbyZV2yGBCcP9xnlU6VtPT4tRn7JdbeWTKdwu12po6COV0hxOixuPnd3KFoQqqmT0Cbdk0IJOVFxHypcU+66Bbq7OfvZiVV0QytYTYMlSWyUFCBjaeyFdOLzsaGAFEMCO4atj40yIUWblWZe2vgVFuoEmJQk2Wzdog3L2qmjQz9HkkAVuma54WCO//36bZ/7h886QogGfF7np/n0/YLfMY2vib6nKneXaRigQjVEoDeuHwWZ9IlGZ+ROkRIQe+9pEKjcD28efTiiVz08a4weeRk4SQfI6ilj6rCPH5d1Uu8seoDJTNKp+NSY5tlvBaUDtxcPhstZttzF30zsb5JsdSYKULVPFxiLrADjg/Rmrrl4bvn+SF0CfBL89uxQdQgAAAAABJRU5ErkJggg==",_j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALwSURBVHgBtVfNbtpAEJ5ZOxQprcQjECmJVKmH5Ani3iqSQ/oETQ6VCBfgCZI8QekJpB6gTxCqJlWkHoAnwLeqIRV+g7o3KMbTGfNTFzDY1HwSaHdn1t/ut7O7swgxIfuqY6AGlwB4AEApbmo6v/vFD19fmH6/gtEWG6i/Hb+lYU3kMp1LJm1w0RiTCgw98aQtNv/g+ttPb0rNQ3tKjJpezZ50DIiI3MmPPCFcBdnFls08lC6OOw0ZHNdb0q58PgYSVqPMXHyJqLDKDxHzMFLDAsepSZs++cB4fGml6TdcOIQwUJohfSAcbEI8dzX9NJv5nhrPWJ92JoCD3PFjNcyXeCZvIDQQkKChAeXBdWtjYsfyuxDQmazJatklgsNiFHREcF25f255xMlk0l7gydtjK5C8cNpN+SI4HDUy6Zf9mpQ94lJ9R4ibC1zTHO1dkX52AL1eLxKpoHK7dzUp61MKcluIyljUQaTnAYj8TY7ij8MBmJX7fZPrsC5wUhDp+oNhN6p8UVC+25vyeVK/zTwciHQ86yJsDGj5a57UW/wjXkvw1hntzcyaDw8fvBknEluTRmNTUrOav+aIg6M6VphzxOMRtWCDcCmAOJlIlEbruxkochcTe3IjnMNGQKYckwuJBeXb3Tqf/K/jnjmfz3PL+A+xHCLkkD0EumZvC+KCOyzNNuFsw8Xx4894txSZ5bv9uftdzbnR8D3ECJZ54ffmiEfRHZfMZE2uwZXEEt0OQSwBJpd+kA2DDHL/oqZxyoppWA9Nvo1eBhlVkEH2HQfFjkMkgWFCNNg0dJaeCWqZUbJ+HfEdFyPkViIxFWcPjNDEnISf9beftcG7sSKQ+vKqZfDWWJ4WXgXdFCh1xKWzdfayR+rLq5ZBH//zK0IeXBMBCCLCJoXFyufdWtgO06geRbEuibwBUYBYJ2ewck0DiacDkIcbcVYJcBS4lfgcZ00+gcI6S9uENYDLjJIEagpTfIunPWelbNI1s1LfseA/8QenPDU77u8Q2QAAAABJRU5ErkJggg==",BS=({isSidebarOpen:t,toggleSidebar:e,onTasksClick:n})=>{const i=_i(),{user:r}=A.useContext(Ei)||{},[o,a]=A.useState(window.innerWidth<=768);A.useEffect(()=>{const d=()=>{a(window.innerWidth<=768)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),A.useEffect(()=>{o&&e()},[o]);const u=d=>i.pathname===d,h=i.pathname.startsWith("/home");return p.jsxs("div",{id:"sidebar",className:`sidebar ${t?"":"collapsed"} ${o?"mobile-sidebar":""}`,children:[p.jsxs("div",{className:"sidebar-header",children:[p.jsx("button",{className:"menu-button",onClick:e,children:p.jsx("img",{src:jS,alt:"Menu",className:"sidebar-icon"})}),t&&p.jsx("button",{className:"sidebar-title",onClick:()=>window.location.href="/react-mywork/#/home/news",children:"MyWork"})]}),p.jsx("div",{className:"sidebar-links",children:h?p.jsxs(p.Fragment,{children:[p.jsxs(yt,{to:"/home/news",className:`sidebar-link ${u("/home/news")?"active":""}`,children:[p.jsx("img",{src:hj,alt:"News",className:"sidebar-icon"}),t&&p.jsx("span",{children:"News"})]}),r&&p.jsxs(p.Fragment,{children:[p.jsxs(yt,{to:r!=null&&r.isAdmin?"/home/admin-tasks":"/home/tasks",className:`sidebar-link ${u("/home/tasks")||u("/home/admin-tasks")?"active":""}`,onClick:n,children:[p.jsx("img",{src:Pw,alt:"Tasks",className:"sidebar-icon"}),t&&p.jsx("span",{children:"Tasks"})]}),p.jsxs(yt,{to:"/home/message-board",className:`sidebar-link ${u("/home/message-board")?"active":""}`,children:[p.jsx("img",{src:dj,alt:"Message Board",className:"sidebar-icon"}),t&&p.jsx("span",{children:"Message Board"})]}),p.jsxs(yt,{to:"/home/calendar",className:`sidebar-link ${u("/home/calendar")?"active":""}`,children:[p.jsx("img",{src:fj,alt:"Calendar",className:"sidebar-icon"}),t&&p.jsx("span",{children:"Calendar"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs(yt,{to:"/profile/info",className:`sidebar-link ${u("/profile/info")?"active":""}`,children:[p.jsx("img",{src:pj,alt:"Info",className:"sidebar-icon"}),t&&p.jsx("span",{children:"Info"})]}),p.jsxs(yt,{to:"/profile/reminders",className:`sidebar-link ${u("/profile/reminders")?"active":""}`,children:[p.jsx("img",{src:Pw,alt:"Reminders",className:"sidebar-icon"}),t&&p.jsx("span",{children:"Reminders"})]})]})}),t&&p.jsx("div",{className:"sidebar-name",children:p.jsx("span",{children:"Yiğit Alp Bilgin"})}),p.jsxs("div",{className:"sidebar-social-media",children:[p.jsx("a",{href:"https://www.linkedin.com/in/yi%C4%9Fit-alp-bilgin-964444148/",target:"_blank",rel:"noopener noreferrer",children:p.jsx("img",{src:mj,alt:"LinkedIn",className:"social-icon"})}),p.jsx("a",{href:"https://www.instagram.com/yigitalp_bilgin/",target:"_blank",rel:"noopener noreferrer",children:p.jsx("img",{src:gj,alt:"Instagram",className:"social-icon"})}),p.jsx("a",{href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",children:p.jsx("img",{src:_j,alt:"Twitter",className:"social-icon"})})]})]})};function FS(t,e){return function(){return t.apply(e,arguments)}}const{toString:vj}=Object.prototype,{getPrototypeOf:bg}=Object,vh=(t=>e=>{const n=vj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xn=t=>(t=t.toLowerCase(),e=>vh(e)===t),yh=t=>e=>typeof e===t,{isArray:_o}=Array,$a=yh("undefined");function yj(t){return t!==null&&!$a(t)&&t.constructor!==null&&!$a(t.constructor)&&Vt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const US=xn("ArrayBuffer");function wj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&US(t.buffer),e}const Ej=yh("string"),Vt=yh("function"),zS=yh("number"),wh=t=>t!==null&&typeof t=="object",Aj=t=>t===!0||t===!1,bu=t=>{if(vh(t)!=="object")return!1;const e=bg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Cj=xn("Date"),Sj=xn("File"),xj=xn("Blob"),Tj=xn("FileList"),Ij=t=>wh(t)&&Vt(t.pipe),kj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vt(t.append)&&((e=vh(t))==="formdata"||e==="object"&&Vt(t.toString)&&t.toString()==="[object FormData]"))},Pj=xn("URLSearchParams"),[Rj,Nj,bj,Lj]=["ReadableStream","Request","Response","Headers"].map(xn),Oj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),_o(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let u;for(i=0;i<a;i++)u=o[i],e.call(null,t[u],u,t)}}function WS(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HS=t=>!$a(t)&&t!==br;function yp(){const{caseless:t}=HS(this)&&this||{},e={},n=(i,r)=>{const o=t&&WS(e,r)||r;bu(e[o])&&bu(i)?e[o]=yp(e[o],i):bu(i)?e[o]=yp({},i):_o(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&vl(arguments[i],n);return e}const Mj=(t,e,n,{allOwnKeys:i}={})=>(vl(e,(r,o)=>{n&&Vt(r)?t[o]=FS(r,n):t[o]=r},{allOwnKeys:i}),t),Dj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jj=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Bj=(t,e,n,i)=>{let r,o,a;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)a=r[o],(!i||i(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&bg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Fj=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Uj=t=>{if(!t)return null;if(_o(t))return t;let e=t.length;if(!zS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},zj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bg(Uint8Array)),Wj=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},Hj=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Vj=xn("HTMLFormElement"),Zj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Rw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Kj=xn("RegExp"),VS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};vl(n,(r,o)=>{let a;(a=e(r,o,t))!==!1&&(i[o]=a||r)}),Object.defineProperties(t,i)},Gj=t=>{VS(t,(e,n)=>{if(Vt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Vt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Qj=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return _o(t)?i(t):i(String(t).split(e)),n},qj=()=>{},Yj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Wd="abcdefghijklmnopqrstuvwxyz",Nw="0123456789",ZS={DIGIT:Nw,ALPHA:Wd,ALPHA_DIGIT:Wd+Wd.toUpperCase()+Nw},$j=(t=16,e=ZS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function Xj(t){return!!(t&&Vt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Jj=t=>{const e=new Array(10),n=(i,r)=>{if(wh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=_o(i)?[]:{};return vl(i,(a,u)=>{const h=n(a,r+1);!$a(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},eB=xn("AsyncFunction"),tB=t=>t&&(wh(t)||Vt(t))&&Vt(t.then)&&Vt(t.catch),KS=((t,e)=>t?setImmediate:e?((n,i)=>(br.addEventListener("message",({source:r,data:o})=>{r===br&&o===n&&i.length&&i.shift()()},!1),r=>{i.push(r),br.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vt(br.postMessage)),nB=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||KS,b={isArray:_o,isArrayBuffer:US,isBuffer:yj,isFormData:kj,isArrayBufferView:wj,isString:Ej,isNumber:zS,isBoolean:Aj,isObject:wh,isPlainObject:bu,isReadableStream:Rj,isRequest:Nj,isResponse:bj,isHeaders:Lj,isUndefined:$a,isDate:Cj,isFile:Sj,isBlob:xj,isRegExp:Kj,isFunction:Vt,isStream:Ij,isURLSearchParams:Pj,isTypedArray:zj,isFileList:Tj,forEach:vl,merge:yp,extend:Mj,trim:Oj,stripBOM:Dj,inherits:jj,toFlatObject:Bj,kindOf:vh,kindOfTest:xn,endsWith:Fj,toArray:Uj,forEachEntry:Wj,matchAll:Hj,isHTMLForm:Vj,hasOwnProperty:Rw,hasOwnProp:Rw,reduceDescriptors:VS,freezeMethods:Gj,toObjectSet:Qj,toCamelCase:Zj,noop:qj,toFiniteNumber:Yj,findKey:WS,global:br,isContextDefined:HS,ALPHABET:ZS,generateString:$j,isSpecCompliantForm:Xj,toJSONObject:Jj,isAsyncFn:eB,isThenable:tB,setImmediate:KS,asap:nB};function ee(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}b.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const GS=ee.prototype,QS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QS[t]={value:t}});Object.defineProperties(ee,QS);Object.defineProperty(GS,"isAxiosError",{value:!0});ee.from=(t,e,n,i,r,o)=>{const a=Object.create(GS);return b.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ee.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const iB=null;function wp(t){return b.isPlainObject(t)||b.isArray(t)}function qS(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function bw(t,e,n){return t?t.concat(e).map(function(r,o){return r=qS(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function rB(t){return b.isArray(t)&&!t.some(wp)}const sB=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function Eh(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,k){return!b.isUndefined(k[T])});const i=n.metaTokens,r=n.visitor||_,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(b.isDate(w))return w.toISOString();if(!h&&b.isBlob(w))throw new ee("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(w)||b.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function _(w,T,k){let S=w;if(w&&!k&&typeof w=="object"){if(b.endsWith(T,"{}"))T=i?T:T.slice(0,-2),w=JSON.stringify(w);else if(b.isArray(w)&&rB(w)||(b.isFileList(w)||b.endsWith(T,"[]"))&&(S=b.toArray(w)))return T=qS(T),S.forEach(function(x,R){!(b.isUndefined(x)||x===null)&&e.append(a===!0?bw([T],R,o):a===null?T:T+"[]",d(x))}),!1}return wp(w)?!0:(e.append(bw(k,T,o),d(w)),!1)}const m=[],v=Object.assign(sB,{defaultVisitor:_,convertValue:d,isVisitable:wp});function E(w,T){if(!b.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+T.join("."));m.push(w),b.forEach(w,function(S,C){(!(b.isUndefined(S)||S===null)&&r.call(e,S,b.isString(C)?C.trim():C,T,v))===!0&&E(S,T?T.concat(C):[C])}),m.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return E(t),e}function Lw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Lg(t,e){this._pairs=[],t&&Eh(t,this,e)}const YS=Lg.prototype;YS.append=function(e,n){this._pairs.push([e,n])};YS.toString=function(e){const n=e?function(i){return e.call(this,i,Lw)}:Lw;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function oB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $S(t,e,n){if(!e)return t;const i=n&&n.encode||oB,r=n&&n.serialize;let o;if(r?o=r(e,n):o=b.isURLSearchParams(e)?e.toString():new Lg(e,n).toString(i),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ow{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(i){i!==null&&e(i)})}}const XS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aB=typeof URLSearchParams<"u"?URLSearchParams:Lg,lB=typeof FormData<"u"?FormData:null,uB=typeof Blob<"u"?Blob:null,cB={isBrowser:!0,classes:{URLSearchParams:aB,FormData:lB,Blob:uB},protocols:["http","https","file","blob","url","data"]},Og=typeof window<"u"&&typeof document<"u",hB=(t=>Og&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),dB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fB=Og&&window.location.href||"http://localhost",pB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Og,hasStandardBrowserEnv:hB,hasStandardBrowserWebWorkerEnv:dB,origin:fB},Symbol.toStringTag,{value:"Module"})),wn={...pB,...cB};function mB(t,e){return Eh(t,new wn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return wn.isNode&&b.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function gB(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _B(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function JS(t){function e(n,i,r,o){let a=n[o++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),h=o>=n.length;return a=!a&&b.isArray(r)?r.length:a,h?(b.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!u):((!r[a]||!b.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],o)&&b.isArray(r[a])&&(r[a]=_B(r[a])),!u)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(i,r)=>{e(gB(i),r,n,0)}),n}return null}function vB(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const yl={transitional:XS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=b.isObject(e);if(o&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return r?JSON.stringify(JS(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return mB(e,this.formSerializer).toString();if((u=b.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Eh(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),vB(e)):e}],transformResponse:[function(e){const n=this.transitional||yl.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?ee.from(u,ee.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{yl.headers[t]={}});const yB=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wB=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&yB[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Mw=Symbol("internals");function Qo(t){return t&&String(t).trim().toLowerCase()}function Lu(t){return t===!1||t==null?t:b.isArray(t)?t.map(Lu):String(t)}function EB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const AB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hd(t,e,n,i,r){if(b.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!b.isString(e)){if(b.isString(i))return e.indexOf(i)!==-1;if(b.isRegExp(i))return i.test(e)}}function CB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function SB(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,a){return this[i].call(this,e,r,o,a)},configurable:!0})})}class Bt{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,d){const _=Qo(h);if(!_)throw new Error("header name must be a non-empty string");const m=b.findKey(r,_);(!m||r[m]===void 0||d===!0||d===void 0&&r[m]!==!1)&&(r[m||h]=Lu(u))}const a=(u,h)=>b.forEach(u,(d,_)=>o(d,_,h));if(b.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(b.isString(e)&&(e=e.trim())&&!AB(e))a(wB(e),n);else if(b.isHeaders(e))for(const[u,h]of e.entries())o(h,u,i);else e!=null&&o(n,e,i);return this}get(e,n){if(e=Qo(e),e){const i=b.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return EB(r);if(b.isFunction(n))return n.call(this,r,i);if(b.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qo(e),e){const i=b.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Hd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(a){if(a=Qo(a),a){const u=b.findKey(i,a);u&&(!n||Hd(i,i[u],u,n))&&(delete i[u],r=!0)}}return b.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||Hd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return b.forEach(this,(r,o)=>{const a=b.findKey(i,o);if(a){n[a]=Lu(r),delete n[o];return}const u=e?CB(o):String(o).trim();u!==o&&delete n[o],n[u]=Lu(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&b.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Mw]=this[Mw]={accessors:{}}).accessors,r=this.prototype;function o(a){const u=Qo(a);i[u]||(SB(r,a),i[u]=!0)}return b.isArray(e)?e.forEach(o):o(e),this}}Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(Bt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});b.freezeMethods(Bt);function Vd(t,e){const n=this||yl,i=e||n,r=Bt.from(i.headers);let o=i.data;return b.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function ex(t){return!!(t&&t.__CANCEL__)}function vo(t,e,n){ee.call(this,t??"canceled",ee.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(vo,ee,{__CANCEL__:!0});function tx(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TB(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const d=Date.now(),_=i[o];a||(a=d),n[r]=h,i[r]=d;let m=o,v=0;for(;m!==r;)v+=n[m++],m=m%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),d-a<e)return;const E=_&&d-_;return E?Math.round(v*1e3/E):void 0}}function IB(t,e){let n=0,i=1e3/e,r,o;const a=(d,_=Date.now())=>{n=_,r=null,o&&(clearTimeout(o),o=null),t.apply(null,d)};return[(...d)=>{const _=Date.now(),m=_-n;m>=i?a(d,_):(r=d,o||(o=setTimeout(()=>{o=null,a(r)},i-m)))},()=>r&&a(r)]}const Nc=(t,e,n=3)=>{let i=0;const r=TB(50,250);return IB(o=>{const a=o.loaded,u=o.lengthComputable?o.total:void 0,h=a-i,d=r(h),_=a<=u;i=a;const m={loaded:a,total:u,progress:u?a/u:void 0,bytes:h,rate:d||void 0,estimated:d&&u&&_?(u-a)/d:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(m)},n)},Dw=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},jw=t=>(...e)=>b.asap(()=>t(...e)),kB=wn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const u=b.isString(a)?r(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),PB=wn.hasStandardBrowserEnv?{write(t,e,n,i,r,o){const a=[t+"="+encodeURIComponent(e)];b.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),b.isString(i)&&a.push("path="+i),b.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function NB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nx(t,e){return t&&!RB(e)?NB(t,e):e}const Bw=t=>t instanceof Bt?{...t}:t;function Yr(t,e){e=e||{};const n={};function i(d,_,m){return b.isPlainObject(d)&&b.isPlainObject(_)?b.merge.call({caseless:m},d,_):b.isPlainObject(_)?b.merge({},_):b.isArray(_)?_.slice():_}function r(d,_,m){if(b.isUndefined(_)){if(!b.isUndefined(d))return i(void 0,d,m)}else return i(d,_,m)}function o(d,_){if(!b.isUndefined(_))return i(void 0,_)}function a(d,_){if(b.isUndefined(_)){if(!b.isUndefined(d))return i(void 0,d)}else return i(void 0,_)}function u(d,_,m){if(m in e)return i(d,_);if(m in t)return i(void 0,d)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(d,_)=>r(Bw(d),Bw(_),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(_){const m=h[_]||r,v=m(t[_],e[_],_);b.isUndefined(v)&&m!==u||(n[_]=v)}),n}const ix=t=>{const e=Yr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:a,auth:u}=e;e.headers=a=Bt.from(a),e.url=$S(nx(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(b.isFormData(n)){if(wn.hasStandardBrowserEnv||wn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((h=a.getContentType())!==!1){const[d,..._]=h?h.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",..._].join("; "))}}if(wn.hasStandardBrowserEnv&&(i&&b.isFunction(i)&&(i=i(e)),i||i!==!1&&kB(e.url))){const d=r&&o&&PB.read(o);d&&a.set(r,d)}return e},bB=typeof XMLHttpRequest<"u",LB=bB&&function(t){return new Promise(function(n,i){const r=ix(t);let o=r.data;const a=Bt.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:d}=r,_,m,v,E,w;function T(){E&&E(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(_),r.signal&&r.signal.removeEventListener("abort",_)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function S(){if(!k)return;const x=Bt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:x,config:t,request:k};tx(function(F){n(F),T()},function(F){i(F),T()},M),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(i(new ee("Request aborted",ee.ECONNABORTED,t,k)),k=null)},k.onerror=function(){i(new ee("Network Error",ee.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let R=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||XS;r.timeoutErrorMessage&&(R=r.timeoutErrorMessage),i(new ee(R,M.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,t,k)),k=null},o===void 0&&a.setContentType(null),"setRequestHeader"in k&&b.forEach(a.toJSON(),function(R,M){k.setRequestHeader(M,R)}),b.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),u&&u!=="json"&&(k.responseType=r.responseType),d&&([v,w]=Nc(d,!0),k.addEventListener("progress",v)),h&&k.upload&&([m,E]=Nc(h),k.upload.addEventListener("progress",m),k.upload.addEventListener("loadend",E)),(r.cancelToken||r.signal)&&(_=x=>{k&&(i(!x||x.type?new vo(null,t,k):x),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(_),r.signal&&(r.signal.aborted?_():r.signal.addEventListener("abort",_)));const C=xB(r.url);if(C&&wn.protocols.indexOf(C)===-1){i(new ee("Unsupported protocol "+C+":",ee.ERR_BAD_REQUEST,t));return}k.send(o||null)})},OB=(t,e)=>{let n=new AbortController,i;const r=function(h){if(!i){i=!0,a();const d=h instanceof Error?h:this.reason;n.abort(d instanceof ee?d:new vo(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{r(new ee(`timeout ${e} of ms exceeded`,ee.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",r):h.unsubscribe(r))}),t=null)};t.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",r));const{signal:u}=n;return u.unsubscribe=a,[u,()=>{o&&clearTimeout(o),o=null}]},MB=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},DB=async function*(t,e,n){for await(const i of t)yield*MB(ArrayBuffer.isView(i)?i:await n(String(i)),e)},Fw=(t,e,n,i,r)=>{const o=DB(t,e,r);let a=0,u,h=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:_,value:m}=await o.next();if(_){h(),d.close();return}let v=m.byteLength;if(n){let E=a+=v;n(E)}d.enqueue(new Uint8Array(m))}catch(_){throw h(_),_}},cancel(d){return h(d),o.return()}},{highWaterMark:2})},Ah=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rx=Ah&&typeof ReadableStream=="function",Ep=Ah&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),sx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jB=rx&&sx(()=>{let t=!1;const e=new Request(wn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Uw=64*1024,Ap=rx&&sx(()=>b.isReadableStream(new Response("").body)),bc={stream:Ap&&(t=>t.body)};Ah&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!bc[e]&&(bc[e]=b.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new ee(`Response type '${e}' is not supported`,ee.ERR_NOT_SUPPORT,i)})})})(new Response);const BB=async t=>{if(t==null)return 0;if(b.isBlob(t))return t.size;if(b.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(b.isArrayBufferView(t)||b.isArrayBuffer(t))return t.byteLength;if(b.isURLSearchParams(t)&&(t=t+""),b.isString(t))return(await Ep(t)).byteLength},FB=async(t,e)=>{const n=b.toFiniteNumber(t.getContentLength());return n??BB(e)},UB=Ah&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:o,timeout:a,onDownloadProgress:u,onUploadProgress:h,responseType:d,headers:_,withCredentials:m="same-origin",fetchOptions:v}=ix(t);d=d?(d+"").toLowerCase():"text";let[E,w]=r||o||a?OB([r,o],a):[],T,k;const S=()=>{!T&&setTimeout(()=>{E&&E.unsubscribe()}),T=!0};let C;try{if(h&&jB&&n!=="get"&&n!=="head"&&(C=await FB(_,i))!==0){let j=new Request(e,{method:"POST",body:i,duplex:"half"}),F;if(b.isFormData(i)&&(F=j.headers.get("content-type"))&&_.setContentType(F),j.body){const[W,re]=Dw(C,Nc(jw(h)));i=Fw(j.body,Uw,W,re,Ep)}}b.isString(m)||(m=m?"include":"omit"),k=new Request(e,{...v,signal:E,method:n.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:m});let x=await fetch(k);const R=Ap&&(d==="stream"||d==="response");if(Ap&&(u||R)){const j={};["status","statusText","headers"].forEach(G=>{j[G]=x[G]});const F=b.toFiniteNumber(x.headers.get("content-length")),[W,re]=u&&Dw(F,Nc(jw(u),!0))||[];x=new Response(Fw(x.body,Uw,W,()=>{re&&re(),R&&S()},Ep),j)}d=d||"text";let M=await bc[b.findKey(bc,d)||"text"](x,t);return!R&&S(),w&&w(),await new Promise((j,F)=>{tx(j,F,{data:M,headers:Bt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:k})})}catch(x){throw S(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,t,k),{cause:x.cause||x}):ee.from(x,x&&x.code,t,k)}}),Cp={http:iB,xhr:LB,fetch:UB};b.forEach(Cp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zw=t=>`- ${t}`,zB=t=>b.isFunction(t)||t===null||t===!1,ox={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let a;if(i=n,!zB(n)&&(i=Cp[(a=String(n)).toLowerCase()],i===void 0))throw new ee(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(zw).join(`
`):" "+zw(o[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Cp};function Zd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vo(null,t)}function Ww(t){return Zd(t),t.headers=Bt.from(t.headers),t.data=Vd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ox.getAdapter(t.adapter||yl.adapter)(t).then(function(i){return Zd(t),i.data=Vd.call(t,t.transformResponse,i),i.headers=Bt.from(i.headers),i},function(i){return ex(i)||(Zd(t),i&&i.response&&(i.response.data=Vd.call(t,t.transformResponse,i.response),i.response.headers=Bt.from(i.response.headers))),Promise.reject(i)})}const ax="1.7.4",Mg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mg[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Hw={};Mg.transitional=function(e,n,i){function r(o,a){return"[Axios v"+ax+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,u)=>{if(e===!1)throw new ee(r(a," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!Hw[a]&&(Hw[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,u):!0}};function WB(t,e,n){if(typeof t!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],a=e[o];if(a){const u=t[o],h=u===void 0||a(u,o,t);if(h!==!0)throw new ee("option "+o+" must be "+h,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+o,ee.ERR_BAD_OPTION)}}const Sp={assertOptions:WB,validators:Mg},Ri=Sp.validators;class Mr{constructor(e){this.defaults=e,this.interceptors={request:new Ow,response:new Ow}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yr(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Sp.assertOptions(i,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),r!=null&&(b.isFunction(r)?n.paramsSerializer={serialize:r}:Sp.assertOptions(r,{encode:Ri.function,serialize:Ri.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&b.merge(o.common,o[n.method]);o&&b.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=Bt.concat(a,o);const u=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let _,m=0,v;if(!h){const w=[Ww.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,d),v=w.length,_=Promise.resolve(n);m<v;)_=_.then(w[m++],w[m++]);return _}v=u.length;let E=n;for(m=0;m<v;){const w=u[m++],T=u[m++];try{E=w(E)}catch(k){T.call(this,k);break}}try{_=Ww.call(this,E)}catch(w){return Promise.reject(w)}for(m=0,v=d.length;m<v;)_=_.then(d[m++],d[m++]);return _}getUri(e){e=Yr(this.defaults,e);const n=nx(e.baseURL,e.url);return $S(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){Mr.prototype[e]=function(n,i){return this.request(Yr(i||{},{method:e,url:n,data:(i||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(i){return function(o,a,u){return this.request(Yr(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Mr.prototype[e]=n(),Mr.prototype[e+"Form"]=n(!0)});class Dg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(u=>{i.subscribe(u),o=u}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,u){i.reason||(i.reason=new vo(o,a,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Dg(function(r){e=r}),cancel:e}}}function HB(t){return function(n){return t.apply(null,n)}}function VB(t){return b.isObject(t)&&t.isAxiosError===!0}const xp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xp).forEach(([t,e])=>{xp[e]=t});function lx(t){const e=new Mr(t),n=FS(Mr.prototype.request,e);return b.extend(n,Mr.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return lx(Yr(t,r))},n}const Ye=lx(yl);Ye.Axios=Mr;Ye.CanceledError=vo;Ye.CancelToken=Dg;Ye.isCancel=ex;Ye.VERSION=ax;Ye.toFormData=Eh;Ye.AxiosError=ee;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=HB;Ye.isAxiosError=VB;Ye.mergeConfig=Yr;Ye.AxiosHeaders=Bt;Ye.formToJSON=t=>JS(b.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=ox.getAdapter;Ye.HttpStatusCode=xp;Ye.default=Ye;const ZB=()=>{const[t,e]=A.useState([]),[n,i]=A.useState(null),r="https://via.placeholder.com/150";A.useEffect(()=>{(async()=>{try{const h=await Ye.get("https://api.nytimes.com/svc/topstories/v2/home.json",{params:{"api-key":"HvwFcwgE3AP69sHN99OfmtAvLujuFMPm"}});e(h.data.results)}catch(h){i("Failed to fetch news"),console.error("Error fetching news:",h)}})()},[]);const o=u=>u?u.startsWith("http:")&&window.location.protocol==="https:"?u.replace("http:","https:"):u:r,a=u=>{window.open(u,"_blank")};return n?p.jsx("div",{id:"latest-news",className:"latest-news",children:n}):p.jsxs("div",{id:"latest-news",className:"latest-news",children:[p.jsx("h2",{children:"Hot Topics"}),t.length>0&&p.jsxs("div",{className:"hot-topic",onClick:()=>a(t[0].url),children:[p.jsx("img",{src:o(t[0].multimedia&&t[0].multimedia[0]?t[0].multimedia[0].url:"")||r,alt:"Hot Topic",className:"hot-topic-image"}),p.jsxs("div",{className:"hot-topic-details",children:[p.jsx("h3",{children:t[0].title}),p.jsxs("p",{children:[t[0].published_date," - ",t[0].source]})]})]}),p.jsx("h2",{children:"Latest News"}),p.jsx("div",{className:"latest-news-list",children:t.slice(1,4).map((u,h)=>{const d=o(u.multimedia&&u.multimedia[0]?u.multimedia[0].url:"");return p.jsxs("div",{className:"latest-news-item",onClick:()=>a(u.url),children:[p.jsx("img",{src:d,alt:"Latest News",className:"latest-news-image"}),p.jsx("p",{children:u.title})]},h)})})]})},KB=()=>{const[t,e]=A.useState([]);return A.useEffect(()=>{const n=de(),i=ie(n,"tasks");pt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({title:u,...o[u]})).filter(u=>u.status==="TO DO"||u.status==="IN PROGRESS");e(a)}})},[]),p.jsxs("div",{id:"status-section",className:"status-section",children:[p.jsx("h2",{children:"Task Status"}),p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"task-title",children:"Task Title"}),p.jsx("th",{className:"task-desc",children:"Task Description"}),p.jsx("th",{className:"task-status",children:"Status"})]})}),p.jsx("tbody",{children:t.map((n,i)=>p.jsxs("tr",{children:[p.jsx("td",{className:"task-title",children:i+1})," ",p.jsx("td",{className:"task-desc",children:n.summary}),p.jsx("td",{className:`task-status ${n.status.toLowerCase().replace(" ","-")}`,children:n.status})]},i))})]})]})},GB=()=>{const[t,e]=A.useState([]);return A.useEffect(()=>{const n=de(),i=ie(n,"users");pt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({uid:u,...o[u]}));e(a)}})},[]),p.jsxs("div",{id:"persons-section",className:"persons-section",children:[p.jsx("h2",{children:"Registered Users"}),p.jsx("ul",{children:t.map(n=>p.jsxs("li",{className:"person-item",children:[n.profilePicture&&p.jsx("img",{src:n.profilePicture,alt:`${n.name}'s profile`,className:"profile-picture"}),p.jsx("span",{className:"person-name",children:n.name})," "]},n.uid))})]})},QB=()=>{const[t,e]=A.useState([]);return A.useEffect(()=>{const n=de(),i=ie(n,"tasks");pt(i,r=>{const o=r.val();if(o){const a=Object.keys(o).map(u=>({key:u,displayKey:o[u].displayKey||t.length+1,...o[u]}));a.sort((u,h)=>u.displayKey-h.displayKey),e(a)}})},[]),p.jsx("div",{id:"home-tasks",className:"home-tasks",children:p.jsxs("table",{className:"tasks-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"key-header",children:"Key"}),p.jsx("th",{children:"Summary"}),p.jsx("th",{children:"Status"}),p.jsx("th",{className:"assignee-header",children:"Assignee"})]})}),p.jsx("tbody",{children:t.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"key-cell",children:p.jsxs("div",{className:"key-input-wrapper",children:[p.jsx("span",{className:"key-hash",children:"#"})," ",p.jsx("span",{children:n.displayKey})," "]})}),p.jsxs("td",{className:"summary",children:[n.summary," "]}),p.jsxs("td",{className:`status ${n.status.toLowerCase().replace(" ","-")}`,children:[n.status," "]}),p.jsxs("td",{className:"assignee",children:[n.assignee," "]})]},n.key))})]})})},Xa={_origin:"https://api.emailjs.com"},qB=(t,e="https://api.emailjs.com")=>{Xa._userID=t,Xa._origin=e},ux=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Vw{constructor(e){this.status=e.status,this.text=e.responseText}}const cx=(t,e,n={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:a})=>{const u=new Vw(a);u.status===200||u.text==="OK"?i(u):r(u)}),o.addEventListener("error",({target:a})=>{r(new Vw(a))}),o.open("POST",Xa._origin+t,!0),Object.keys(n).forEach(a=>{o.setRequestHeader(a,n[a])}),o.send(e)}),YB=(t,e,n,i)=>{const r=i||Xa._userID;return ux(r,t,e),cx("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},$B=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},XB=(t,e,n,i)=>{const r=i||Xa._userID,o=$B(n);ux(r,t,e);const a=new FormData(o);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",r),cx("/api/v1.0/email/send-form",a)},hx={init:qB,send:YB,sendForm:XB},JB=()=>{const[t,e]=A.useState([]),[n,i]=A.useState([]);A.useEffect(()=>{const m=de(),v=ie(m,"tasks");pt(v,w=>{const T=w.val();if(T){const k=Object.keys(T).map(S=>({key:S,displayKey:T[S].displayKey||t.length+1,...T[S]}));k.sort((S,C)=>S.displayKey-C.displayKey),e(k)}});const E=ie(m,"users");pt(E,w=>{const T=w.val();if(T){const k=Object.keys(T).map(S=>({uid:S,name:T[S].name,email:T[S].email}));i(k)}})},[]);const r=m=>{const v=[...t],E=v[m].status;let w="TO DO";E==="TO DO"?w="IN PROGRESS":E==="IN PROGRESS"&&(w="DONE"),v[m].status=w,u(v)},o=(m,v,E)=>{const w=[...t];v==="displayKey"?w[m].displayKey=parseInt(E):w[m][v]=E,w.sort((T,k)=>T.displayKey-k.displayKey),e(w),u(w)},a=(m,v)=>{const E=[...t];E[m].assignee=v,e(E),u(E)},u=m=>{const v=de(),E=ie(v,"tasks"),w=m.reduce((T,k)=>(T[k.key]={displayKey:k.displayKey,summary:k.summary,status:k.status,assignee:k.assignee},T),{});Ot(E,w)},h=()=>{const m=de(),v=Date.now().toString(),E=t.length>0?Math.max(...t.map(T=>T.displayKey))+1:1,w={key:v,displayKey:E,summary:"",status:"TO DO",assignee:""};Ot(ie(m,"tasks/"+w.key),w),e(T=>[...T,w].sort((k,S)=>k.displayKey-S.displayKey))},d=m=>{const v=de(),E=ie(v,"tasks/"+m);Rg(E),e(w=>w.filter(T=>T.key!==m))},_=m=>{const v=n.find(E=>E.name===m.assignee);if(v){const E={name:v.name,task_summary:m.summary,task_status:m.status,email:v.email};hx.send("service_h2uk57t","template_0yelkcd",E,"9h7w37IYT_ZFZeu8r").then(()=>{alert("Reminder email sent successfully!")}).catch(w=>{console.error("Error sending email:",w)})}};return p.jsxs("div",{id:"home-tasks",className:"home-tasks",children:[p.jsx("button",{onClick:h,className:"add-task-button",children:"Add Task"}),p.jsxs("table",{className:"tasks-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"key-header",children:"Key"}),p.jsx("th",{children:"Summary"}),p.jsx("th",{children:"Status"}),p.jsx("th",{className:"assignee-admin-header",children:"Assignee"}),p.jsx("th",{className:"action-header",children:"Actions"})]})}),p.jsx("tbody",{children:t.map((m,v)=>p.jsxs("tr",{children:[p.jsx("td",{className:"key-cell",children:p.jsxs("div",{className:"key-input-wrapper",children:[p.jsx("span",{className:"key-hash",children:"#"}),p.jsx("input",{type:"number",value:m.displayKey,onChange:E=>o(v,"displayKey",E.target.value),className:"key-input",min:"1"})]})}),p.jsx("td",{className:"summary",children:p.jsx("textarea",{value:m.summary,onChange:E=>o(v,"summary",E.target.value)})}),p.jsx("td",{className:`status ${m.status.toLowerCase().replace(" ","-")}`,onClick:()=>r(v),children:m.status}),p.jsxs("td",{className:"assignee-admin",children:[p.jsxs("select",{value:m.assignee,onChange:E=>a(v,E.target.value),children:[p.jsx("option",{value:"",children:"Select Assignee"}),n.map(E=>p.jsx("option",{value:E.name,children:E.name},E.uid))]}),m.assignee&&p.jsx("button",{onClick:()=>_(m),className:"send-email-button",children:"Send Email"})]}),p.jsx("td",{className:"actions",children:p.jsx("button",{onClick:()=>d(m.key),className:"delete-button",children:"Delete"})})]},m.key))})]})]})},eF=({messages:t})=>p.jsxs("div",{className:"message-list",children:[p.jsx("h2",{children:"Message Board"}),p.jsxs("table",{className:"table table-hover",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Message Title"}),p.jsx("th",{children:"Last Message"})]})}),p.jsx("tbody",{children:t.map(e=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsx(yt,{to:`/home/message-board/${e.id}`,children:e.title})}),p.jsxs("td",{children:[p.jsx("span",{children:e.lastSender||"Unknown"})," - ",p.jsx("span",{children:new Date(e.lastDate).toLocaleString()}),p.jsx("p",{children:e.lastMessage||"No message yet"})]})]},e.id))})]})]}),tF=({onAdd:t})=>{const[e,n]=A.useState(""),[i,r]=A.useState(""),o=()=>{e&&i?(console.log("Add button clicked",{title:e,content:i}),t(e,i)):console.log("Title or content missing")},a=()=>{n(""),r("")};return p.jsxs("div",{className:"create-new-title",children:[p.jsx("h2",{children:"Create New Title"}),p.jsx("div",{className:"form-group",children:p.jsx("input",{type:"text",value:e,onChange:u=>n(u.target.value),className:"form-control",placeholder:"Title"})}),p.jsx("div",{className:"form-group",children:p.jsx("textarea",{value:i,onChange:u=>r(u.target.value),className:"form-control",placeholder:"Content"})}),p.jsxs("div",{className:"button-group",children:[p.jsx("button",{onClick:o,className:"btn btn-primary",children:"Add"}),p.jsx("button",{onClick:a,className:"btn btn-secondary",children:"Clear"})]})]})},nF=()=>{const[t,e]=A.useState([]),n=A.useContext(Ei),i=n==null?void 0:n.user;A.useEffect(()=>{const o=de(),a=ie(o,"Messages");pt(a,u=>{const h=u.val()||{},d=Object.keys(h).map(_=>{const m=Object.values(h[_].messages||{}),v=m[m.length-1]||{};return{id:_,title:h[_].title,lastMessage:v.content||"No message yet",lastSender:v.sender||"Unknown",lastDate:v.date||""}});e(d)})},[]);const r=(o,a)=>{if(!i){console.log("User not authenticated");return}const u=de(),h=ie(u,`users/${i.uid}`);pt(h,d=>{const _=d.val(),m=(_==null?void 0:_.name)||"Anonymous",v=ie(u,"Messages"),E=gl(v);console.log("Adding new message:",{title:o,content:a,senderName:m}),Ot(E,{title:o,messages:{1:{sender:m,content:a,date:new Date().toISOString()}}}).then(()=>{console.log("New message added successfully")}).catch(w=>{console.error("Error adding new title:",w)})},{onlyOnce:!0})};return p.jsxs("div",{id:"message-board",className:"message-board",children:[p.jsx(eF,{messages:t})," ",p.jsx(tF,{onAdd:r})]})},iF=({onSubmit:t})=>{const[e,n]=A.useState(""),i=r=>{r.preventDefault(),e.trim()&&(t(e),n(""))};return p.jsxs("form",{onSubmit:i,children:[p.jsx("textarea",{value:e,onChange:r=>n(r.target.value),placeholder:"Type your message here"}),p.jsx("button",{type:"submit",children:"Send"})]})},rF=()=>{const{id:t}=CR(),[e,n]=A.useState(""),[i,r]=A.useState([]),o=A.useContext(Ei),a=o==null?void 0:o.user;A.useEffect(()=>{const d=de(),_=ie(d,`Messages/${t}`);pt(_,m=>{const v=m.val()||{};n(v.title||"");const E=Object.keys(v.messages||{}).map(w=>({id:w,...v.messages[w]}));r(E)})},[t]);const u=d=>{if(!a)return;const _=de(),m=ie(_,`Messages/${t}/messages`),v=gl(m);Ot(v,{sender:a.name,content:d,date:new Date().toISOString()})},h=d=>{const _={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(d).toLocaleString("en-GB",_)};return p.jsx("div",{id:"message-detail-page",children:p.jsxs("div",{className:"message-detail",children:[p.jsx("h2",{children:e}),p.jsx("div",{className:"messages",children:i.map((d,_)=>p.jsxs("div",{className:"message",children:[p.jsxs("p",{children:[p.jsx("strong",{children:d.sender})," - ",h(d.date)]}),p.jsx("p",{children:d.content})]},_))}),p.jsx(iF,{onSubmit:u})]})})},sF=({events:t,onEdit:e,onDelete:n,onViewDetails:i})=>p.jsx("div",{id:"calendar-event-list",children:t.map(r=>p.jsxs("div",{className:"event-item",children:[p.jsxs("div",{className:"event-details",children:[p.jsx("h3",{children:r.title}),p.jsxs("p",{children:[r.date," at ",r.time]})]}),p.jsxs("div",{className:"button-group",children:[p.jsx("button",{onClick:()=>i(r),children:"View Details"}),p.jsx("button",{onClick:()=>e(r),children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),children:"Delete"})]})]},r.id))}),Zw=({event:t={id:"",title:"",description:"",date:"",time:""},onSave:e,onCancel:n})=>{const[i,r]=A.useState(t.title),[o,a]=A.useState(t.description),[u,h]=A.useState(t.date),[d,_]=A.useState(t.time),m=()=>{const v={id:t.id||"",title:i,description:o,date:u,time:d};e(v)};return p.jsxs("div",{id:"calendar-form",children:[p.jsx("h2",{children:t.id?"Edit Event":"Add New Event"}),p.jsx("input",{type:"text",value:i,onChange:v=>r(v.target.value),placeholder:"Title"}),p.jsx("textarea",{value:o,onChange:v=>a(v.target.value),placeholder:"Description"}),p.jsx("input",{type:"date",value:u,onChange:v=>h(v.target.value)}),p.jsx("input",{type:"time",value:d,onChange:v=>_(v.target.value)}),p.jsx("button",{onClick:m,children:"Save"}),p.jsx("button",{onClick:n,children:"Cancel"})]})},oF=({event:t,onEdit:e,onDelete:n,onClose:i})=>p.jsxs("div",{id:"calendar-event-details",children:[p.jsx("h2",{children:"Event Details"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Title:"})," ",t.title]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Description:"})," ",t.description]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Date:"})," ",t.date]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Time:"})," ",t.time]}),p.jsxs("div",{className:"event-details-actions",children:[p.jsx("button",{onClick:e,children:"Edit"}),p.jsx("button",{onClick:n,children:"Delete"}),p.jsx("button",{onClick:i,children:"Close"})]})]}),aF=()=>{const[t,e]=A.useState([]),[n,i]=A.useState(void 0),[r,o]=A.useState(!1);A.useEffect(()=>{const m=de(),v=ie(m,"calendar/events");pt(v,E=>{const w=E.val()||{},T=Object.keys(w).map(k=>({id:k,...w[k]}));e(T)})},[]);const a=m=>{const v=de(),E=m.id?ie(v,`calendar/events/${m.id}`):gl(ie(v,"calendar/events")),w={...m,id:m.id||E.key};Ot(E,w),o(!1),i(void 0)},u=m=>{const v=de(),E=ie(v,`calendar/events/${m}`);Rg(E),i(void 0)},h=m=>{i(m),o(!0)},d=m=>{i(m),o(!1)},_=()=>{i(void 0),o(!1)};return p.jsxs("div",{id:"calendar-page",children:[p.jsx("h1",{children:"Calendar of Events"}),r?p.jsx(Zw,{event:n,onSave:a,onCancel:_}):n?p.jsx(oF,{event:n,onEdit:()=>h(n),onDelete:()=>u(n.id),onClose:_}):p.jsx(Zw,{onSave:a,onCancel:_}),p.jsx(sF,{events:t,onEdit:h,onDelete:u,onViewDetails:d})]})},wl=()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",document.head.appendChild(t)};var dx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(o=r(o,i(u)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var u in o)e.call(o,u)&&o[u]&&(a=r(a,u));return a}function r(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(dx);var lF=dx.exports;const Cn=Oc(lF),yo=!!(typeof window<"u"&&window.document&&window.document.createElement);var Tp=!1,Ip=!1;try{var Kd={get passive(){return Tp=!0},get once(){return Ip=Tp=!0}};yo&&(window.addEventListener("test",Kd,Kd),window.removeEventListener("test",Kd,!0))}catch{}function fx(t,e,n,i){if(i&&typeof i!="boolean"&&!Ip){var r=i.once,o=i.capture,a=n;!Ip&&r&&(a=n.__once||function u(h){this.removeEventListener(e,u,o),n.call(this,h)},n.__once=a),t.addEventListener(e,a,Tp?i:o)}t.addEventListener(e,n,i)}function Ch(t){return t&&t.ownerDocument||document}function kp(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}var hu;function Kw(t){if((!hu&&hu!==0||t)&&yo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),hu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return hu}function uF(){return A.useState(null)}function cF(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function On(t){const e=cF(t);return A.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Gw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function hF(t,e){const n=Gw(t),i=Gw(e);return r=>{n&&n(r),i&&i(r)}}function El(t,e){return A.useMemo(()=>hF(t,e),[t,e])}function dF(t){const e=A.useRef(t);return e.current=t,e}function px(t){const e=dF(t);A.useEffect(()=>()=>e.current(),[])}function fF(t){var e=Ch(t);return e&&e.defaultView||window}function pF(t,e){return fF(t).getComputedStyle(t,e)}var mF=/([A-Z])/g;function gF(t){return t.replace(mF,"-$1").toLowerCase()}var _F=/^ms-/;function du(t){return gF(t).replace(_F,"-ms-")}var vF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function yF(t){return!!(t&&vF.test(t))}function Dr(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(du(e))||pF(t).getPropertyValue(du(e));Object.keys(e).forEach(function(r){var o=e[r];!o&&o!==0?t.style.removeProperty(du(r)):yF(r)?i+=r+"("+o+") ":n+=du(r)+": "+o+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}function Lc(t,e,n,i){return fx(t,e,n,i),function(){kp(t,e,n,i)}}function wF(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function EF(t){var e=Dr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function AF(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||wF(t,"transitionend",!0)},e+n),o=Lc(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),o()}}function mx(t,e,n,i){n==null&&(n=EF(t)||0);var r=AF(t,n,i),o=Lc(t,"transitionend",e);return function(){r(),o()}}function Gd(t){t===void 0&&(t=Ch());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Qw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function CF(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function SF(t){const e=A.useRef(null);return A.useEffect(()=>{e.current=t}),e.current}const xF="data-rr-ui-";function TF(t){return`${xF}${t}`}function IF(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const qw=TF("modal-open");class jg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return IF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(Dr(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(qw,""),Dr(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(qw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gx=A.createContext(yo?window:void 0);gx.Provider;function Bg(){return A.useContext(gx)}const Qd=(t,e)=>yo?t==null?(e||Ch()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function kF(t,e){const n=Bg(),[i,r]=A.useState(()=>Qd(t,n==null?void 0:n.document));if(!i){const o=Qd(t);o&&r(o)}return A.useEffect(()=>{},[e,i]),A.useEffect(()=>{const o=Qd(t);o!==i&&r(o)},[t,i]),i}const PF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",RF=typeof document<"u",Yw=RF||PF?A.useLayoutEffect:A.useEffect;function NF({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const o=A.useRef(null),a=A.useRef(e),u=On(n);A.useEffect(()=>{e?a.current=!0:u(o.current)},[e,u]);const h=El(o,t.ref),d=A.cloneElement(t,{ref:h});return e?d:r||!a.current&&i?null:d}function bF(t){return t.code==="Escape"||t.keyCode===27}function LF(){const t=A.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const OF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function MF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function DF(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:o,onExited:a,addEndListener:u,children:h}=t,d=MF(t,OF);const{major:_}=LF(),m=_>=19?h.props.ref:h.ref,v=A.useRef(null),E=El(v,typeof h=="function"?null:m),w=j=>F=>{j&&v.current&&j(v.current,F)},T=A.useCallback(w(e),[e]),k=A.useCallback(w(n),[n]),S=A.useCallback(w(i),[i]),C=A.useCallback(w(r),[r]),x=A.useCallback(w(o),[o]),R=A.useCallback(w(a),[a]),M=A.useCallback(w(u),[u]);return Object.assign({},d,{nodeRef:v},e&&{onEnter:T},n&&{onEntering:k},i&&{onEntered:S},r&&{onExit:C},o&&{onExiting:x},a&&{onExited:R},u&&{addEndListener:M},{children:typeof h=="function"?(j,F)=>h(j,Object.assign({},F,{ref:E})):A.cloneElement(h,{ref:E})})}const jF=["component"];function BF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const FF=A.forwardRef((t,e)=>{let{component:n}=t,i=BF(t,jF);const r=DF(i);return p.jsx(n,Object.assign({ref:e},r))});function UF({in:t,onTransition:e}){const n=A.useRef(null),i=A.useRef(!0),r=On(e);return Yw(()=>{if(!n.current)return;let o=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>o}),()=>{o=!0}},[t,r]),Yw(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function zF({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[o,a]=A.useState(!e);e&&o&&a(!1);const u=UF({in:!!e,onTransition:d=>{const _=()=>{d.isStale()||(d.in?i==null||i(d.element,d.initial):(a(!0),n==null||n(d.element)))};Promise.resolve(r(d)).then(_,m=>{throw d.in||a(!0),m})}}),h=El(u,t.ref);return o&&!e?null:A.cloneElement(t,{ref:h})}function $w(t,e,n){return t?p.jsx(FF,Object.assign({},n,{component:t})):e?p.jsx(zF,Object.assign({},n,{transition:e})):p.jsx(NF,Object.assign({},n))}const WF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function HF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let qd;function VF(t){return qd||(qd=new jg({ownerDocument:t==null?void 0:t.document})),qd}function ZF(t){const e=Bg(),n=t||VF(e),i=A.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:A.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:A.useCallback(r=>{i.current.backdrop=r},[])})}const _x=A.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:o,children:a,backdrop:u=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:_,transition:m,runTransition:v,backdropTransition:E,runBackdropTransition:w,autoFocus:T=!0,enforceFocus:k=!0,restoreFocus:S=!0,restoreFocusOptions:C,renderDialog:x,renderBackdrop:R=Ce=>p.jsx("div",Object.assign({},Ce)),manager:M,container:j,onShow:F,onHide:W=()=>{},onExit:re,onExited:G,onExiting:ve,onEnter:Le,onEntering:Qt,onEntered:at}=t,mr=HF(t,WF);const xe=Bg(),mt=kF(j),O=ZF(M),Y=CF(),U=SF(n),[K,te]=A.useState(!n),ye=A.useRef(null);A.useImperativeHandle(e,()=>O,[O]),yo&&!U&&n&&(ye.current=Gd(xe==null?void 0:xe.document)),n&&K&&te(!1);const ue=On(()=>{if(O.add(),Tn.current=Lc(document,"keydown",qt),Ci.current=Lc(document,"focus",()=>setTimeout(X),!0),F&&F(),T){var Ce,gr;const Zn=Gd((Ce=(gr=O.dialog)==null?void 0:gr.ownerDocument)!=null?Ce:xe==null?void 0:xe.document);O.dialog&&Zn&&!Qw(O.dialog,Zn)&&(ye.current=Zn,O.dialog.focus())}}),se=On(()=>{if(O.remove(),Tn.current==null||Tn.current(),Ci.current==null||Ci.current(),S){var Ce;(Ce=ye.current)==null||Ce.focus==null||Ce.focus(C),ye.current=null}});A.useEffect(()=>{!n||!mt||ue()},[n,mt,ue]),A.useEffect(()=>{K&&se()},[K,se]),px(()=>{se()});const X=On(()=>{if(!k||!Y()||!O.isTopModal())return;const Ce=Gd(xe==null?void 0:xe.document);O.dialog&&Ce&&!Qw(O.dialog,Ce)&&O.dialog.focus()}),$e=On(Ce=>{Ce.target===Ce.currentTarget&&(d==null||d(Ce),u===!0&&W())}),qt=On(Ce=>{h&&bF(Ce)&&O.isTopModal()&&(_==null||_(Ce),Ce.defaultPrevented||W())}),Ci=A.useRef(),Tn=A.useRef(),Si=(...Ce)=>{te(!0),G==null||G(...Ce)};if(!mt)return null;const Yt=Object.assign({role:i,ref:O.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},mr,{style:o,className:r,tabIndex:-1});let Vn=x?x(Yt):p.jsx("div",Object.assign({},Yt,{children:A.cloneElement(a,{role:"document"})}));Vn=$w(m,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:re,onExiting:ve,onExited:Si,onEnter:Le,onEntering:Qt,onEntered:at,children:Vn});let xi=null;return u&&(xi=R({ref:O.setBackdropRef,onClick:$e}),xi=$w(E,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:xi})),p.jsx(p.Fragment,{children:Ns.createPortal(p.jsxs(p.Fragment,{children:[xi,Vn]}),mt)})});_x.displayName="Modal";const KF=Object.assign(_x,{Manager:jg});function GF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function QF(t,e){t.classList?t.classList.add(e):GF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var qF=Function.prototype.bind.call(Function.prototype.call,[].slice);function gs(t,e){return qF(t.querySelectorAll(e))}function Xw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function YF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Xw(t.className,e):t.setAttribute("class",Xw(t.className&&t.className.baseVal||"",e))}const _s={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $F extends jg{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,Dr(n,{[e]:`${parseFloat(Dr(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],Dr(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(QF(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gs(n,_s.FIXED_CONTENT).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth)),gs(n,_s.STICKY_CONTENT).forEach(o=>this.adjustAndStore(r,o,-e.scrollBarWidth)),gs(n,_s.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();YF(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";gs(n,_s.FIXED_CONTENT).forEach(o=>this.restore(i,o)),gs(n,_s.STICKY_CONTENT).forEach(o=>this.restore(r,o)),gs(n,_s.NAVBAR_TOGGLER).forEach(o=>this.restore(r,o))}}let Yd;function XF(t){return Yd||(Yd=new $F(t)),Yd}function JF(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function Pp(t,e){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pp(t,e)}function eU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pp(t,e)}var vx={exports:{}},tU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nU=tU,iU=nU;function yx(){}function wx(){}wx.resetWarningCache=yx;var rU=function(){function t(i,r,o,a,u,h){if(h!==iU){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wx,resetWarningCache:yx};return n.PropTypes=n,n};vx.exports=rU();var sU=vx.exports;const $d=Oc(sU),Jw={disabled:!1},Ex=Ut.createContext(null);var oU=function(e){return e.scrollTop},ia="unmounted",Tr="exited",Li="entering",Ir="entered",Rp="exiting",Ai=function(t){eU(e,t);function e(i,r){var o;o=t.call(this,i,r)||this;var a=r,u=a&&!a.isMounting?i.enter:i.appear,h;return o.appearStatus=null,i.in?u?(h=Tr,o.appearStatus=Li):h=Ir:i.unmountOnExit||i.mountOnEnter?h=ia:h=Tr,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var a=r.in;return a&&o.status===ia?{status:Tr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var o=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Li&&a!==Ir&&(o=Li):(a===Li||a===Ir)&&(o=Rp)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,o,a,u;return o=a=u=r,r!=null&&typeof r!="number"&&(o=r.exit,a=r.enter,u=r.appear!==void 0?r.appear:a),{exit:o,enter:a,appear:u}},n.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===Li){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Ns.findDOMNode(this);a&&oU(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Tr&&this.setState({status:ia})},n.performEnter=function(r){var o=this,a=this.props.enter,u=this.context?this.context.isMounting:r,h=this.props.nodeRef?[u]:[Ns.findDOMNode(this),u],d=h[0],_=h[1],m=this.getTimeouts(),v=u?m.appear:m.enter;if(!r&&!a||Jw.disabled){this.safeSetState({status:Ir},function(){o.props.onEntered(d)});return}this.props.onEnter(d,_),this.safeSetState({status:Li},function(){o.props.onEntering(d,_),o.onTransitionEnd(v,function(){o.safeSetState({status:Ir},function(){o.props.onEntered(d,_)})})})},n.performExit=function(){var r=this,o=this.props.exit,a=this.getTimeouts(),u=this.props.nodeRef?void 0:Ns.findDOMNode(this);if(!o||Jw.disabled){this.safeSetState({status:Tr},function(){r.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Rp},function(){r.props.onExiting(u),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Tr},function(){r.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},n.setNextCallback=function(r){var o=this,a=!0;return this.nextCallback=function(u){a&&(a=!1,o.nextCallback=null,r(u))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(r,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Ns.findDOMNode(this),u=r==null&&!this.props.addEndListener;if(!a||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=h[0],_=h[1];this.props.addEndListener(d,_)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===ia)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=JF(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ut.createElement(Ex.Provider,{value:null},typeof a=="function"?a(r,u):Ut.cloneElement(Ut.Children.only(a),u))},e}(Ut.Component);Ai.contextType=Ex;Ai.propTypes={};function vs(){}Ai.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vs,onEntering:vs,onEntered:vs,onExit:vs,onExiting:vs,onExited:vs};Ai.UNMOUNTED=ia;Ai.EXITED=Tr;Ai.ENTERING=Li;Ai.ENTERED=Ir;Ai.EXITING=Rp;function eE(t,e){const n=Dr(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function aU(t,e){const n=eE(t,"transitionDuration"),i=eE(t,"transitionDelay"),r=mx(t,o=>{o.target===t&&(r(),e(o))},n+i)}function lU(t){t.offsetHeight}function uU(t){return t&&"setState"in t?Ns.findDOMNode(t):t??null}const cU=Ut.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:o,addEndListener:a,children:u,childRef:h,...d},_)=>{const m=A.useRef(null),v=El(m,h),E=j=>{v(uU(j))},w=j=>F=>{j&&m.current&&j(m.current,F)},T=A.useCallback(w(t),[t]),k=A.useCallback(w(e),[e]),S=A.useCallback(w(n),[n]),C=A.useCallback(w(i),[i]),x=A.useCallback(w(r),[r]),R=A.useCallback(w(o),[o]),M=A.useCallback(w(a),[a]);return p.jsx(Ai,{ref:_,...d,onEnter:T,onEntered:S,onEntering:k,onExit:C,onExited:R,onExiting:x,addEndListener:M,nodeRef:m,children:typeof u=="function"?(j,F)=>u(j,{...F,ref:E}):Ut.cloneElement(u,{ref:E})})}),hU={[Li]:"show",[Ir]:"show"},Fg=A.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},o)=>{const a={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},u=A.useCallback((h,d)=>{lU(h),i==null||i(h,d)},[i]);return p.jsx(cU,{ref:o,addEndListener:aU,...a,onEnter:u,childRef:e.ref,children:(h,d)=>A.cloneElement(e,{...d,className:Cn("fade",t,e.props.className,hU[h],n[h])})})});Fg.displayName="Fade";const dU=["xxl","xl","lg","md","sm","xs"],fU="xs",Ax=A.createContext({prefixes:{},breakpoints:dU,minBreakpoint:fU});function wo(t,e){const{prefixes:n}=A.useContext(Ax);return t||n[e]||e}function pU(){const{dir:t}=A.useContext(Ax);return t==="rtl"}const Cx=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=wo(e,"modal-body"),p.jsx(n,{ref:r,className:Cn(t,e),...i})));Cx.displayName="ModalBody";const Sx=A.createContext({onHide(){}}),Ug=A.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:i,size:r,fullscreen:o,children:a,scrollable:u,...h},d)=>{t=wo(t,"modal");const _=`${t}-dialog`,m=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return p.jsx("div",{...h,ref:d,className:Cn(_,e,r&&`${t}-${r}`,i&&`${_}-centered`,u&&`${_}-scrollable`,o&&m),children:p.jsx("div",{className:Cn(`${t}-content`,n),children:a})})});Ug.displayName="ModalDialog";const xx=A.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=wo(e,"modal-footer"),p.jsx(n,{ref:r,className:Cn(t,e),...i})));xx.displayName="ModalFooter";const mU={"aria-label":$d.string,onClick:$d.func,variant:$d.oneOf(["white"])},zg=A.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>p.jsx("button",{ref:r,type:"button",className:Cn("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));zg.displayName="CloseButton";zg.propTypes=mU;const gU=A.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...o},a)=>{const u=A.useContext(Sx),h=On(()=>{u==null||u.onHide(),i==null||i()});return p.jsxs("div",{ref:a,...o,children:[r,n&&p.jsx(zg,{"aria-label":t,variant:e,onClick:h})]})}),Tx=A.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},o)=>(t=wo(t,"modal-header"),p.jsx(gU,{ref:o,...r,className:Cn(e,t),closeLabel:n,closeButton:i})));Tx.displayName="ModalHeader";const _U=t=>A.forwardRef((e,n)=>p.jsx("div",{...e,ref:n,className:Cn(e.className,t)})),vU=_U("h4"),Ix=A.forwardRef(({className:t,bsPrefix:e,as:n=vU,...i},r)=>(e=wo(e,"modal-title"),p.jsx(n,{ref:r,className:Cn(t,e),...i})));Ix.displayName="ModalTitle";function yU(t){return p.jsx(Fg,{...t,timeout:null})}function wU(t){return p.jsx(Fg,{...t,timeout:null})}const kx=A.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:i,contentClassName:r,children:o,dialogAs:a=Ug,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":d,"aria-label":_,show:m=!1,animation:v=!0,backdrop:E=!0,keyboard:w=!0,onEscapeKeyDown:T,onShow:k,onHide:S,container:C,autoFocus:x=!0,enforceFocus:R=!0,restoreFocus:M=!0,restoreFocusOptions:j,onEntered:F,onExit:W,onExiting:re,onEnter:G,onEntering:ve,onExited:Le,backdropClassName:Qt,manager:at,...mr},xe)=>{const[mt,O]=A.useState({}),[Y,U]=A.useState(!1),K=A.useRef(!1),te=A.useRef(!1),ye=A.useRef(null),[ue,se]=uF(),X=El(xe,se),$e=On(S),qt=pU();t=wo(t,"modal");const Ci=A.useMemo(()=>({onHide:$e}),[$e]);function Tn(){return at||XF({isRTL:qt})}function Si(fe){if(!yo)return;const Kn=Tn().getScrollbarWidth()>0,Ao=fe.scrollHeight>Ch(fe).documentElement.clientHeight;O({paddingRight:Kn&&!Ao?Kw():void 0,paddingLeft:!Kn&&Ao?Kw():void 0})}const Yt=On(()=>{ue&&Si(ue.dialog)});px(()=>{kp(window,"resize",Yt),ye.current==null||ye.current()});const Vn=()=>{K.current=!0},xi=fe=>{K.current&&ue&&fe.target===ue.dialog&&(te.current=!0),K.current=!1},Ce=()=>{U(!0),ye.current=mx(ue.dialog,()=>{U(!1)})},gr=fe=>{fe.target===fe.currentTarget&&Ce()},Zn=fe=>{if(E==="static"){gr(fe);return}if(te.current||fe.target!==fe.currentTarget){te.current=!1;return}S==null||S()},rs=fe=>{w?T==null||T(fe):(fe.preventDefault(),E==="static"&&Ce())},xh=(fe,Kn)=>{fe&&Si(fe),G==null||G(fe,Kn)},Al=fe=>{ye.current==null||ye.current(),W==null||W(fe)},Eo=(fe,Kn)=>{ve==null||ve(fe,Kn),fx(window,"resize",Yt)},Cl=fe=>{fe&&(fe.style.display=""),Le==null||Le(fe),kp(window,"resize",Yt)},Sl=A.useCallback(fe=>p.jsx("div",{...fe,className:Cn(`${t}-backdrop`,Qt,!v&&"show")}),[v,Qt,t]),xl={...n,...mt};xl.display="block";const Th=fe=>p.jsx("div",{role:"dialog",...fe,style:xl,className:Cn(e,t,Y&&`${t}-static`,!v&&"show"),onClick:E?Zn:void 0,onMouseUp:xi,"data-bs-theme":u,"aria-label":_,"aria-labelledby":h,"aria-describedby":d,children:p.jsx(a,{...mr,onMouseDown:Vn,className:i,contentClassName:r,children:o})});return p.jsx(Sx.Provider,{value:Ci,children:p.jsx(KF,{show:m,ref:X,backdrop:E,container:C,keyboard:!0,autoFocus:x,enforceFocus:R,restoreFocus:M,restoreFocusOptions:j,onEscapeKeyDown:rs,onShow:k,onHide:S,onEnter:xh,onEntering:Eo,onEntered:F,onExit:Al,onExiting:re,onExited:Cl,manager:Tn(),transition:v?yU:void 0,backdropTransition:v?wU:void 0,renderBackdrop:Sl,renderDialog:Th})})});kx.displayName="Modal";const qo=Object.assign(kx,{Body:Cx,Header:Tx,Title:Ix,Footer:xx,Dialog:Ug,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),EU=()=>{const[t,e]=A.useState(!0),[n,i]=A.useState(!1),[r,o]=A.useState(!1),a=A.useContext(Ei),u=a==null?void 0:a.user,h=Sn();A.useEffect(()=>{wl()},[]),A.useEffect(()=>{const v=setTimeout(()=>{i(!0),u||o(!0)},1e3);return()=>clearTimeout(v)},[a,u]);const d=()=>{u!=null&&u.isAdmin?h("/home/admin-tasks"):h("/home/tasks")},_=()=>{e(!t)},m=()=>{o(!1)};return n?p.jsxs("div",{id:"home-page",children:[p.jsx(_l,{toggleSidebar:_}),p.jsxs("div",{className:"home-container",children:[p.jsx(BS,{onTasksClick:d,isSidebarOpen:t,toggleSidebar:_}),p.jsx("div",{className:`home-main ${t?"":"collapsed"}`,children:p.jsxs(Xc,{children:[p.jsx(Se,{path:"/",element:p.jsx(Jn,{to:"news"})}),p.jsx(Se,{path:"news",element:p.jsxs(p.Fragment,{children:[p.jsx(ZB,{}),p.jsxs("div",{className:"home-bottom",children:[p.jsx(KB,{}),p.jsx(GB,{})]})]})}),p.jsx(Se,{path:"tasks",element:u?p.jsx(QB,{}):p.jsx(Jn,{to:"/login",replace:!0})}),p.jsx(Se,{path:"admin-tasks",element:u!=null&&u.isAdmin?p.jsx(JB,{}):p.jsx(Jn,{to:"/login",replace:!0})}),p.jsx(Se,{path:"message-board",element:u?p.jsx(nF,{}):p.jsx(Jn,{to:"/login",replace:!0})}),p.jsx(Se,{path:"message-board/:id",element:u?p.jsx(rF,{}):p.jsx(Jn,{to:"/login",replace:!0})}),p.jsx(Se,{path:"calendar",element:u?p.jsx(aF,{}):p.jsx(Jn,{to:"/login",replace:!0})}),p.jsx(Se,{path:"*",element:p.jsx("div",{children:"Not Found"})})," "]})})]}),p.jsxs(qo,{show:r,onHide:m,children:[p.jsx(qo.Header,{closeButton:!0,children:p.jsx(qo.Title,{children:"Sign In"})}),p.jsx(qo.Body,{children:p.jsx("p",{children:"Sign In to access all content!"})}),p.jsxs(qo.Footer,{children:[p.jsx("button",{className:"btn btn-primary",onClick:()=>{sessionStorage.getItem("loginPageRefreshed")?(sessionStorage.removeItem("loginPageRefreshed"),h("/login")):(sessionStorage.setItem("loginPageRefreshed","true"),h("/login"),window.location.reload())},children:"Sign In"}),p.jsx("button",{className:"btn btn-secondary",onClick:m,children:"Close"})]})]})]}):p.jsx("div",{children:"Loading..."})},AU=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(""),[r,o]=A.useState(""),a=h=>{h.preventDefault();const d=de(),_=gl(ie(d,"Contact-Request"));Ot(_,{name:t,email:n,phoneNumber:r}).then(()=>{u(t,n,r)}).catch(m=>{console.error("Error saving contact request:",m)})},u=(h,d,_)=>{const m={name:h,email:d,phone:_};hx.send("service_h2uk57t","template_l39cbsp",m,"9h7w37IYT_ZFZeu8r").then(v=>{console.log("Email sent successfully:",v.status,v.text),alert("Your contact request has been sent successfully!")}).catch(v=>{console.error("Failed to send email:",v)})};return p.jsxs("form",{onSubmit:a,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Name"}),p.jsx("input",{type:"text",className:"form-control",id:"name",value:t,onChange:h=>e(h.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email"}),p.jsx("input",{type:"email",className:"form-control",id:"email",value:n,onChange:h=>i(h.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),p.jsx("input",{type:"tel",className:"form-control",id:"phoneNumber",value:r,onChange:h=>o(h.target.value)})]}),p.jsx("button",{type:"submit",className:"btn submit-button",children:"Send"})]})},CU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAABHNCSVQICAgIfAhkiAAAAbxJREFUSIm1l81xgzAQhb9MGlAJlOASuOZGB6GD0IHpwO4AOnA6oARKoATnmJtzQBtWskCyLXbGM9ai3bc/b1n7ndflC/gADPAL/GTwGZUBuKnPCNR7g5ZAA/TApMAn4JDqxABHoAOqJ4MYFfgxBVAb3IDPiM3JBlgDhdI3KcAacATaRGC/pyfrCxuI6MstwElFnAJ8YG5Dj9tP8dEondGGXeCyiABfiROjYMlcg4iu1ZGuAYaAjfesAy645ROQzp5LZe+AjpEsxJHPaN1TIYyxALqXgz7rC34WIkfWq2GYCSM+JKgWt6TS20YMz96FEGCsp6W9N6ycK9ySOzXX2VakkwiWbLF+pDqhIIAAw5RhiEBZRAh1xe1bzzL0u4j0VpcgxMSsYlg2RaP0wjy/CtmkJEyeVulD20eP1TPb6R/An0vRS4/lmR4reZ68S7X0K8CNcj5x/96WwFLHzJG1zYP9LkFtVSQ7MMz9Pwf0WYAvykH9gK0AD5F7UQfy/iwSbIRgsQ22KTXLHE9s/+gSwNA6fFgK7klU42auAetXAX1wvcCvzGXv2AlQS4mbeZRwbxnBC+bRMMA3G/9p/gA/KNnq5ohm2wAAAABJRU5ErkJggg==",SU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAABHNCSVQICAgIfAhkiAAAAcFJREFUSIntVtGNgzAMNacbwBucu0FG4DZghGYC2gmACVomSEdgA0aADZIN8Aa5j9ZVBYEGrtX93JP8YbBivfdsQuK9h7/AZ2zh5XLZx9YiImdZ1iwWee+jAgB8bBCRfXZeNGPBfr+/zL1jZmyaJos5JxGPm6bJmBnHBVmWNYjISZJcaXufzB3mnKPdbmeJyFlrd4udhXqapi0EZHPOfT1KvSSftZZgq9R5nteIyHVd58yMp9PpiIgcI5+AmbEsy1JyInITi8aMhSER2ZACMYzHkaZpu3q4RIGqqgoAgEcmIaYA13XK87xmZqzrOg8WP2M89jgmxGNRYBNjQVEUVWxtzExEN16SeAs+1hSXN4RymeTz+XyIOizW49AuP+ahHX6JxwAAxhg9lyMiG2N09M6vYbw2lhiv8lhrbbTWJpQzM2qtzfF4PL2cMfx7/AuPJ4wPh8MZEVm+u5KvUUYQut9nGb8jQozvfyB93yuZTOccGWM0ETnJ27b93sIa4Oq/UqoPMpYQb7uuU957QMQBntzDW2LyoCiKEm5roZTqAMArpbq3Nx6GAR/9JiJrraVXN757PEbf9woAYOLNizDb+N34AX3T6uZIxY3/AAAAAElFTkSuQmCC",xU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAcCAYAAADvANYcAAAABHNCSVQICAgIfAhkiAAAAghJREFUSIntVtGRnDAM1WWuAJegVBDowHRAB3AVrLcCQwXQAVwFpAO7A9gKRAe4A+cj8YyO4TBscrP7Ec1oBoxlPz2eLb147+HR9u3RAAAAXmMT+r4vzywopbSIOJ9C4b3fdQDwZ7zrujK25tp3mZjnGXmGe3OnaUqcc+J2u/04xcIeE23bXoQQS8gwlo2U0oS5ZVl2RIR3MzFNU3K9XhtrrVx/2xoDAEiSZOLvfd+X1lqpta7LsuxPMVFVlQ7ZCCGWYRhyzgR8ogNjjAxMaK0rRKQzrID3HogIeWCe58OyLIJv7L0HRKQt5yCCMLXWFU+o7/tiF4QxRvIArnAOgohwy7kmQiwRYZIkI2fkMIg1jWd/R9d15VrUMRAfhImIc1EU73Vd6yCu9feYxuq61uFoh4sreuFxJhCRtjQCAD4mLk69EGJpmkZxbewxsVk7EHEmou9a6zqMZVlmtjKy1so0TcdpmhIAgDzPf47jmCql2hhru0xwXwtMSmmICJdlEUqphmc/DEO+jj/CRBRE8KZpFBcbf75cLm040veAOFzKlVLtOI5pURTvAADOOYGIszEma9tWCSHcYfpXFi3l3ILSpZR2nmdUSrV/s/ldIIIdqgcn7Ck6q/8ggj0FiA/CdM6JLMvMv9yAt4iHQXzWPX2lvQL8bs+6rnv7yo32KvDLnz7hofYUwvwF87kH80h+u/sAAAAASUVORK5CYII=",TU=()=>p.jsxs("div",{className:"contact-info mt-4 d-flex flex-column flex-md-row justify-content-between",children:[p.jsxs("div",{className:"contact-item d-flex align-items-center mb-2 mb-md-0",children:[p.jsx("img",{src:CU,alt:"Phone",className:"contact-icon"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-weight-bold mb-0",children:"PHONE"}),p.jsx("span",{className:"text-danger",children:"03 5432 1234"})]})]}),p.jsxs("div",{className:"contact-item d-flex align-items-center mb-2 mb-md-0",children:[p.jsx("img",{src:SU,alt:"Fax",className:"contact-icon"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-weight-bold mb-0",children:"FAX"}),p.jsx("span",{className:"text-danger",children:"03 5432 1234"})]})]}),p.jsxs("div",{className:"contact-item d-flex align-items-center",children:[p.jsx("img",{src:xU,alt:"Email",className:"contact-icon"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-weight-bold mb-0",children:"EMAIL"}),p.jsx("a",{href:"mailto:info@marcc.com.au",className:"text-danger",children:"bilginyigitalp03@gmail.com"})]})]})]});function Px(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const IU=1;function kU(t){return Object.freeze({__version:IU,map:t})}function PU(t,e){return Object.freeze({...t,...e})}const Rx=A.createContext(null),Nx=Rx.Provider;function Wg(){const t=A.useContext(Rx);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function RU(t){function e(n,i){const{instance:r,context:o}=t(n).current;return A.useImperativeHandle(i,()=>r),n.children==null?null:Ut.createElement(Nx,{value:o},n.children)}return A.forwardRef(e)}function NU(t){function e(n,i){const[r,o]=A.useState(!1),{instance:a}=t(n,o).current;A.useImperativeHandle(i,()=>a),A.useEffect(function(){r&&a.update()},[a,r,n.children]);const u=a._contentNode;return u?km.createPortal(n.children,u):null}return A.forwardRef(e)}function bU(t){function e(n,i){const{instance:r}=t(n).current;return A.useImperativeHandle(i,()=>r),null}return A.forwardRef(e)}function bx(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Hg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function LU(t,e){return function(i,r){const o=Wg(),a=t(Hg(i,o),o);return Px(o.map,i.attribution),bx(a.current,i.eventHandlers),e(a.current,o,i,r),a}}var Np={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(AI,function(n){var i="1.9.4";function r(s){var l,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(l in g)s[l]=g[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var f=c.call(arguments,2);return function(){return s.apply(l,f.length?f.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function d(s,l,c){var f,g,y,I;return I=function(){f=!1,g&&(y.apply(c,g),g=!1)},y=function(){f?g=arguments:(s.apply(c,arguments),setTimeout(I,l),f=!0)},y}function _(s,l,c){var f=l[1],g=l[0],y=f-g;return s===f&&c?s:((s-g)%y+y)%y+g}function m(){return!1}function v(s,l){if(l===!1)return s;var c=Math.pow(10,l===void 0?6:l);return Math.round(s*c)/c}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return E(s).split(/\s+/)}function T(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in l)s.options[c]=l[c];return s.options}function k(s,l,c){var f=[];for(var g in s)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function C(s,l){return s.replace(S,function(c,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(l)),g})}var x=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function R(s,l){for(var c=0;c<s.length;c++)if(s[c]===l)return c;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var F=0;function W(s){var l=+new Date,c=Math.max(0,16-(l-F));return F=l+c,window.setTimeout(s,c)}var re=window.requestAnimationFrame||j("RequestAnimationFrame")||W,G=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ve(s,l,c){if(c&&re===W)s.call(l);else return re.call(window,a(s,l))}function Le(s){s&&G.call(window,s)}var Qt={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:h,throttle:d,wrapNum:_,falseFn:m,formatNum:v,trim:E,splitWords:w,setOptions:T,getParamString:k,template:C,isArray:x,indexOf:R,emptyImageUrl:M,requestFn:re,cancelFn:G,requestAnimFrame:ve,cancelAnimFrame:Le};function at(){}at.extend=function(s){var l=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=l.__super__=this.prototype,f=o(c);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return s.statics&&r(l,s.statics),s.includes&&(mr(s.includes),r.apply(null,[f].concat(s.includes))),r(f,s),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},r(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,I=f._initHooks.length;y<I;y++)f._initHooks[y].call(this)}},l},at.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},at.mergeOptions=function(s){return r(this.prototype.options,s),this},at.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function mr(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=x(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xe={on:function(s,l,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],l);else{s=w(s);for(var g=0,y=s.length;g<y;g++)this._on(s[g],l,c)}return this},off:function(s,l,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var f in s)this._off(f,s[f],l);else{s=w(s);for(var g=arguments.length===1,y=0,I=s.length;y<I;y++)g?this._off(s[y]):this._off(s[y],l,c)}return this},_on:function(s,l,c,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,c)===!1){c===this&&(c=void 0);var g={fn:l,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,l,c){var f,g,y;if(this._events&&(f=this._events[s],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,y=f.length;g<y;g++)f[g].fn=m;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var I=this._listens(s,l,c);if(I!==!1){var P=f[I];this._firingCount&&(P.fn=m,this._events[s]=f=f.slice()),f.splice(I,1)}}},fire:function(s,l,c){if(!this.listens(s,c))return this;var f=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,I=g.length;y<I;y++){var P=g[y],N=P.fn;P.once&&this.off(s,N,P.ctx),N.call(P.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(s,l,c,f){typeof s!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,c=void 0);var y=this._events&&this._events[s];if(y&&y.length&&this._listens(s,g,c)!==!1)return!0;if(f){for(var I in this._eventParents)if(this._eventParents[I].listens(s,l,c,f))return!0}return!1},_listens:function(s,l,c){if(!this._events)return!1;var f=this._events[s]||[];if(!l)return!!f.length;c===this&&(c=void 0);for(var g=0,y=f.length;g<y;g++)if(f[g].fn===l&&f[g].ctx===c)return g;return!1},once:function(s,l,c){if(typeof s=="object")for(var f in s)this._on(f,s[f],l,!0);else{s=w(s);for(var g=0,y=s.length;g<y;g++)this._on(s[g],l,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};xe.addEventListener=xe.on,xe.removeEventListener=xe.clearAllEventListeners=xe.off,xe.addOneTimeEventListener=xe.once,xe.fireEvent=xe.fire,xe.hasEventListeners=xe.listens;var mt=at.extend(xe);function O(s,l,c){this.x=c?Math.round(s):s,this.y=c?Math.round(l):l}var Y=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(s){return this.clone()._add(U(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(U(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new O(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new O(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(s){s=U(s);var l=s.x-this.x,c=s.y-this.y;return Math.sqrt(l*l+c*c)},equals:function(s){return s=U(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=U(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(s,l,c){return s instanceof O?s:x(s)?new O(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new O(s.x,s.y):new O(s,l,c)}function K(s,l){if(s)for(var c=l?[s,l]:s,f=0,g=c.length;f<g;f++)this.extend(c[f])}K.prototype={extend:function(s){var l,c;if(!s)return this;if(s instanceof O||typeof s[0]=="number"||"x"in s)l=c=U(s);else if(s=te(s),l=s.min,c=s.max,!l||!c)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=c.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,c;return typeof s[0]=="number"||s instanceof O?s=U(s):s=te(s),s instanceof K?(l=s.min,c=s.max):l=c=s,l.x>=this.min.x&&c.x<=this.max.x&&l.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=te(s);var l=this.min,c=this.max,f=s.min,g=s.max,y=g.x>=l.x&&f.x<=c.x,I=g.y>=l.y&&f.y<=c.y;return y&&I},overlaps:function(s){s=te(s);var l=this.min,c=this.max,f=s.min,g=s.max,y=g.x>l.x&&f.x<c.x,I=g.y>l.y&&f.y<c.y;return y&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,c=this.max,f=Math.abs(l.x-c.x)*s,g=Math.abs(l.y-c.y)*s;return te(U(l.x-f,l.y-g),U(c.x+f,c.y+g))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,l){return!s||s instanceof K?s:new K(s,l)}function ye(s,l){if(s)for(var c=l?[s,l]:s,f=0,g=c.length;f<g;f++)this.extend(c[f])}ye.prototype={extend:function(s){var l=this._southWest,c=this._northEast,f,g;if(s instanceof se)f=s,g=s;else if(s instanceof ye){if(f=s._southWest,g=s._northEast,!f||!g)return this}else return s?this.extend(X(s)||ue(s)):this;return!l&&!c?(this._southWest=new se(f.lat,f.lng),this._northEast=new se(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(s){var l=this._southWest,c=this._northEast,f=Math.abs(l.lat-c.lat)*s,g=Math.abs(l.lng-c.lng)*s;return new ye(new se(l.lat-f,l.lng-g),new se(c.lat+f,c.lng+g))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof se||"lat"in s?s=X(s):s=ue(s);var l=this._southWest,c=this._northEast,f,g;return s instanceof ye?(f=s.getSouthWest(),g=s.getNorthEast()):f=g=s,f.lat>=l.lat&&g.lat<=c.lat&&f.lng>=l.lng&&g.lng<=c.lng},intersects:function(s){s=ue(s);var l=this._southWest,c=this._northEast,f=s.getSouthWest(),g=s.getNorthEast(),y=g.lat>=l.lat&&f.lat<=c.lat,I=g.lng>=l.lng&&f.lng<=c.lng;return y&&I},overlaps:function(s){s=ue(s);var l=this._southWest,c=this._northEast,f=s.getSouthWest(),g=s.getNorthEast(),y=g.lat>l.lat&&f.lat<c.lat,I=g.lng>l.lng&&f.lng<c.lng;return y&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ue(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ue(s,l){return s instanceof ye?s:new ye(s,l)}function se(s,l,c){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,c!==void 0&&(this.alt=+c)}se.prototype={equals:function(s,l){if(!s)return!1;s=X(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return qt.distance(this,X(s))},wrap:function(){return qt.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,c=l/Math.cos(Math.PI/180*this.lat);return ue([this.lat-l,this.lng-c],[this.lat+l,this.lng+c])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function X(s,l,c){return s instanceof se?s:x(s)&&typeof s[0]!="object"?s.length===3?new se(s[0],s[1],s[2]):s.length===2?new se(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new se(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new se(s,l,c)}var $e={latLngToPoint:function(s,l){var c=this.projection.project(s),f=this.scale(l);return this.transformation._transform(c,f)},pointToLatLng:function(s,l){var c=this.scale(l),f=this.transformation.untransform(s,c);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,c=this.scale(s),f=this.transformation.transform(l.min,c),g=this.transformation.transform(l.max,c);return new K(f,g)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,f=s.alt;return new se(c,l,f)},wrapLatLngBounds:function(s){var l=s.getCenter(),c=this.wrapLatLng(l),f=l.lat-c.lat,g=l.lng-c.lng;if(f===0&&g===0)return s;var y=s.getSouthWest(),I=s.getNorthEast(),P=new se(y.lat-f,y.lng-g),N=new se(I.lat-f,I.lng-g);return new ye(P,N)}},qt=r({},$e,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var c=Math.PI/180,f=s.lat*c,g=l.lat*c,y=Math.sin((l.lat-s.lat)*c/2),I=Math.sin((l.lng-s.lng)*c/2),P=y*y+Math.cos(f)*Math.cos(g)*I*I,N=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*N}}),Ci=6378137,Tn={R:Ci,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,s.lat),-c),g=Math.sin(f*l);return new O(this.R*s.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var l=180/Math.PI;return new se((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Ci*Math.PI;return new K([-s,-s],[s,s])}()};function Si(s,l,c,f){if(x(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=c,this._d=f}Si.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new O((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Yt(s,l,c,f){return new Si(s,l,c,f)}var Vn=r({},qt,{code:"EPSG:3857",projection:Tn,transformation:function(){var s=.5/(Math.PI*Tn.R);return Yt(s,.5,-s,.5)}()}),xi=r({},Vn,{code:"EPSG:900913"});function Ce(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function gr(s,l){var c="",f,g,y,I,P,N;for(f=0,y=s.length;f<y;f++){for(P=s[f],g=0,I=P.length;g<I;g++)N=P[g],c+=(g?"L":"M")+N.x+" "+N.y;c+=l?Z.svg?"z":"x":""}return c||"M0 0"}var Zn=document.documentElement.style,rs="ActiveXObject"in window,xh=rs&&!document.addEventListener,Al="msLaunchUri"in navigator&&!("documentMode"in document),Eo=In("webkit"),Cl=In("android"),Sl=In("android 2")||In("android 3"),xl=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Th=Cl&&In("Google")&&xl<537&&!("AudioNode"in window),fe=!!window.opera,Kn=!Al&&In("chrome"),Ao=In("gecko")&&!Eo&&!fe&&!rs,tT=!Kn&&In("safari"),$g=In("phantom"),Xg="OTransition"in Zn,nT=navigator.platform.indexOf("Win")===0,Jg=rs&&"transition"in Zn,Ih="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Sl,e_="MozPerspective"in Zn,iT=!window.L_DISABLE_3D&&(Jg||Ih||e_)&&!Xg&&!$g,Co=typeof orientation<"u"||In("mobile"),rT=Co&&Eo,sT=Co&&Ih,t_=!window.PointerEvent&&window.MSPointerEvent,n_=!!(window.PointerEvent||t_),i_="ontouchstart"in window||!!window.TouchEvent,oT=!window.L_NO_TOUCH&&(i_||n_),aT=Co&&fe,lT=Co&&Ao,uT=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cT=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return s}(),hT=function(){return!!document.createElement("canvas").getContext}(),kh=!!(document.createElementNS&&Ce("svg").createSVGRect),dT=!!kh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fT=!kh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),pT=navigator.platform.indexOf("Mac")===0,mT=navigator.platform.indexOf("Linux")===0;function In(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Z={ie:rs,ielt9:xh,edge:Al,webkit:Eo,android:Cl,android23:Sl,androidStock:Th,opera:fe,chrome:Kn,gecko:Ao,safari:tT,phantom:$g,opera12:Xg,win:nT,ie3d:Jg,webkit3d:Ih,gecko3d:e_,any3d:iT,mobile:Co,mobileWebkit:rT,mobileWebkit3d:sT,msPointer:t_,pointer:n_,touch:oT,touchNative:i_,mobileOpera:aT,mobileGecko:lT,retina:uT,passiveEvents:cT,canvas:hT,svg:kh,vml:fT,inlineSvg:dT,mac:pT,linux:mT},r_=Z.msPointer?"MSPointerDown":"pointerdown",s_=Z.msPointer?"MSPointerMove":"pointermove",o_=Z.msPointer?"MSPointerUp":"pointerup",a_=Z.msPointer?"MSPointerCancel":"pointercancel",Ph={touchstart:r_,touchmove:s_,touchend:o_,touchcancel:a_},l_={touchstart:ET,touchmove:Tl,touchend:Tl,touchcancel:Tl},ss={},u_=!1;function gT(s,l,c){return l==="touchstart"&&wT(),l_[l]?(c=l_[l].bind(this,c),s.addEventListener(Ph[l],c,!1),c):(console.warn("wrong event specified:",l),m)}function _T(s,l,c){if(!Ph[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Ph[l],c,!1)}function vT(s){ss[s.pointerId]=s}function yT(s){ss[s.pointerId]&&(ss[s.pointerId]=s)}function c_(s){delete ss[s.pointerId]}function wT(){u_||(document.addEventListener(r_,vT,!0),document.addEventListener(s_,yT,!0),document.addEventListener(o_,c_,!0),document.addEventListener(a_,c_,!0),u_=!0)}function Tl(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var c in ss)l.touches.push(ss[c]);l.changedTouches=[l],s(l)}}function ET(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&lt(l),Tl(s,l)}function AT(s){var l={},c,f;for(f in s)c=s[f],l[f]=c&&c.bind?c.bind(s):c;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var CT=200;function ST(s,l){s.addEventListener("dblclick",l);var c=0,f;function g(y){if(y.detail!==1){f=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var I=m_(y);if(!(I.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!I.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var P=Date.now();P-c<=CT?(f++,f===2&&l(AT(y))):f=1,c=P}}}return s.addEventListener("click",g),{dblclick:l,simDblclick:g}}function xT(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Rh=Pl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),So=Pl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),h_=So==="webkitTransition"||So==="OTransition"?So+"End":"transitionend";function d_(s){return typeof s=="string"?document.getElementById(s):s}function xo(s,l){var c=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);c=f?f[l]:null}return c==="auto"?null:c}function ge(s,l,c){var f=document.createElement(s);return f.className=l||"",c&&c.appendChild(f),f}function Oe(s){var l=s.parentNode;l&&l.removeChild(s)}function Il(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function os(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function as(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Nh(s,l){if(s.classList!==void 0)return s.classList.contains(l);var c=kl(s);return c.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(c)}function ne(s,l){if(s.classList!==void 0)for(var c=w(l),f=0,g=c.length;f<g;f++)s.classList.add(c[f]);else if(!Nh(s,l)){var y=kl(s);bh(s,(y?y+" ":"")+l)}}function He(s,l){s.classList!==void 0?s.classList.remove(l):bh(s,E((" "+kl(s)+" ").replace(" "+l+" "," ")))}function bh(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function kl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function $t(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&TT(s,l)}function TT(s,l){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),c?(c.Enabled=l!==100,c.Opacity=l):s.style.filter+=" progid:"+f+"(opacity="+l+")"}function Pl(s){for(var l=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in l)return s[c];return!1}function _r(s,l,c){var f=l||new O(0,0);s.style[Rh]=(Z.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ge(s,l){s._leaflet_pos=l,Z.any3d?_r(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function vr(s){return s._leaflet_pos||new O(0,0)}var To,Io,Lh;if("onselectstart"in document)To=function(){J(window,"selectstart",lt)},Io=function(){Te(window,"selectstart",lt)};else{var ko=Pl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);To=function(){if(ko){var s=document.documentElement.style;Lh=s[ko],s[ko]="none"}},Io=function(){ko&&(document.documentElement.style[ko]=Lh,Lh=void 0)}}function Oh(){J(window,"dragstart",lt)}function Mh(){Te(window,"dragstart",lt)}var Rl,Dh;function jh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Nl(),Rl=s,Dh=s.style.outlineStyle,s.style.outlineStyle="none",J(window,"keydown",Nl))}function Nl(){Rl&&(Rl.style.outlineStyle=Dh,Rl=void 0,Dh=void 0,Te(window,"keydown",Nl))}function f_(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Bh(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var IT={__proto__:null,TRANSFORM:Rh,TRANSITION:So,TRANSITION_END:h_,get:d_,getStyle:xo,create:ge,remove:Oe,empty:Il,toFront:os,toBack:as,hasClass:Nh,addClass:ne,removeClass:He,setClass:bh,getClass:kl,setOpacity:$t,testProp:Pl,setTransform:_r,setPosition:Ge,getPosition:vr,get disableTextSelection(){return To},get enableTextSelection(){return Io},disableImageDrag:Oh,enableImageDrag:Mh,preventOutline:jh,restoreOutline:Nl,getSizedParentNode:f_,getScale:Bh};function J(s,l,c,f){if(l&&typeof l=="object")for(var g in l)Uh(s,g,l[g],c);else{l=w(l);for(var y=0,I=l.length;y<I;y++)Uh(s,l[y],c,f)}return this}var kn="_leaflet_events";function Te(s,l,c,f){if(arguments.length===1)p_(s),delete s[kn];else if(l&&typeof l=="object")for(var g in l)zh(s,g,l[g],c);else if(l=w(l),arguments.length===2)p_(s,function(P){return R(l,P)!==-1});else for(var y=0,I=l.length;y<I;y++)zh(s,l[y],c,f);return this}function p_(s,l){for(var c in s[kn]){var f=c.split(/\d/)[0];(!l||l(f))&&zh(s,f,null,null,c)}}var Fh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Uh(s,l,c,f){var g=l+h(c)+(f?"_"+h(f):"");if(s[kn]&&s[kn][g])return this;var y=function(P){return c.call(f||s,P||window.event)},I=y;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?y=gT(s,l,y):Z.touch&&l==="dblclick"?y=ST(s,y):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Fh[l]||l,y,Z.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(y=function(P){P=P||window.event,Hh(s,P)&&I(P)},s.addEventListener(Fh[l],y,!1)):s.addEventListener(l,I,!1):s.attachEvent("on"+l,y),s[kn]=s[kn]||{},s[kn][g]=y}function zh(s,l,c,f,g){g=g||l+h(c)+(f?"_"+h(f):"");var y=s[kn]&&s[kn][g];if(!y)return this;!Z.touchNative&&Z.pointer&&l.indexOf("touch")===0?_T(s,l,y):Z.touch&&l==="dblclick"?xT(s,y):"removeEventListener"in s?s.removeEventListener(Fh[l]||l,y,!1):s.detachEvent("on"+l,y),s[kn][g]=null}function yr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Wh(s){return Uh(s,"wheel",yr),this}function Po(s){return J(s,"mousedown touchstart dblclick contextmenu",yr),s._leaflet_disable_click=!0,this}function lt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function wr(s){return lt(s),yr(s),this}function m_(s){if(s.composedPath)return s.composedPath();for(var l=[],c=s.target;c;)l.push(c),c=c.parentNode;return l}function g_(s,l){if(!l)return new O(s.clientX,s.clientY);var c=Bh(l),f=c.boundingClientRect;return new O((s.clientX-f.left)/c.x-l.clientLeft,(s.clientY-f.top)/c.y-l.clientTop)}var kT=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function __(s){return Z.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/kT:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Hh(s,l){var c=l.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var PT={__proto__:null,on:J,off:Te,stopPropagation:yr,disableScrollPropagation:Wh,disableClickPropagation:Po,preventDefault:lt,stop:wr,getPropagationPath:m_,getMousePosition:g_,getWheelDelta:__,isExternalTarget:Hh,addListener:J,removeListener:Te},v_=mt.extend({run:function(s,l,c,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=vr(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,c=this._duration*1e3;l<c?this._runFrame(this._easeOut(l/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var c=this._startPos.add(this._offset.multiplyBy(s));l&&c._round(),Ge(this._el,c),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),pe=mt.extend({options:{crs:Vn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=T(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(X(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=So&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,h_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,c){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(X(s),l,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,c.zoom):this._tryAnimatedPan(s,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,c){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),y=s instanceof O?s:this.latLngToContainerPoint(s),I=y.subtract(g).multiplyBy(1-1/f),P=this.containerPointToLatLng(g.add(I));return this.setView(P,l,{zoom:c})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ue(s);var c=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(s,!1,c.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var y=f.subtract(c).divideBy(2),I=this.project(s.getSouthWest(),g),P=this.project(s.getNorthEast(),g),N=this.unproject(I.add(P).divideBy(2).add(y),g);return{center:N,zoom:g}},fitBounds:function(s,l){if(s=ue(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,l);return this.setView(c.center,c.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=U(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new v_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,c){if(c=c||{},c.animate===!1||!Z.any3d)return this.setView(s,l,c);this._stop();var f=this.project(this.getCenter()),g=this.project(s),y=this.getSize(),I=this._zoom;s=X(s),l=l===void 0?I:l;var P=Math.max(y.x,y.y),N=P*this.getZoomScale(I,l),D=g.distanceTo(f)||1,H=1.42,Q=H*H;function oe(Qe){var Hl=Qe?-1:1,_I=Qe?N:P,vI=N*N-P*P+Hl*Q*Q*D*D,yI=2*_I*Q*D,ed=vI/yI,X_=Math.sqrt(ed*ed+1)-ed,wI=X_<1e-9?-18:Math.log(X_);return wI}function At(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function nt(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}function Jt(Qe){return At(Qe)/nt(Qe)}var Rt=oe(0);function fs(Qe){return P*(nt(Rt)/nt(Rt+H*Qe))}function fI(Qe){return P*(nt(Rt)*Jt(Rt+H*Qe)-At(Rt))/Q}function pI(Qe){return 1-Math.pow(1-Qe,1.5)}var mI=Date.now(),Y_=(oe(1)-Rt)/H,gI=c.duration?1e3*c.duration:1e3*Y_*.8;function $_(){var Qe=(Date.now()-mI)/gI,Hl=pI(Qe)*Y_;Qe<=1?(this._flyToFrame=ve($_,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(fI(Hl)/D)),I),this.getScaleZoom(P/fs(Hl),I),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),$_.call(this),this},flyToBounds:function(s,l){var c=this._getBoundsCenterZoom(s,l);return this.flyTo(c.center,c.zoom,l)},setMaxBounds:function(s){return s=ue(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,ue(s));return c.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var c=U(l.paddingTopLeft||l.padding||[0,0]),f=U(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(s),I=this.getPixelBounds(),P=te([I.min.add(c),I.max.subtract(f)]),N=P.getSize();if(!P.contains(y)){this._enforcingBounds=!0;var D=y.subtract(P.getCenter()),H=P.extend(y).getSize().subtract(N);g.x+=D.x<0?-H.x:H.x,g.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=l.divideBy(2).round(),g=c.divideBy(2).round(),y=f.subtract(g);return!y.x&&!y.y?this:(s.animate&&s.pan?this.panBy(y):(s.pan&&this._rawPanBy(y),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),c=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,c,s):navigator.geolocation.getCurrentPosition(l,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,c=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,c=s.coords.longitude,f=new se(l,c),g=f.toBounds(s.coords.accuracy*2),y=this._locateOptions;if(y.setView){var I=this.getBoundsZoom(g);this.setView(f,y.maxZoom?Math.min(I,y.maxZoom):I)}var P={latlng:f,bounds:g,timestamp:s.timestamp};for(var N in s.coords)typeof s.coords[N]=="number"&&(P[N]=s.coords[N]);this.fire("locationfound",P)}},addHandler:function(s,l){if(!l)return this;var c=this[s]=new l(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Oe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Oe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),f=ge("div",c,l||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new ye(l,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,c){s=ue(s),c=U(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),I=s.getNorthWest(),P=s.getSouthEast(),N=this.getSize().subtract(c),D=te(this.project(P,f),this.project(I,f)).getSize(),H=Z.any3d?this.options.zoomSnap:1,Q=N.x/D.x,oe=N.y/D.y,At=l?Math.max(Q,oe):Math.min(Q,oe);return f=this.getScaleZoom(At,f),H&&(f=Math.round(f/(H/100))*(H/100),f=l?Math.ceil(f/H)*H:Math.floor(f/H)*H),Math.max(g,Math.min(y,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var c=this._getTopLeftPoint(s,l);return new K(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var c=this.options.crs;return l=l===void 0?this._zoom:l,c.scale(s)/c.scale(l)},getScaleZoom:function(s,l){var c=this.options.crs;l=l===void 0?this._zoom:l;var f=c.zoom(s*c.scale(l));return isNaN(f)?1/0:f},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(X(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(U(s),l)},layerPointToLatLng:function(s){var l=U(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(X(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(X(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ue(s))},distance:function(s,l){return this.options.crs.distance(X(s),X(l))},containerPointToLayerPoint:function(s){return U(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return U(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(U(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(X(s)))},mouseEventToContainerPoint:function(s){return g_(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=d_(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,ne(s,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=xo(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(s.markerPane,"leaflet-zoom-hide"),ne(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,c){Ge(this._mapPane,new O(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,c)._move(s,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,c,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ge(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?Te:J;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var c=[],f,g=l==="mouseout"||l==="mouseover",y=s.target||s.srcElement,I=!1;y;){if(f=this._targets[h(y)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){I=!0;break}if(f&&f.listens(l,!0)&&(g&&!Hh(y,s)||(c.push(f),g))||y===this._container)break;y=y.parentNode}return!c.length&&!I&&!g&&this.listens(l,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var c=s.type;c==="mousedown"&&jh(l),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,c){if(s.type==="click"){var f=r({},s);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(s,l);if(c){for(var y=[],I=0;I<c.length;I++)c[I].listens(l,!0)&&y.push(c[I]);g=y.concat(g)}if(g.length){l==="contextmenu"&&lt(s);var P=g[0],N={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=P.getLatLng&&(!P._radius||P._radius<=10);N.containerPoint=D?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(s),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=D?P.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(I=0;I<g.length;I++)if(g[I].fire(l,N,!0),N.originalEvent._stopped||g[I].options.bubblingMouseEvents===!1&&R(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return vr(this._mapPane)||new O(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var c=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var c=this.getSize()._divideBy(2);return this.project(s,l)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,c){var f=this._getNewPixelOrigin(c,l);return this.project(s,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,l,c){var f=this._getNewPixelOrigin(c,l);return te([this.project(s.getSouthWest(),l)._subtract(f),this.project(s.getNorthWest(),l)._subtract(f),this.project(s.getSouthEast(),l)._subtract(f),this.project(s.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,c){if(!c)return s;var f=this.project(s,l),g=this.getSize().divideBy(2),y=new K(f.subtract(g),f.add(g)),I=this._getBoundsOffset(y,c,l);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(f.add(I),l)},_limitOffset:function(s,l){if(!l)return s;var c=this.getPixelBounds(),f=new K(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(s,l,c){var f=te(this.project(l.getNorthEast(),c),this.project(l.getSouthWest(),c)),g=f.min.subtract(s.min),y=f.max.subtract(s.max),I=this._rebound(g.x,-y.x),P=this._rebound(g.y,-y.y);return new O(I,P)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),c=this.getMaxZoom(),f=Z.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(l,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){He(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var c=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,l),!0)},_createAnimProxy:function(){var s=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var c=Rh,f=this._proxy.style[c];_r(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Oe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();_r(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(s)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(ve(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&He(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function RT(s,l){return new pe(s,l)}var un=at.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),c=this.getPosition(),f=s._controlCorners[c];return ne(l,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Oe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ro=function(s){return new un(s)};pe.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",c=this._controlContainer=ge("div",l+"control-container",this._container);function f(g,y){var I=l+g+" "+l+y;s[g+y]=ge("div",I,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Oe(this._controlCorners[s]);Oe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var y_=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,c,f){return c<f?-1:f<c?1:0}},initialize:function(s,l,c){T(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in s)this._addLayer(s[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return un.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):He(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return He(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=ge("div",s),c=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Po(l),Wh(l);var f=this._section=ge("section",s+"-list");c&&(this._map.on("click",this.collapse,this),J(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=ge("a",s+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),J(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){lt(y),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ge("div",s+"-base",f),this._separator=ge("div",s+"-separator",f),this._overlaysList=ge("div",s+"-overlays",f),l.appendChild(f)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:c}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Il(this._baseLayersList),Il(this._overlaysList),this._layerControlInputs=[];var s,l,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),l=l||f.overlay,s=s||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),c=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,l)},_createRadioElement:function(s,l){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(s){var l=document.createElement("label"),c=this._map.hasLayer(s.layer),f;s.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(f),f.layerId=h(s.layer),J(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var y=document.createElement("span");l.appendChild(y),y.appendChild(f),y.appendChild(g);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,c,f=[],g=[];this._handlingClick=!0;for(var y=s.length-1;y>=0;y--)l=s[y],c=this._getLayer(l.layerId).layer,l.checked?f.push(c):l.checked||g.push(c);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<f.length;y++)this._map.hasLayer(f[y])||this._map.addLayer(f[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,c,f=this._map.getZoom(),g=s.length-1;g>=0;g--)l=s[g],c=this._getLayer(l.layerId).layer,l.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,J(s,"click",lt),this.expand();var l=this;setTimeout(function(){Te(s,"click",lt),l._preventClick=!1})}}),NT=function(s,l,c){return new y_(s,l,c)},Vh=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",c=ge("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,c,f,g){var y=ge("a",c,f);return y.innerHTML=s,y.href="#",y.title=l,y.setAttribute("role","button"),y.setAttribute("aria-label",l),Po(y),J(y,"click",wr),J(y,"click",g,this),J(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";He(this._zoomInButton,l),He(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ne(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ne(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});pe.mergeOptions({zoomControl:!0}),pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vh,this.addControl(this.zoomControl))});var bT=function(s){return new Vh(s)},w_=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",c=ge("div",l),f=this.options;return this._addScales(f,l+"-line",c),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,c){s.metric&&(this._mScale=ge("div",l,c)),s.imperial&&(this._iScale=ge("div",l,c))},_update:function(){var s=this._map,l=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),c=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,c,l/s)},_updateImperial:function(s){var l=s*3.2808399,c,f,g;l>5280?(c=l/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(s,l,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),c=s/l;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,l*c}}),LT=function(s){return new w_(s)},OT='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zh=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?OT+" ":"")+"Leaflet</a>"},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),Po(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});pe.mergeOptions({attributionControl:!0}),pe.addInitHook(function(){this.options.attributionControl&&new Zh().addTo(this)});var MT=function(s){return new Zh(s)};un.Layers=y_,un.Zoom=Vh,un.Scale=w_,un.Attribution=Zh,Ro.layers=NT,Ro.zoom=bT,Ro.scale=LT,Ro.attribution=MT;var Pn=at.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(s,l){return s.addHandler(l,this),this};var DT={Events:xe},E_=Z.touch?"touchstart mousedown":"mousedown",Ti=mt.extend({options:{clickTolerance:3},initialize:function(s,l,c,f){T(this,f),this._element=s,this._dragStartTarget=l||s,this._preventOutline=c},enable:function(){this._enabled||(J(this._dragStartTarget,E_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,E_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Nh(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ti._dragging===this&&this.finishDrag();return}if(!(Ti._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ti._dragging=this,this._preventOutline&&jh(this._element),Oh(),To(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,c=f_(this._element);this._startPoint=new O(l.clientX,l.clientY),this._startPos=vr(this._element),this._parentScale=Bh(c);var f=s.type==="mousedown";J(document,f?"mousemove":"touchmove",this._onMove,this),J(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,c=new O(l.clientX,l.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,lt(s),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ge(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){He(document.body,"leaflet-dragging"),this._lastTarget&&(He(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),Mh(),Io();var l=this._moved&&this._moving;this._moving=!1,Ti._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function A_(s,l,c){var f,g=[1,4,2,8],y,I,P,N,D,H,Q,oe;for(y=0,H=s.length;y<H;y++)s[y]._code=Er(s[y],l);for(P=0;P<4;P++){for(Q=g[P],f=[],y=0,H=s.length,I=H-1;y<H;I=y++)N=s[y],D=s[I],N._code&Q?D._code&Q||(oe=bl(D,N,Q,l,c),oe._code=Er(oe,l),f.push(oe)):(D._code&Q&&(oe=bl(D,N,Q,l,c),oe._code=Er(oe,l),f.push(oe)),f.push(N));s=f}return s}function C_(s,l){var c,f,g,y,I,P,N,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");Xt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Q=X([0,0]),oe=ue(s),At=oe.getNorthWest().distanceTo(oe.getSouthWest())*oe.getNorthEast().distanceTo(oe.getNorthWest());At<1700&&(Q=Kh(s));var nt=s.length,Jt=[];for(c=0;c<nt;c++){var Rt=X(s[c]);Jt.push(l.project(X([Rt.lat-Q.lat,Rt.lng-Q.lng])))}for(P=N=D=0,c=0,f=nt-1;c<nt;f=c++)g=Jt[c],y=Jt[f],I=g.y*y.x-y.y*g.x,N+=(g.x+y.x)*I,D+=(g.y+y.y)*I,P+=I*3;P===0?H=Jt[0]:H=[N/P,D/P];var fs=l.unproject(U(H));return X([fs.lat+Q.lat,fs.lng+Q.lng])}function Kh(s){for(var l=0,c=0,f=0,g=0;g<s.length;g++){var y=X(s[g]);l+=y.lat,c+=y.lng,f++}return X([l/f,c/f])}var jT={__proto__:null,clipPolygon:A_,polygonCenter:C_,centroid:Kh};function S_(s,l){if(!l||!s.length)return s.slice();var c=l*l;return s=UT(s,c),s=FT(s,c),s}function x_(s,l,c){return Math.sqrt(No(s,l,c,!0))}function BT(s,l,c){return No(s,l,c)}function FT(s,l){var c=s.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,Gh(s,g,l,0,c-1);var y,I=[];for(y=0;y<c;y++)g[y]&&I.push(s[y]);return I}function Gh(s,l,c,f,g){var y=0,I,P,N;for(P=f+1;P<=g-1;P++)N=No(s[P],s[f],s[g],!0),N>y&&(I=P,y=N);y>c&&(l[I]=1,Gh(s,l,c,f,I),Gh(s,l,c,I,g))}function UT(s,l){for(var c=[s[0]],f=1,g=0,y=s.length;f<y;f++)zT(s[f],s[g])>l&&(c.push(s[f]),g=f);return g<y-1&&c.push(s[y-1]),c}var T_;function I_(s,l,c,f,g){var y=f?T_:Er(s,c),I=Er(l,c),P,N,D;for(T_=I;;){if(!(y|I))return[s,l];if(y&I)return!1;P=y||I,N=bl(s,l,P,c,g),D=Er(N,c),P===y?(s=N,y=D):(l=N,I=D)}}function bl(s,l,c,f,g){var y=l.x-s.x,I=l.y-s.y,P=f.min,N=f.max,D,H;return c&8?(D=s.x+y*(N.y-s.y)/I,H=N.y):c&4?(D=s.x+y*(P.y-s.y)/I,H=P.y):c&2?(D=N.x,H=s.y+I*(N.x-s.x)/y):c&1&&(D=P.x,H=s.y+I*(P.x-s.x)/y),new O(D,H,g)}function Er(s,l){var c=0;return s.x<l.min.x?c|=1:s.x>l.max.x&&(c|=2),s.y<l.min.y?c|=4:s.y>l.max.y&&(c|=8),c}function zT(s,l){var c=l.x-s.x,f=l.y-s.y;return c*c+f*f}function No(s,l,c,f){var g=l.x,y=l.y,I=c.x-g,P=c.y-y,N=I*I+P*P,D;return N>0&&(D=((s.x-g)*I+(s.y-y)*P)/N,D>1?(g=c.x,y=c.y):D>0&&(g+=I*D,y+=P*D)),I=s.x-g,P=s.y-y,f?I*I+P*P:new O(g,y)}function Xt(s){return!x(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function k_(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(s)}function P_(s,l){var c,f,g,y,I,P,N,D;if(!s||s.length===0)throw new Error("latlngs not passed");Xt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=X([0,0]),Q=ue(s),oe=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());oe<1700&&(H=Kh(s));var At=s.length,nt=[];for(c=0;c<At;c++){var Jt=X(s[c]);nt.push(l.project(X([Jt.lat-H.lat,Jt.lng-H.lng])))}for(c=0,f=0;c<At-1;c++)f+=nt[c].distanceTo(nt[c+1])/2;if(f===0)D=nt[0];else for(c=0,y=0;c<At-1;c++)if(I=nt[c],P=nt[c+1],g=I.distanceTo(P),y+=g,y>f){N=(y-f)/g,D=[P.x-N*(P.x-I.x),P.y-N*(P.y-I.y)];break}var Rt=l.unproject(U(D));return X([Rt.lat+H.lat,Rt.lng+H.lng])}var WT={__proto__:null,simplify:S_,pointToSegmentDistance:x_,closestPointOnSegment:BT,clipSegment:I_,_getEdgeIntersection:bl,_getBitCode:Er,_sqClosestPointOnSegment:No,isFlat:Xt,_flat:k_,polylineCenter:P_},Qh={project:function(s){return new O(s.lng,s.lat)},unproject:function(s){return new se(s.y,s.x)},bounds:new K([-180,-90],[180,90])},qh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,c=this.R,f=s.lat*l,g=this.R_MINOR/c,y=Math.sqrt(1-g*g),I=y*Math.sin(f),P=Math.tan(Math.PI/4-f/2)/Math.pow((1-I)/(1+I),y/2);return f=-c*Math.log(Math.max(P,1e-10)),new O(s.lng*l*c,f)},unproject:function(s){for(var l=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),y=Math.exp(-s.y/c),I=Math.PI/2-2*Math.atan(y),P=0,N=.1,D;P<15&&Math.abs(N)>1e-7;P++)D=g*Math.sin(I),D=Math.pow((1-D)/(1+D),g/2),N=Math.PI/2-2*Math.atan(y*D)-I,I+=N;return new se(I*l,s.x*l/c)}},HT={__proto__:null,LonLat:Qh,Mercator:qh,SphericalMercator:Tn},VT=r({},qt,{code:"EPSG:3395",projection:qh,transformation:function(){var s=.5/(Math.PI*qh.R);return Yt(s,.5,-s,.5)}()}),R_=r({},qt,{code:"EPSG:4326",projection:Qh,transformation:Yt(1/180,1,-1/180,.5)}),ZT=r({},$e,{projection:Qh,transformation:Yt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var c=l.lng-s.lng,f=l.lat-s.lat;return Math.sqrt(c*c+f*f)},infinite:!0});$e.Earth=qt,$e.EPSG3395=VT,$e.EPSG3857=Vn,$e.EPSG900913=xi,$e.EPSG4326=R_,$e.Simple=ZT;var cn=mt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var c=this.getEvents();l.on(c,this),this.once("remove",function(){l.off(c,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});pe.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},_addLayers:function(s){s=s?x(s)?s:[s]:[];for(var l=0,c=s.length;l<c;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ls=cn.extend({initialize:function(s,l){T(this,l),this._layers={};var c,f;if(s)for(c=0,f=s.length;c<f;c++)this.addLayer(s[c])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[s]&&f[s].apply(f,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),KT=function(s,l){return new ls(s,l)},Gn=ls.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ls.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ls.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ye;for(var l in this._layers){var c=this._layers[l];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),GT=function(s,l){return new Gn(s,l)},us=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(s,l){var c=this.options,f=c[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=U(f),y=U(l==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(c.className||""),y&&(s.style.marginLeft=-y.x+"px",s.style.marginTop=-y.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Z.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function QT(s){return new us(s)}var bo=us.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof bo.imagePath!="string"&&(bo.imagePath=this._detectIconPath()),(this.options.imagePath||bo.imagePath)+us.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(c,f,g){var y=f.exec(c);return y&&y[g]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ge("div","leaflet-default-icon-path",document.body),l=xo(s,"background-image")||xo(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),N_=Pn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ti(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&He(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,c=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=vr(l._icon),I=c.getPixelBounds(),P=c.getPixelOrigin(),N=te(I.min._subtract(P).add(g),I.max._subtract(P).subtract(g));if(!N.contains(y)){var D=U((Math.max(N.max.x,y.x)-N.max.x)/(I.max.x-N.max.x)-(Math.min(N.min.x,y.x)-N.min.x)/(I.min.x-N.min.x),(Math.max(N.max.y,y.y)-N.max.y)/(I.max.y-N.max.y)-(Math.min(N.min.y,y.y)-N.min.y)/(I.min.y-N.min.y)).multiplyBy(f);c.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Ge(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ve(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,c=l._shadow,f=vr(l._icon),g=l._map.layerPointToLatLng(f);c&&Ge(c,f),l._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ll=cn.extend({options:{icon:new bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){T(this,l),this._latlng=X(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=X(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ne(c,l),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(c,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(ne(g,l),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Oe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Oe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ge(this._icon,s),this._shadow&&Ge(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),N_)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new N_(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&$t(this._icon,s),this._shadow&&$t(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,c=l.iconSize?U(l.iconSize):U(0,0),f=l.iconAnchor?U(l.iconAnchor):U(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qT(s,l){return new Ll(s,l)}var Ii=cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=Ii.extend({options:{fill:!0,radius:10},initialize:function(s,l){T(this,l),this._latlng=X(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=X(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ii.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,c=this._clickTolerance(),f=[s+c,l+c];this._pxBounds=new K(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function YT(s,l){return new Ol(s,l)}var Yh=Ol.extend({initialize:function(s,l,c){if(typeof l=="number"&&(l=r({},c,{radius:l})),T(this,l),this._latlng=X(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ii.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===qt.distance){var g=Math.PI/180,y=this._mRadius/qt.R/g,I=c.project([l+y,s]),P=c.project([l-y,s]),N=I.add(P).divideBy(2),D=c.unproject(N).lat,H=Math.acos((Math.cos(y*g)-Math.sin(l*g)*Math.sin(D*g))/(Math.cos(l*g)*Math.cos(D*g)))/g;(isNaN(H)||H===0)&&(H=y/Math.cos(Math.PI/180*l)),this._point=N.subtract(c.getPixelOrigin()),this._radius=isNaN(H)?0:N.x-c.project([D,s-H]).x,this._radiusY=N.y-I.y}else{var Q=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Q).x}this._updateBounds()}});function $T(s,l,c){return new Yh(s,l,c)}var Qn=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){T(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,c=null,f=No,g,y,I=0,P=this._parts.length;I<P;I++)for(var N=this._parts[I],D=1,H=N.length;D<H;D++){g=N[D-1],y=N[D];var Q=f(s,g,y,!0);Q<l&&(l=Q,c=f(s,g,y))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return P_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=X(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ye,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],c=Xt(s),f=0,g=s.length;f<g;f++)c?(l[f]=X(s[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(s[f]);return l},_project:function(){var s=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new O(s,s);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,c){var f=s[0]instanceof se,g=s.length,y,I;if(f){for(I=[],y=0;y<g;y++)I[y]=this._map.latLngToLayerPoint(s[y]),c.extend(I[y]);l.push(I)}else for(y=0;y<g;y++)this._projectLatlngs(s[y],l,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,c,f,g,y,I,P,N;for(c=0,g=0,y=this._rings.length;c<y;c++)for(N=this._rings[c],f=0,I=N.length;f<I-1;f++)P=I_(N[f],N[f+1],s,f,!0),P&&(l[g]=l[g]||[],l[g].push(P[0]),(P[1]!==N[f+1]||f===I-2)&&(l[g].push(P[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,c=0,f=s.length;c<f;c++)s[c]=S_(s[c],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var c,f,g,y,I,P,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,y=this._parts.length;c<y;c++)for(P=this._parts[c],f=0,I=P.length,g=I-1;f<I;g=f++)if(!(!l&&f===0)&&x_(s,P[g],P[f])<=N)return!0;return!1}});function XT(s,l){return new Qn(s,l)}Qn._flat=k_;var cs=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return C_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Qn.prototype._convertLatLngs.call(this,s),c=l.length;return c>=2&&l[0]instanceof se&&l[0].equals(l[c-1])&&l.pop(),l},_setLatLngs:function(s){Qn.prototype._setLatLngs.call(this,s),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,c=new O(l,l);if(s=new K(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,y;f<g;f++)y=A_(this._rings[f],s,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,c,f,g,y,I,P,N,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,N=this._parts.length;y<N;y++)for(c=this._parts[y],I=0,D=c.length,P=D-1;I<D;P=I++)f=c[I],g=c[P],f.y>s.y!=g.y>s.y&&s.x<(g.x-f.x)*(s.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||Qn.prototype._containsPoint.call(this,s,!0)}});function JT(s,l){return new cs(s,l)}var qn=Gn.extend({initialize:function(s,l){T(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=x(s)?s:s.features,c,f,g;if(l){for(c=0,f=l.length;c<f;c++)g=l[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(s))return this;var I=Ml(s,y);return I?(I.feature=Bl(s),I.defaultOptions=I.options,this.resetStyle(I),y.onEachFeature&&y.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Ml(s,l){var c=s.type==="Feature"?s.geometry:s,f=c?c.coordinates:null,g=[],y=l&&l.pointToLayer,I=l&&l.coordsToLatLng||$h,P,N,D,H;if(!f&&!c)return null;switch(c.type){case"Point":return P=I(f),b_(y,s,P,l);case"MultiPoint":for(D=0,H=f.length;D<H;D++)P=I(f[D]),g.push(b_(y,s,P,l));return new Gn(g);case"LineString":case"MultiLineString":return N=Dl(f,c.type==="LineString"?0:1,I),new Qn(N,l);case"Polygon":case"MultiPolygon":return N=Dl(f,c.type==="Polygon"?1:2,I),new cs(N,l);case"GeometryCollection":for(D=0,H=c.geometries.length;D<H;D++){var Q=Ml({geometry:c.geometries[D],type:"Feature",properties:s.properties},l);Q&&g.push(Q)}return new Gn(g);case"FeatureCollection":for(D=0,H=c.features.length;D<H;D++){var oe=Ml(c.features[D],l);oe&&g.push(oe)}return new Gn(g);default:throw new Error("Invalid GeoJSON object.")}}function b_(s,l,c,f){return s?s(l,c):new Ll(c,f&&f.markersInheritOptions&&f)}function $h(s){return new se(s[1],s[0],s[2])}function Dl(s,l,c){for(var f=[],g=0,y=s.length,I;g<y;g++)I=l?Dl(s[g],l-1,c):(c||$h)(s[g]),f.push(I);return f}function Xh(s,l){return s=X(s),s.alt!==void 0?[v(s.lng,l),v(s.lat,l),v(s.alt,l)]:[v(s.lng,l),v(s.lat,l)]}function jl(s,l,c,f){for(var g=[],y=0,I=s.length;y<I;y++)g.push(l?jl(s[y],Xt(s[y])?0:l-1,c,f):Xh(s[y],f));return!l&&c&&g.length>0&&g.push(g[0].slice()),g}function hs(s,l){return s.feature?r({},s.feature,{geometry:l}):Bl(l)}function Bl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Jh={toGeoJSON:function(s){return hs(this,{type:"Point",coordinates:Xh(this.getLatLng(),s)})}};Ll.include(Jh),Yh.include(Jh),Ol.include(Jh),Qn.include({toGeoJSON:function(s){var l=!Xt(this._latlngs),c=jl(this._latlngs,l?1:0,!1,s);return hs(this,{type:(l?"Multi":"")+"LineString",coordinates:c})}}),cs.include({toGeoJSON:function(s){var l=!Xt(this._latlngs),c=l&&!Xt(this._latlngs[0]),f=jl(this._latlngs,c?2:l?1:0,!0,s);return l||(f=[f]),hs(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),ls.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(c){l.push(c.toGeoJSON(s).geometry.coordinates)}),hs(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var c=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(s);if(c)f.push(y.geometry);else{var I=Bl(y);I.type==="FeatureCollection"?f.push.apply(f,I.features):f.push(I)}}}),c?hs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function L_(s,l){return new qn(s,l)}var eI=L_,Fl=cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,c){this._url=s,this._bounds=ue(l),T(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Oe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&os(this._image),this},bringToBack:function(){return this._map&&as(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ue(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:ge("img");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;_r(this._image,c,l)},_reset:function(){var s=this._image,l=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=l.getSize();Ge(s,l.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),tI=function(s,l,c){return new Fl(s,l,c)},O_=Fl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:ge("video");if(ne(l,"leaflet-image-layer"),this._zoomAnimated&&ne(l,"leaflet-zoom-animated"),this.options.className&&ne(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),s){for(var c=l.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[l.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var I=ge("source");I.src=this._url[y],l.appendChild(I)}}});function nI(s,l,c){return new O_(s,l,c)}var M_=Fl.extend({_initImage:function(){var s=this._image=this._url;ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function iI(s,l,c){return new M_(s,l,c)}var Rn=cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof se||x(s))?(this._latlng=X(s),T(this,l)):(T(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(a(Oe,void 0,this._container),200)):Oe(this._container),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=X(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&os(this._container),this},bringToBack:function(){return this._map&&as(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Gn){l=null;var c=this._source._layers;for(var f in c)if(c[f]._map){l=c[f];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ge(this._container,s.add(c)):l=l.add(s).add(c);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});pe.include({_initOverlay:function(s,l,c,f){var g=l;return g instanceof s||(g=new s(f).setContent(l)),c&&g.setLatLng(c),g}}),cn.include({_initOverlay:function(s,l,c,f){var g=c;return g instanceof s?(T(g,f),g._source=this):(g=l&&!f?l:new s(f,this),g.setContent(c)),g}});var Ul=Rn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Rn.prototype.openOn.call(this,s)},onAdd:function(s){Rn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",yr))},onRemove:function(s){Rn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",yr))},getEvents:function(){var s=Rn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=ge("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ge("div",s+"-content-wrapper",l);if(this._contentNode=ge("div",s+"-content",c),Po(l),Wh(this._contentNode),J(l,"contextmenu",yr),this._tipContainer=ge("div",s+"-tip-container",l),this._tip=ge("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ge("a",s+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',J(f,"click",function(g){lt(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),l.width=c+1+"px",l.whiteSpace="",l.height="";var f=s.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",ne(s,y)):He(s,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Ge(this._container,l.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(xo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+l,f=this._containerWidth,g=new O(this._containerLeft,-c-this._containerBottom);g._add(vr(this._container));var y=s.layerPointToContainerPoint(g),I=U(this.options.autoPanPadding),P=U(this.options.autoPanPaddingTopLeft||I),N=U(this.options.autoPanPaddingBottomRight||I),D=s.getSize(),H=0,Q=0;y.x+f+N.x>D.x&&(H=y.x+f-D.x+N.x),y.x-H-P.x<0&&(H=y.x-P.x),y.y+c+N.y>D.y&&(Q=y.y+c-D.y+N.y),y.y-Q-P.y<0&&(Q=y.y-P.y),(H||Q)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,Q]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rI=function(s,l){return new Ul(s,l)};pe.mergeOptions({closePopupOnClick:!0}),pe.include({openPopup:function(s,l,c){return this._initOverlay(Ul,s,l,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),cn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Ul,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){wr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var zl=Rn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Rn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Rn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Rn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ge("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,c,f=this._map,g=this._container,y=f.latLngToContainerPoint(f.getCenter()),I=f.layerPointToContainerPoint(s),P=this.options.direction,N=g.offsetWidth,D=g.offsetHeight,H=U(this.options.offset),Q=this._getAnchor();P==="top"?(l=N/2,c=D):P==="bottom"?(l=N/2,c=0):P==="center"?(l=N/2,c=D/2):P==="right"?(l=0,c=D/2):P==="left"?(l=N,c=D/2):I.x<y.x?(P="right",l=0,c=D/2):(P="left",l=N+(H.x+Q.x)*2,c=D/2),s=s.subtract(U(l,c,!0)).add(H).add(Q),He(g,"leaflet-tooltip-right"),He(g,"leaflet-tooltip-left"),He(g,"leaflet-tooltip-top"),He(g,"leaflet-tooltip-bottom"),ne(g,"leaflet-tooltip-"+P),Ge(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&$t(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sI=function(s,l){return new zl(s,l)};pe.include({openTooltip:function(s,l,c){return this._initOverlay(zl,s,l,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),cn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(zl,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[l](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(J(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),J(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,c,f;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(c),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var D_=us.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Il(l),l.appendChild(c.html)):l.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=U(c.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function oI(s){return new D_(s)}us.Default=bo;var Lo=cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Oe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(os(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof O?s:new O(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,c=-s(-1/0,1/0),f=0,g=l.length,y;f<g;f++)y=l[f].style.zIndex,l[f]!==this._container&&y&&(c=s(c,+y));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){$t(this._container,this.options.opacity);var s=+new Date,l=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var y=Math.min(1,(s-g.loaded)/200);$t(g.el,y),y<1?l=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),l&&(Le(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=l-Math.abs(s-c),this._onUpdateLevel(c)):(Oe(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[s],g=this._map;return f||(f=this._levels[s]={},f.el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,l,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Oe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,c,f){var g=Math.floor(s/2),y=Math.floor(l/2),I=c-1,P=new O(+g,+y);P.z=+I;var N=this._tileCoordsToKey(P),D=this._tiles[N];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),I>f?this._retainParent(g,y,I,f):!1)},_retainChildren:function(s,l,c,f){for(var g=2*s;g<2*s+2;g++)for(var y=2*l;y<2*l+2;y++){var I=new O(g,y);I.z=c+1;var P=this._tileCoordsToKey(I),N=this._tiles[P];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);c+1<f&&this._retainChildren(g,y,c+1,f)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,c,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,l)},_setZoomTransform:function(s,l,c){var f=this._map.getZoomScale(c,s.zoom),g=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,c)).round();Z.any3d?_r(s.el,g,f):Ge(s.el,g)},_resetGrid:function(){var s=this._map,l=s.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],f).x/c.x),Math.ceil(s.project([0,l.wrapLng[1]],f).x/c.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],f).y/c.x),Math.ceil(s.project([l.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,c=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(c,this._tileZoom),g=l.project(s,this._tileZoom).floor(),y=l.getSize().divideBy(f*2);return new K(g.subtract(y),g.add(y))},_update:function(s){var l=this._map;if(l){var c=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(f),y=g.getCenter(),I=[],P=this.options.keepBuffer,N=new K(g.getBottomLeft().subtract([P,-P]),g.getTopRight().add([P,-P]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!N.contains(new O(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var Q=g.min.y;Q<=g.max.y;Q++)for(var oe=g.min.x;oe<=g.max.x;oe++){var At=new O(oe,Q);if(At.z=this._tileZoom,!!this._isValidTile(At)){var nt=this._tiles[this._tileCoordsToKey(At)];nt?nt.current=!0:I.push(At)}}if(I.sort(function(Rt,fs){return Rt.distanceTo(y)-fs.distanceTo(y)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jt=document.createDocumentFragment();for(oe=0;oe<I.length;oe++)this._addTile(I[oe],Jt);this._level.el.appendChild(Jt)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var c=this._globalTileRange;if(!l.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!l.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return ue(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,c=this.getTileSize(),f=s.scaleBy(c),g=f.add(c),y=l.unproject(f,s.z),I=l.unproject(g,s.z);return[y,I]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),c=new ye(l[0],l[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),c=new O(+l[0],+l[1]);return c.z=+l[2],c},_removeTile:function(s){var l=this._tiles[s];l&&(Oe(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ne(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=m,s.onmousemove=m,Z.ielt9&&this.options.opacity<1&&$t(s,this.options.opacity)},_addTile:function(s,l){var c=this._getTilePos(s),f=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&ve(a(this._tileReady,this,s,null,g)),Ge(g,c),this._tiles[f]={el:g,coords:s,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,l,c){l&&this.fire("tileerror",{error:l,tile:c,coords:s});var f=this._tileCoordsToKey(s);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?($t(c.el,0),Le(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),l||(ne(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new O(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new K(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function aI(s){return new Lo(s)}var ds=Lo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=T(this,l),l.detectRetina&&Z.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var c=document.createElement("img");return J(c,"load",a(this._tileOnLoad,this,l,c)),J(c,"error",a(this._tileOnError,this,l,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var l={r:Z.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=c),l["-y"]=c}return C(this._url,r(l,this.options))},_tileOnLoad:function(s,l){Z.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,c){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),s(c,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(s=l-s),s+f},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=m,l.onerror=m,!l.complete)){l.src=M;var c=this._tiles[s].coords;Oe(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:c})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",M),Lo.prototype._removeTile.call(this,s)},_tileReady:function(s,l,c){if(!(!this._map||c&&c.getAttribute("src")===M))return Lo.prototype._tileReady.call(this,s,l,c)}});function j_(s,l){return new ds(s,l)}var B_=ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var c=r({},this.defaultWmsParams);for(var f in l)f in this.options||(c[f]=l[f]);l=T(this,l);var g=l.detectRetina&&Z.retina?2:1,y=this.getTileSize();c.width=y.x*g,c.height=y.y*g,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ds.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),c=this._crs,f=te(c.project(l[0]),c.project(l[1])),g=f.min,y=f.max,I=(this._wmsVersion>=1.3&&this._crs===R_?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),P=ds.prototype.getTileUrl.call(this,s);return P+k(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function lI(s,l){return new B_(s,l)}ds.WMS=B_,j_.wms=lI;var Yn=cn.extend({options:{padding:.1},initialize:function(s){T(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var c=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),y=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(s,l));Z.any3d?_r(this._container,y,c):Ge(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),c=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new K(c,c.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),F_=Yn.extend({options:{tolerance:0},getEvents:function(){var s=Yn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");J(s,"mousemove",this._onMouseMove,this),J(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,Oe(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var s=this._bounds,l=this._container,c=s.getSize(),f=Z.retina?2:1;Ge(l,s.min),l.width=f*c.x,l.height=f*c.y,l.style.width=c.x+"px",l.style.height=c.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,c=l.next,f=l.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;c.push(f)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var c=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var c,f,g,y,I=s._parts,P=I.length,N=this._ctx;if(P){for(N.beginPath(),c=0;c<P;c++){for(f=0,g=I[c].length;f<g;f++)y=I[c][f],N[f?"lineTo":"moveTo"](y.x,y.y);l&&N.closePath()}this._fillStroke(N,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,c=this._ctx,f=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,l){var c=l.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(He(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(l)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(ne(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,c){this._map._fireDOMEvent(l,c||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var c=l.next,f=l.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var c=l.next,f=l.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function U_(s){return Z.canvas?new F_(s):null}var Oo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),uI={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Oo("shape");ne(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Oo("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Oe(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,c=s._fill,f=s.options,g=s._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=s._stroke=Oo("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=x(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),s._stroke=null),f.fill?(c||(c=s._fill=Oo("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),c=Math.round(s._radius),f=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){os(s._container)},_bringToBack:function(s){as(s._container)}},Wl=Z.vml?Oo:Ce,Mo=Yn.extend({_initContainer:function(){this._container=Wl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Oe(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,c.setAttribute("width",l.x),c.setAttribute("height",l.y)),Ge(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Wl("path");s.options.className&&ne(l,s.options.className),s.options.interactive&&ne(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Oe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,c=s.options;l&&(c.stroke?(l.setAttribute("stroke",c.color),l.setAttribute("stroke-opacity",c.opacity),l.setAttribute("stroke-width",c.weight),l.setAttribute("stroke-linecap",c.lineCap),l.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?l.setAttribute("stroke-dasharray",c.dashArray):l.removeAttribute("stroke-dasharray"),c.dashOffset?l.setAttribute("stroke-dashoffset",c.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),c.fill?(l.setAttribute("fill",c.fillColor||c.color),l.setAttribute("fill-opacity",c.fillOpacity),l.setAttribute("fill-rule",c.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,gr(s._parts,l))},_updateCircle:function(s){var l=s._point,c=Math.max(Math.round(s._radius),1),f=Math.max(Math.round(s._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",y=s._empty()?"M0 0":"M"+(l.x-c)+","+l.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(s,y)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){os(s._path)},_bringToBack:function(s){as(s._path)}});Z.vml&&Mo.include(uI);function z_(s){return Z.svg||Z.vml?new Mo(s):null}pe.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&U_(s)||z_(s)}});var W_=cs.extend({initialize:function(s,l){cs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ue(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function cI(s,l){return new W_(s,l)}Mo.create=Wl,Mo.pointsToPath=gr,qn.geometryToLayer=Ml,qn.coordsToLatLng=$h,qn.coordsToLatLngs=Dl,qn.latLngToCoords=Xh,qn.latLngsToCoords=jl,qn.getFeature=hs,qn.asFeature=Bl,pe.mergeOptions({boxZoom:!0});var H_=Pn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Oe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),To(),Oh(),this._startPoint=this._map.mouseEventToContainerPoint(s),J(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new K(this._point,this._startPoint),c=l.getSize();Ge(this._box,l.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Oe(this._box),He(this._container,"leaflet-crosshair")),Io(),Mh(),Te(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});pe.addInitHook("addHandler","boxZoom",H_),pe.mergeOptions({doubleClickZoom:!0});var V_=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,c=l.getZoom(),f=l.options.zoomDelta,g=s.originalEvent.shiftKey?c-f:c+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(s.containerPoint,g)}});pe.addInitHook("addHandler","doubleClickZoom",V_),pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Z_=Pn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ti(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){He(this._map._container,"leaflet-grab"),He(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ue(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+c)%s+l-c,y=(f+l+c)%s-l-c,I=Math.abs(g+c)<Math.abs(y+c)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var l=this._map,c=l.options,f=!c.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,I=c.easeLinearity,P=g.multiplyBy(I/y),N=P.distanceTo([0,0]),D=Math.min(c.inertiaMaxSpeed,N),H=P.multiplyBy(D/N),Q=D/(c.inertiaDeceleration*I),oe=H.multiplyBy(-Q/2).round();!oe.x&&!oe.y?l.fire("moveend"):(oe=l._limitOffset(oe,l.options.maxBounds),ve(function(){l.panBy(oe,{duration:Q,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});pe.addInitHook("addHandler","dragging",Z_),pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var K_=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),J(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,c=s.scrollTop||l.scrollTop,f=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)l[c.left[f]]=[-1*s,0];for(f=0,g=c.right.length;f<g;f++)l[c.right[f]]=[s,0];for(f=0,g=c.down.length;f<g;f++)l[c.down[f]]=[0,s];for(f=0,g=c.up.length;f<g;f++)l[c.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)l[c.zoomIn[f]]=s;for(f=0,g=c.zoomOut.length;f<g;f++)l[c.zoomOut[f]]=-s},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,c=this._map,f;if(l in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[l],s.shiftKey&&(f=U(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(U(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(l in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;wr(s)}}});pe.addInitHook("addHandler","keyboard",K_),pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var G_=Pn.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=__(s),c=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),wr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,y=c?Math.ceil(g/c)*c:g,I=s._limitZoom(l+(this._delta>0?y:-y))-l;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+I):s.setZoomAround(this._lastMousePos,l+I))}});pe.addInitHook("addHandler","scrollWheelZoom",G_);var hI=600;pe.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Q_=Pn.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new O(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",lt),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),hI),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Te(document,"touchend",lt),Te(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new O(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});c._simulated=!0,l.target.dispatchEvent(c)}});pe.addInitHook("addHandler","tapHold",Q_),pe.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var q_=Pn.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){He(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var c=l.mouseEventToContainerPoint(s.touches[0]),f=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),lt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,c=l.mouseEventToContainerPoint(s.touches[0]),f=l.mouseEventToContainerPoint(s.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var I=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(I,this,!0),lt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});pe.addInitHook("addHandler","touchZoom",q_),pe.BoxZoom=H_,pe.DoubleClickZoom=V_,pe.Drag=Z_,pe.Keyboard=K_,pe.ScrollWheelZoom=G_,pe.TapHold=Q_,pe.TouchZoom=q_,n.Bounds=K,n.Browser=Z,n.CRS=$e,n.Canvas=F_,n.Circle=Yh,n.CircleMarker=Ol,n.Class=at,n.Control=un,n.DivIcon=D_,n.DivOverlay=Rn,n.DomEvent=PT,n.DomUtil=IT,n.Draggable=Ti,n.Evented=mt,n.FeatureGroup=Gn,n.GeoJSON=qn,n.GridLayer=Lo,n.Handler=Pn,n.Icon=us,n.ImageOverlay=Fl,n.LatLng=se,n.LatLngBounds=ye,n.Layer=cn,n.LayerGroup=ls,n.LineUtil=WT,n.Map=pe,n.Marker=Ll,n.Mixin=DT,n.Path=Ii,n.Point=O,n.PolyUtil=jT,n.Polygon=cs,n.Polyline=Qn,n.Popup=Ul,n.PosAnimation=v_,n.Projection=HT,n.Rectangle=W_,n.Renderer=Yn,n.SVG=Mo,n.SVGOverlay=M_,n.TileLayer=ds,n.Tooltip=zl,n.Transformation=Si,n.Util=Qt,n.VideoOverlay=O_,n.bind=a,n.bounds=te,n.canvas=U_,n.circle=$T,n.circleMarker=YT,n.control=Ro,n.divIcon=oI,n.extend=r,n.featureGroup=GT,n.geoJSON=L_,n.geoJson=eI,n.gridLayer=aI,n.icon=QT,n.imageOverlay=tI,n.latLng=X,n.latLngBounds=ue,n.layerGroup=KT,n.map=RT,n.marker=qT,n.point=U,n.polygon=JT,n.polyline=XT,n.popup=rI,n.rectangle=cI,n.setOptions=T,n.stamp=h,n.svg=z_,n.svgOverlay=iI,n.tileLayer=j_,n.tooltip=sI,n.transformation=Yt,n.version=i,n.videoOverlay=nI;var dI=window.L;n.noConflict=function(){return window.L=dI,this},window.L=n})})(Np,Np.exports);var Sh=Np.exports;function Vg(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Zg(t,e){return e==null?function(i,r){const o=A.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=A.useRef();o.current||(o.current=t(i,r));const a=A.useRef(i),{instance:u}=o.current;return A.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),o}}function OU(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Lx(t){return function(n){const i=Wg(),r=t(Hg(n,i),i);return Px(i.map,n.attribution),bx(r.current,n.eventHandlers),OU(r.current,i),r}}function MU(t,e){const n=Zg(t,e),i=Lx(n);return RU(i)}function DU(t,e){const n=Zg(t),i=LU(n,e);return NU(i)}function jU(t,e){const n=Zg(t,e),i=Lx(n);return bU(i)}function BU(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function FU(){return Wg().map}function bp(){return bp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bp.apply(this,arguments)}function UU({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:u,whenReady:h,zoom:d,..._},m){const[v]=A.useState({className:r,id:o,style:u}),[E,w]=A.useState(null);A.useImperativeHandle(m,()=>(E==null?void 0:E.map)??null,[E]);const T=A.useCallback(S=>{if(S!==null&&E===null){const C=new Sh.Map(S,_);n!=null&&d!=null?C.setView(n,d):t!=null&&C.fitBounds(t,e),h!=null&&C.whenReady(h),w(kU(C))}},[]);A.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const k=E?Ut.createElement(Nx,{value:E},i):a??null;return Ut.createElement("div",bp({},v,{ref:T}),k)}const zU=A.forwardRef(UU),WU=MU(function({position:e,...n},i){const r=new Sh.Marker(e,n);return Vg(r,PU(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),HU=DU(function(e,n){const i=new Sh.Popup(e,n.overlayContainer);return Vg(i,n)},function(e,n,{position:i},r){A.useEffect(function(){const{instance:a}=e;function u(d){d.popup===a&&(a.update(),r(!0))}function h(d){d.popup===a&&r(!1)}return n.map.on({popupopen:u,popupclose:h}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var _;n.map.off({popupopen:u,popupclose:h}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(a)}},[e,n,r,i])}),VU=jU(function({url:e,...n},i){const r=new Sh.TileLayer(e,Hg(n,i));return Vg(r,i)},function(e,n,i){BU(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),ZU=()=>{const t=FU();return A.useEffect(()=>{setTimeout(()=>{t.invalidateSize()},0)},[t]),null},KU=()=>{const t=[41.10476939105021,29.0247126404938];return p.jsx("div",{className:"map-container",children:p.jsxs(zU,{center:t,zoom:13,scrollWheelZoom:!1,style:{height:"500px",width:"100%"},children:[p.jsx(VU,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),p.jsx(WU,{position:t,children:p.jsx(HU,{children:"Our office is located here!"})}),p.jsx(ZU,{})," "]})})},GU=()=>(A.useEffect(()=>{wl()},[]),p.jsxs("div",{id:"contact-page",children:[p.jsx(_l,{toggleSidebar:function(){throw new Error("Function not implemented.")}}),p.jsx("main",{className:"container mt-5",children:p.jsx("div",{className:"middle-content p-4",children:p.jsxs("div",{className:"row form-map-container",children:[p.jsxs("div",{className:"col-md-6 form-container",children:[p.jsxs("h2",{className:"contact-header",children:["Get in ",p.jsx("span",{className:"highlight",children:"Touch"})]}),p.jsx("p",{className:"contact-description",children:"To contact me through email and ask questions, please fill out the form. I will return back to you through the contact info you submit."}),p.jsx(AU,{}),p.jsx(TU,{})]}),p.jsx("div",{className:"col-md-6 map-container",children:p.jsx(KU,{})})]})})})]})),QU=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(!1);return A.useEffect(()=>{wl()},[]),A.useEffect(()=>{const r=de(),o=ie(r,"aboutUs/text");pt(o,a=>{const u=a.val();if(u){const h=u.replace(/\n/g,"<br />");e(h)}else e("Default About Us content.");i(!0)})},[]),p.jsxs("div",{id:"about-page",children:[p.jsx(_l,{toggleSidebar:()=>{}})," ",p.jsx("main",{className:"main-section",children:p.jsxs("div",{className:"content-wrapper",children:[p.jsx("h1",{className:"about-header",children:"About this Website,"}),n?p.jsx("p",{className:"about-paragraph",dangerouslySetInnerHTML:{__html:t}}):p.jsx("div",{children:"Loading..."})]})})]})},qU=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(!1);A.useEffect(()=>{wl()},[]),A.useEffect(()=>{const a=de(),u=ie(a,"aboutUs/text");pt(u,h=>{const d=h.val();d&&(e(d),i(!0))})},[]);const r=a=>{e(a.target.value)},o=()=>{const a=de();Ot(ie(a,"aboutUs/text"),t)};return n?p.jsxs("div",{id:"about-page",children:[p.jsx(_l,{toggleSidebar:()=>{}})," ",p.jsx("main",{className:"main-section",children:p.jsxs("div",{className:"content-wrapper",children:[p.jsx("h1",{className:"about-header",children:"Edit About Us"}),p.jsx("textarea",{className:"about-textarea",value:t,onChange:r}),p.jsx("button",{onClick:o,className:"save-button",children:"Save"})]})})]}):p.jsx("div",{children:"Loading..."})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="firebasestorage.googleapis.com",Mx="storageBucket",YU=2*60*1e3,$U=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends vi{constructor(e,n,i=0){super(Xd(e),`Firebase Storage: ${n} (${Xd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function Xd(t){return"storage/"+t}function Kg(){const t="An unknown error occurred, please check the error payload for server response.";return new We(ze.UNKNOWN,t)}function XU(t){return new We(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JU(t){return new We(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(ze.UNAUTHENTICATED,t)}function t2(){return new We(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n2(t){return new We(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function i2(){return new We(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r2(){return new We(ze.CANCELED,"User canceled the upload/download.")}function s2(t){return new We(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function o2(t){return new We(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a2(){return new We(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mx+"' property when initializing the app?")}function l2(){return new We(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u2(){return new We(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c2(t){return new We(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lp(t){return new We(ze.INVALID_ARGUMENT,t)}function Dx(){return new We(ze.APP_DELETED,"The Firebase app was deleted.")}function h2(t){return new We(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ya(t,e){return new We(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yo(t){throw new We(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Wt.makeFromUrl(e,n)}catch{return new Wt(e,"")}if(i.path==="")return i;throw o2(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),h={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const _="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${_}/b/${r}/o${v}`,"i"),w={bucket:1,path:3},T=n===Ox?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",S=new RegExp(`^https?://${T}/${r}/${k}`,"i"),x=[{regex:u,indices:h,postModify:o},{regex:E,indices:w,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<x.length;R++){const M=x[R],j=M.regex.exec(e);if(j){const F=j[M.indices.bucket];let W=j[M.indices.path];W||(W=""),i=new Wt(F,W),M.postModify(i);break}}if(i==null)throw s2(e);return i}}class d2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e,n){let i=1,r=null,o=null,a=!1,u=0;function h(){return u===2}let d=!1;function _(...k){d||(d=!0,e.apply(null,k))}function m(k){r=setTimeout(()=>{r=null,t(E,h())},k)}function v(){o&&clearTimeout(o)}function E(k,...S){if(d){v();return}if(k){v(),_.call(null,k,...S);return}if(h()||a){v(),_.call(null,k,...S);return}i<64&&(i*=2);let x;u===1?(u=2,x=0):x=(i+Math.random())*1e3,m(x)}let w=!1;function T(k){w||(w=!0,v(),!d&&(r!==null?(k||(u=2),clearTimeout(r),m(0)):k||(u=1)))}return m(0),o=setTimeout(()=>{a=!0,T(!0)},n),T}function p2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return t!==void 0}function g2(t){return typeof t=="object"&&!Array.isArray(t)}function Gg(t){return typeof t=="string"||t instanceof String}function tE(t){return Qg()&&t instanceof Blob}function Qg(){return typeof Blob<"u"}function nE(t,e,n,i){if(i<e)throw Lp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Lp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function jx(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jr||(jr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,i,r,o,a,u,h,d,_,m,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=_,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new fu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===jr.NO_ERROR,h=o.getStatus();if(!u||_2(h,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===jr.ABORT;i(!1,new fu(!1,null,_));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new fu(d,o))})},n=(i,r)=>{const o=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());m2(h)?o(h):o()}catch(h){a(h)}else if(u!==null){const h=Kg();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(r.canceled){const h=this.appDelete_?Dx():r2();a(h)}else{const h=i2();a(h)}};this.canceled_?n(!1,new fu(!1,null,!0)):this.backoffId_=f2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function y2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function C2(t,e,n,i,r,o,a=!0){const u=jx(t.urlParams),h=t.url+u,d=Object.assign({},t.headers);return E2(d,e),y2(d,n),w2(d,o),A2(d,i),new v2(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x2(...t){const e=S2();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Qg())return new Blob(t);throw new We(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){if(typeof atob>"u")throw c2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jd{constructor(e,n){this.data=e,this.contentType=n||null}}function k2(t,e){switch(t){case Dn.RAW:return new Jd(Bx(e));case Dn.BASE64:case Dn.BASE64URL:return new Jd(Fx(t,e));case Dn.DATA_URL:return new Jd(R2(e),N2(e))}throw Kg()}function Bx(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,a=t.charCodeAt(++n);i=65536|(o&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function P2(t){let e;try{e=decodeURIComponent(t)}catch{throw ya(Dn.DATA_URL,"Malformed data URL.")}return Bx(e)}function Fx(t,e){switch(t){case Dn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ya(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ya(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=I2(e)}catch(r){throw r.message.includes("polyfill")?r:ya(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class Ux{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ya(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=b2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function R2(t){const e=new Ux(t);return e.base64?Fx(Dn.BASE64,e.rest):P2(e.rest)}function N2(t){return new Ux(t).contentType}function b2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){let i=0,r="";tE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(tE(this.data_)){const i=this.data_,r=T2(i,e,n);return r===null?null:new Ui(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ui(i,!0)}}static getBlob(...e){if(Qg()){const n=e.map(i=>i instanceof Ui?i.data_:i);return new Ui(x2.apply(null,n))}else{const n=e.map(a=>Gg(a)?k2(Dn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[o++]=a[u]}),new Ui(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){let e;try{e=JSON.parse(t)}catch{return null}return g2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function O2(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Wx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){return e}class Ct{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||M2}}let pu=null;function D2(t){return!Gg(t)||t.length<2?t:Wx(t)}function Hx(){if(pu)return pu;const t=[];t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));function e(o,a){return D2(a)}const n=new Ct("name");n.xform=e,t.push(n);function i(o,a){return a!==void 0?Number(a):a}const r=new Ct("size");return r.xform=i,t.push(r),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),pu=t,pu}function j2(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Wt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function B2(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const a=n[o];i[a.local]=a.xform(i,e[a.server])}return j2(i,t),i}function Vx(t,e,n){const i=zx(e);return i===null?null:B2(t,i,n)}function F2(t,e,n,i){const r=zx(e);if(r===null||!Gg(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const _=t.bucket,m=t.fullPath,v="/b/"+a(_)+"/o/"+a(m),E=qg(v,n,i),w=jx({alt:"media",token:d});return E+w})[0]}function U2(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Zx{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){if(!t)throw Kg()}function z2(t,e){function n(i,r){const o=Vx(t,r,e);return Kx(o!==null),o}return n}function W2(t,e){function n(i,r){const o=Vx(t,r,e);return Kx(o!==null),F2(o,r,t.host,t._protocol)}return n}function Gx(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=t2():r=e2():n.getStatus()===402?r=JU(t.bucket):n.getStatus()===403?r=n2(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function H2(t){const e=Gx(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=XU(t.path)),o.serverResponse=r.serverResponse,o}return n}function V2(t,e,n){const i=e.fullServerUrl(),r=qg(i,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new Zx(r,o,W2(t,n),a);return u.errorHandler=H2(e),u}function Z2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function K2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Z2(null,e)),i}function G2(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let x="";for(let R=0;R<2;R++)x=x+Math.random().toString().slice(2);return x}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const d=K2(e,i,r),_=U2(d,n),m="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+h+"--",E=Ui.getBlob(m,i,v);if(E===null)throw l2();const w={name:d.fullPath},T=qg(o,t.host,t._protocol),k="POST",S=t.maxUploadRetryTime,C=new Zx(T,k,z2(t,n),S);return C.urlParams=w,C.headers=a,C.body=E.uploadData(),C.errorHandler=Gx(e),C}class Q2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Yo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class q2 extends Q2{initXhr(){this.xhr_.responseType="text"}}function Qx(){return new q2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this._service=e,n instanceof Wt?this._location=n:this._location=Wt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $r(e,n)}get root(){const e=new Wt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wx(this._location.path)}get storage(){return this._service}get parent(){const e=L2(this._location.path);if(e===null)return null;const n=new Wt(this._location.bucket,e);return new $r(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h2(e)}}function Y2(t,e,n){t._throwIfRoot("uploadBytes");const i=G2(t.storage,t._location,Hx(),new Ui(e,!0),n);return t.storage.makeRequestWithTokens(i,Qx).then(r=>({metadata:r,ref:t}))}function $2(t){t._throwIfRoot("getDownloadURL");const e=V2(t.storage,t._location,Hx());return t.storage.makeRequestWithTokens(e,Qx).then(n=>{if(n===null)throw u2();return n})}function X2(t,e){const n=O2(t._location.path,e),i=new Wt(t._location.bucket,n);return new $r(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){return/^[A-Za-z]+:\/\//.test(t)}function ez(t,e){return new $r(t,e)}function qx(t,e){if(t instanceof Yg){const n=t;if(n._bucket==null)throw a2();const i=new $r(n,n._bucket);return e!=null?qx(i,e):i}else return e!==void 0?X2(t,e):t}function tz(t,e){if(e&&J2(e)){if(t instanceof Yg)return ez(t,e);throw Lp("To use ref(service, url), the first argument must be a Storage instance.")}else return qx(t,e)}function iE(t,e){const n=e==null?void 0:e[Mx];return n==null?null:Wt.makeFromBucketSpec(n,t)}function nz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:MA(r,t.app.options.projectId))}class Yg{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Ox,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=$U,this._requests=new Set,r!=null?this._bucket=Wt.makeFromBucketSpec(r,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wt.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $r(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new d2(Dx());{const a=C2(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const rE="@firebase/storage",sE="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="storage";function $x(t,e,n){return t=Ke(t),Y2(t,e,n)}function Xx(t){return t=Ke(t),$2(t)}function Jx(t,e){return t=Ke(t),tz(t,e)}function eT(t=Fm(),e){t=Ke(t);const i=th(t,Yx).getImmediate({identifier:e}),r=bA("storage");return r&&iz(i,...r),i}function iz(t,e,n,i={}){nz(t,e,n,i)}function rz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Yg(n,i,r,e,ts)}function sz(){Vr(new or(Yx,rz,"PUBLIC").setMultipleInstances(!0)),Fn(rE,sE,""),Fn(rE,sE,"esm2017")}sz();const oz=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(!1),[r,o]=A.useState(""),[a,u]=A.useState(""),[h,d]=A.useState(""),[_,m]=A.useState(""),[v,E]=A.useState(null),{user:w}=A.useContext(Ei)||{};A.useEffect(()=>{if(w){const S=de(),C=ie(S,"users/"+w.uid);pt(C,x=>{const R=x.val();R&&(e(R.profilePicture||""),o(R.name||""),u(R.email||""),d(R["phone-number"]||""))})}},[w]);const T=async S=>{var x;const C=(x=S.target.files)==null?void 0:x[0];if(C&&w){const R=eT(),M=Jx(R,`profilePictures/${w.uid}`);i(!0);try{await $x(M,C);const j=await Xx(M),F=de();await Rc(ie(F,"users/"+w.uid),{profilePicture:j}),e(j)}catch(j){console.error("Error uploading file:",j)}i(!1)}},k=async S=>{if(S.preventDefault(),w){const C=de(),x={};r&&(x["/users/"+w.uid+"/name"]=r),a&&(x["/users/"+w.uid+"/email"]=a),h&&(x["/users/"+w.uid+"/phone-number"]=h);try{if(await Rc(ie(C),x),_){const M=qm().currentUser;M&&await C1(M,_)}E("Your infos are updated successfully!"),setTimeout(()=>E(null),3e3)}catch(R){console.error("Error updating info:",R)}}};return p.jsx("div",{id:"info-section",className:"info-section",children:p.jsxs("div",{className:"info-container",children:[p.jsxs("div",{className:"picture-container",children:[p.jsx("img",{src:t,alt:"Profile",className:"profile-picture"}),p.jsx("label",{htmlFor:"change-picture",className:"change-picture-button",children:n?"Uploading...":"Change Picture"}),p.jsx("input",{type:"file",id:"change-picture",accept:"image/*",onChange:T,style:{display:"none"}})]}),v&&p.jsx("div",{className:"success-message",children:v}),p.jsxs("form",{className:"info-form",onSubmit:k,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Name"}),p.jsx("input",{type:"text",className:"form-control",value:r,onChange:S=>o(S.target.value),placeholder:"Name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Email Id"}),p.jsx("input",{type:"email",className:"form-control",value:a,onChange:S=>u(S.target.value),placeholder:"Email Id"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Phone Number"}),p.jsx("input",{type:"tel",className:"form-control",value:h,onChange:S=>d(S.target.value),placeholder:"Phone Number"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Password"}),p.jsx("input",{type:"password",className:"form-control",value:_,onChange:S=>m(S.target.value),placeholder:"Password"})]}),p.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})]})})},az=()=>{const[t,e]=A.useState([]),[n,i]=A.useState(null),r=A.useContext(Ei);if(!r)return null;const{user:o}=r;A.useEffect(()=>{if(o){const v=de(),E=ie(v,"users/"+o.uid+"/tasks");pt(E,w=>{const T=w.val();if(T){const k=Object.keys(T).map(S=>({key:S,displayKey:T[S].displayKey||t.length+1,...T[S]}));k.sort((S,C)=>S.displayKey-C.displayKey),e(k)}})}},[o]);const a=v=>{const E=[...t],w=E[v].status;let T="TO DO";if(w==="TO DO"?T="IN PROGRESS":w==="IN PROGRESS"&&(T="DONE"),E[v].status=T,e(E),o){const k=de();Ot(ie(k,"users/"+o.uid+"/tasks/"+E[v].key),E[v])}},u=(v,E,w)=>{const T=[...t];if(E==="displayKey"?T[v].displayKey=parseInt(w):T[v][E]=w,T.sort((k,S)=>k.displayKey-S.displayKey),e(T),o){const k=de();Ot(ie(k,"users/"+o.uid+"/tasks/"+T[v].key),T[v])}},h=()=>{if(o){const v=de(),E=Date.now().toString(),w=t.length>0?Math.max(...t.map(k=>k.displayKey))+1:1,T={key:E,displayKey:w,summary:"",status:"TO DO",comment:""};Ot(ie(v,"users/"+o.uid+"/tasks/"+T.key),T),e(k=>[...k,T].sort((S,C)=>S.displayKey-C.displayKey))}},d=v=>{if(o){const E=de(),w=ie(E,"users/"+o.uid+"/tasks/"+v);Rg(w),e(T=>T.filter(k=>k.key!==v))}},_=v=>[...t][v].displayKey.toString().trim()===""?(i("Key cannot be empty."),!1):(i(null),!0),m=v=>{if(!_(v)){const E=[...t];if(E[v].displayKey=t.length>0?Math.max(...t.map(w=>w.displayKey))+1:1,e(E),o){const w=de();Ot(ie(w,"users/"+o.uid+"/tasks/"+E[v].key),E[v])}}};return p.jsxs("div",{id:"profile-tasks",className:"profile-tasks",children:[p.jsx("button",{onClick:h,className:"add-task-button",children:"Add Task"}),n&&p.jsx("div",{className:"error-message",children:n}),p.jsxs("table",{className:"tasks-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"key-header",children:"Key"}),p.jsx("th",{children:"Summary"}),p.jsx("th",{children:"Status"}),p.jsx("th",{className:"comment-header",children:"Comment"}),p.jsx("th",{className:"action-header",children:"Actions"})]})}),p.jsx("tbody",{children:t.map((v,E)=>p.jsxs("tr",{children:[p.jsx("td",{className:"key-cell",children:p.jsxs("div",{className:"key-input-wrapper",children:[p.jsx("span",{className:"key-hash",children:"#"}),p.jsx("input",{type:"number",value:v.displayKey,onChange:w=>u(E,"displayKey",w.target.value),onBlur:()=>m(E),className:"key-input",min:"1"})]})}),p.jsx("td",{className:"summary",children:p.jsx("textarea",{value:v.summary,onChange:w=>u(E,"summary",w.target.value)})}),p.jsx("td",{className:`status ${v.status.toLowerCase().replace(" ","-")}`,onClick:()=>a(E),children:v.status}),p.jsx("td",{className:"comment",children:p.jsx("textarea",{value:v.comment,onChange:w=>u(E,"comment",w.target.value)})}),p.jsx("td",{className:"actions",children:p.jsx("button",{onClick:()=>d(v.key),className:"delete-button",children:"Delete"})})]},v.key))})]})]})},lz=()=>{const[t,e]=A.useState(!0);A.useEffect(()=>{wl()},[]);const n=()=>{e(!t)};return p.jsxs("div",{id:"profile-page",children:[p.jsx(_l,{toggleSidebar:n})," ",p.jsxs("div",{className:"profile-container",children:[p.jsx(BS,{isSidebarOpen:t,toggleSidebar:n})," ",p.jsx("div",{className:`profile-main ${t?"":"collapsed"}`,children:p.jsxs(Xc,{children:[p.jsx(Se,{path:"/",element:p.jsx(Jn,{to:"info"})}),p.jsx(Se,{path:"info",element:p.jsx(oz,{})}),p.jsx(Se,{path:"reminders",element:p.jsx(az,{})})]})})]})]})},uz="/react-mywork/assets/background1-CgvLmYpB.png",cz="/react-mywork/assets/background2-DFIw2XSO.png",hz=()=>{const[t,e]=A.useState([]),n=Sn(),i=de();A.useEffect(()=>{const o=ie(i,"participants");pt(o,a=>{const u=a.val(),h=u?Object.keys(u).map(d=>({id:d,...u[d]})):[];e(h)})},[i]);const r=o=>{n("/tracker/challenge",{state:{profile:o}})};return p.jsxs("div",{id:"profile-selection",children:[p.jsx("h2",{children:"Select Your Profile"}),p.jsx("div",{className:"profile-list",children:t.map(o=>p.jsxs("div",{className:"profile-item",onClick:()=>r(o),children:[p.jsx("img",{src:o.profilePhotoUrl,alt:o.name,className:"profile-photo"}),p.jsx("p",{className:"profile-name",children:o.name})]},o.id))}),p.jsx("button",{onClick:()=>n("/tracker/add-profile"),className:"add-profile",children:"Add Profile"})]})},dz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABfSURBVEiJ7dSxCYAwEEDRhzsouv8IDmAtaqOF48RCBRHsElDMh7T/h+M4Mm+nwoQ+lXxBwBhbXmI+5CvqLP+2nH1LQuTXQRH7p0/cR9TkyD8i12M3pAickQFtqkAmPRs+Jjp48bnfIgAAAABJRU5ErkJggg==",oE=()=>{const t=new Date(new Date().getFullYear(),10,30,23,59,59),e=new Date,n=t.getTime()-e.getTime();let i={days:0,hours:0,minutes:0,seconds:0};return n>0&&(i={days:Math.floor(n/(1e3*60*60*24)),hours:Math.floor(n/(1e3*60*60)%24),minutes:Math.floor(n/(1e3*60)%60),seconds:Math.floor(n/1e3%60)}),i},fz=()=>{const t=_i(),e=Sn(),{profile:n}=t.state,[i,r]=A.useState([]),[o,a]=A.useState(new Date),[u,h]=A.useState(oE()),d=de();A.useEffect(()=>{const v=setInterval(()=>{a(new Date),h(oE())},1e3);return()=>clearInterval(v)},[]),A.useEffect(()=>{const v=ie(d,"participants");pt(v,E=>{const w=E.val(),T=w?Object.keys(w).map(k=>({id:k,...w[k]})):[];r(T)})},[d]);const _=async v=>{const E=ie(d,`participants/${n.id}`);await Rc(E,{status:v})},m=async()=>{const v=ie(d,`participants/${n.id}`),E=i.find(w=>w.id===n.id);if(E&&E.status==="out"){const w=(E.attirdimCount||0)+1;await Rc(v,{attirdimCount:w})}};return p.jsxs("div",{id:"challenge-page",children:[p.jsxs("button",{className:"go-back-button",onClick:()=>e("/tracker/profile-selection"),children:[p.jsx("span",{className:"desktop-label",children:"Go Back"}),p.jsx("button",{className:"mobile-icon",children:p.jsx("img",{src:dz,alt:"back",className:"mobile-icon"})})]}),p.jsxs("h2",{children:["Welcome, ",n.name]}),p.jsx("img",{src:n.profilePhotoUrl,alt:`${n.name}'s Profile`,className:"profile-photo"}),p.jsx("div",{className:"content-wrapper",children:p.jsxs("div",{className:"current-date-time",children:[p.jsxs("p",{children:["Date: ",o.toLocaleDateString()]}),p.jsxs("p",{children:["Time: ",o.toLocaleTimeString()]})]})}),p.jsx("div",{className:"content-wrapper",children:p.jsx("div",{className:"countdown-timer",children:p.jsxs("p",{children:[u.days," days, ",u.hours," hours, ",u.minutes," minutes, ",u.seconds," seconds left until the end of November!"]})})}),p.jsx("div",{className:"content-wrapper",children:p.jsxs("div",{className:"status-selection",children:[p.jsx("button",{onClick:()=>_("in"),children:"Still In"}),p.jsx("button",{onClick:()=>_("out"),children:"Lost"}),p.jsx("button",{onClick:m,children:"Attırdım"})]})}),p.jsx("div",{className:"content-wrapper",children:p.jsxs("div",{className:"participants",children:[p.jsx("h3",{children:"In The Challenge"}),p.jsx("div",{className:"participants-list",children:i.filter(v=>v.status==="in").map(v=>p.jsxs("div",{className:"participant",children:[p.jsx("img",{src:v.profilePhotoUrl,alt:v.name,className:"participant-photo"}),p.jsx("p",{children:v.name}),p.jsx("p",{className:"attirdim-count",children:v.attirdimCount?`Attırdım: ${v.attirdimCount}`:"Attırdım: 0"})]},v.id))}),p.jsx("h3",{children:"Lost The Challenge"}),p.jsx("div",{className:"participants-list",children:i.filter(v=>v.status==="out").map(v=>p.jsxs("div",{className:"participant",children:[p.jsx("img",{src:v.profilePhotoUrl,alt:v.name,className:"participant-photo"}),p.jsx("p",{children:v.name}),p.jsx("p",{className:"attirdim-count",children:v.attirdimCount?`Attırdım: ${v.attirdimCount}`:"Attırdım: 0"})]},v.id))})]})})]})},pz=()=>{const[t,e]=A.useState(""),[n,i]=A.useState(null),[r,o]=A.useState(!1),a=Sn(),u=de(),h=eT(),d=m=>{m.target.files&&i(m.target.files[0])},_=async()=>{if(t&&n){o(!0);try{const m=Jx(h,`profilePhotos/${t}_${n.name}`);await $x(m,n);const v=await Xx(m),E=gl(ie(u,"participants"));await Ot(E,{name:t,profilePhotoUrl:v,status:"in"}),a("/nonutnovember/profile-selection")}catch(m){console.error("Error adding profile:",m)}finally{o(!1)}}};return p.jsxs("div",{id:"add-profile",children:[p.jsx("h2",{children:"Add New Profile"}),p.jsx("input",{type:"text",placeholder:"Name",value:t,onChange:m=>e(m.target.value),className:"input-field"}),p.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"input-field"}),p.jsx("button",{onClick:_,disabled:r,className:"add-profile-btn",children:r?"Uploading...":"Add Profile"})]})},mz=()=>p.jsxs("div",{id:"no-nut-november",children:[p.jsx("h1",{children:"No Nut November Challenge"}),p.jsxs(Xc,{children:[p.jsx(Se,{path:"/",element:p.jsx(Jn,{to:"profile-selection"})})," ",p.jsx(Se,{path:"profile-selection",element:p.jsx(hz,{})}),p.jsx(Se,{path:"challenge",element:p.jsx(fz,{})}),p.jsx(Se,{path:"add-profile",element:p.jsx(pz,{})})]})]}),gz=t=>p.jsx("div",{id:"GameBoard",style:{width:t.width,height:t.height,borderWidth:t.width/50},children:p.jsxs("div",{id:"GameOver",style:{fontSize:t.width/15},children:[p.jsx("div",{id:"GameOverText",children:"GAME OVER"}),p.jsxs("div",{children:["Your score: ",t.score]}),p.jsxs("div",{children:[t.newHighScore?"New local ":"Local ","high score: ",t.highScore]}),p.jsx("div",{id:"PressSpaceText",children:"Press Space to restart"})]})}),_z=({setIsPaused:t})=>p.jsx("div",{id:"paused-modal-container",onClick:()=>t(!1),children:p.jsxs("div",{id:"paused-modal",children:[p.jsx("h2",{children:"Game Paused"}),p.jsx("p",{className:"click-dir",children:"(Click anywhere to continue)"})]})});class vz extends Ut.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:80,timeoutId:setTimeout(()=>{},0),startSnakeSize:0,snake:[],apple:{Xpos:0,Ypos:0},direction:"right",directionChanged:!1,isGameOver:!1,isPaused:!1,snakeColor:this.props.snakeColor||this.getRandomColor(),appleColor:this.props.appleColor||this.getRandomColor(),score:0,highScore:Number(localStorage.getItem("snakeHighScore"))||0,newHighScore:!1}}componentDidMount(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()}componentWillUnmount(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)}initGame(){let e=window.innerWidth<=768?window.innerWidth*.9:window.innerWidth*.4;e=Math.floor(e-e%30);let n=e/3*2;n=Math.floor(n-n%20);const i=e/30,r=n/20,o=this.props.startSnakeSize||6,a=[];let u=e/2;const h=n/2;a.push({Xpos:u,Ypos:h});for(let m=1;m<o;m++)u-=i,a.push({Xpos:u,Ypos:h});let d=Math.floor(Math.random()*((e-i)/i+1))*i,_=Math.floor(Math.random()*((n-r)/r+1))*r;for(;_===a[0].Ypos;)_=Math.floor(Math.random()*((n-r)/r+1))*r;this.setState({width:e,height:n,blockWidth:i,blockHeight:r,startSnakeSize:o,snake:a,apple:{Xpos:d,Ypos:_}})}gameLoop(){const e=setTimeout(()=>{!this.state.isGameOver&&!this.state.isPaused&&(this.moveSnake(),this.tryToEatSnake(),this.tryToEatApple(),this.setState({directionChanged:!1})),this.gameLoop()},this.state.gameLoopTimeout);this.setState({timeoutId:e})}resetGame(){this.initGame(),this.setState({direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:50,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})}getRandomColor(){const e="0123456789ABCDEF";let n="#";for(let i=0;i<6;i++)n+=e[Math.floor(Math.random()*16)];return n}moveSnake(){const{snake:e}=this.state;let n=e[0].Xpos,i=e[0].Ypos,r=n,o=i;this.moveHead();for(let a=1;a<e.length;a++)r=e[a].Xpos,o=e[a].Ypos,e[a].Xpos=n,e[a].Ypos=i,n=r,i=o;this.setState({snake:e})}moveHead(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}}moveHeadLeft(){const{width:e,blockWidth:n,snake:i}=this.state;i[0].Xpos=i[0].Xpos<=0?e-n:i[0].Xpos-n,this.setState({snake:i})}moveHeadUp(){const{height:e,blockHeight:n,snake:i}=this.state;i[0].Ypos=i[0].Ypos<=0?e-n:i[0].Ypos-n,this.setState({snake:i})}moveHeadRight(){const{width:e,blockWidth:n,snake:i}=this.state;i[0].Xpos=i[0].Xpos>=e-n?0:i[0].Xpos+n,this.setState({snake:i})}moveHeadDown(){const{height:e,blockHeight:n,snake:i}=this.state;i[0].Ypos=i[0].Ypos>=e-n?0:i[0].Ypos+n,this.setState({snake:i})}handleKeyDown(e){if(e.key==="Escape"){this.setState(n=>({isPaused:!n.isPaused}));return}if(this.state.isGameOver&&e.keyCode===32){this.resetGame();return}if(!(this.state.directionChanged||this.state.isPaused)){switch(e.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown();break}this.setState({directionChanged:!0})}}goLeft(){this.state.direction!=="right"&&this.setState({direction:"left"})}goUp(){this.state.direction!=="down"&&this.setState({direction:"up"})}goRight(){this.state.direction!=="left"&&this.setState({direction:"right"})}goDown(){this.state.direction!=="up"&&this.setState({direction:"down"})}tryToEatApple(){const{snake:e,apple:n}=this.state;if(e[0].Xpos===n.Xpos&&e[0].Ypos===n.Ypos){const i=this.state.width,r=this.state.height,o=this.state.blockWidth,a=this.state.blockHeight,u={Xpos:n.Xpos,Ypos:n.Ypos};let h=this.state.highScore,d=this.state.newHighScore,_=this.state.gameLoopTimeout;for(e.push(u),n.Xpos=Math.floor(Math.random()*((i-o)/o+1))*o,n.Ypos=Math.floor(Math.random()*((r-a)/a+1))*a;this.isAppleOnSnake(n.Xpos,n.Ypos);)n.Xpos=Math.floor(Math.random()*((i-o)/o+1))*o,n.Ypos=Math.floor(Math.random()*((r-a)/a+1))*a;this.state.score===h&&(h++,localStorage.setItem("snakeHighScore",h.toString()),d=!0),_>25&&(_-=.5),this.setState({snake:e,apple:n,score:this.state.score+1,highScore:h,newHighScore:d,gameLoopTimeout:_})}}isAppleOnSnake(e,n){const i=this.state.snake;for(let r=0;r<i.length;r++)if(e===i[r].Xpos&&n===i[r].Ypos)return!0;return!1}tryToEatSnake(){const{snake:e}=this.state;for(let n=1;n<e.length;n++)e[0].Xpos===e[n].Xpos&&e[0].Ypos===e[n].Ypos&&this.setState({isGameOver:!0})}render(){const e=window.innerWidth<=768,n=e?"Tap the screen to restart!":"Press space to restart!";return this.state.isGameOver?p.jsxs("div",{id:"GameSpace",onClick:e?()=>this.resetGame():void 0,style:{cursor:e?"pointer":"default"},children:[p.jsx(gz,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}),p.jsx("div",{id:"GameOverMessage",style:{fontSize:"1.5rem",color:"#ca0000",fontWeight:"bold",textAlign:"center"},children:n})]}):p.jsxs("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50},children:[this.state.snake.map((i,r)=>p.jsx("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:i.Xpos,top:i.Ypos,background:this.state.snakeColor}},r)),p.jsx("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),p.jsxs("div",{id:"Score",style:{fontSize:this.state.width/20},children:["HIGH-SCORE: ",this.state.highScore,"    SCORE: ",this.state.score,p.jsx("button",{className:"home-button",onClick:()=>window.location.href="/react-mywork",children:"Go to Home"}),e&&p.jsx("button",{className:"pause-button",onClick:()=>this.setState({isPaused:!this.state.isPaused}),children:this.state.isPaused?"Resume Game":"Pause Game"})]}),this.state.isPaused&&p.jsx(_z,{setIsPaused:()=>this.setState({isPaused:!1})}),e&&p.jsxs("div",{className:"direction-buttons",children:[p.jsx("button",{className:"direction-button up",onClick:()=>this.goUp(),children:"↑"}),p.jsxs("div",{className:"horizontal-buttons",children:[p.jsx("button",{className:"direction-button left",onClick:()=>this.goLeft(),children:"←"}),p.jsx("button",{className:"direction-button right",onClick:()=>this.goRight(),children:"→"})]}),p.jsx("button",{className:"direction-button down",onClick:()=>this.goDown(),children:"↓"})]})]})}}const yz=()=>p.jsx(HR,{children:p.jsx(ej,{children:p.jsx(wz,{})})}),wz=()=>{const t=_i(),n=["/register","/login","/reset-password"].includes(t.pathname);return p.jsxs("div",{className:`app ${n?"auth-page":""}`,children:[n&&p.jsxs("div",{className:"left-images",children:[p.jsx("img",{src:cz,alt:"Background 1",className:"background1"}),p.jsx("img",{src:uz,alt:"Background 2",className:"background2"})]}),p.jsx("div",{className:"main-content",children:p.jsxs(Xc,{children:[p.jsx(Se,{path:"/",element:p.jsx(Jn,{to:"/home/news"})})," ",p.jsx(Se,{path:"/register",element:p.jsx(oj,{})}),p.jsx(Se,{path:"/login",element:p.jsx(aj,{})}),p.jsx(Se,{path:"/reset-password",element:p.jsx(lj,{})}),p.jsx(Se,{path:"/contact",element:p.jsx(GU,{})}),p.jsx(Se,{path:"/about",element:p.jsx(QU,{})}),p.jsx(Se,{path:"/admin-about",element:p.jsx(qU,{})}),p.jsx(Se,{path:"/profile/*",element:p.jsx(lz,{})}),p.jsx(Se,{path:"/home/*",element:p.jsx(EU,{})}),p.jsx(Se,{path:"/tracker/*",element:p.jsx(mz,{})}),p.jsx(Se,{path:"/snake-game",element:p.jsx(vz,{})})," "]})})]})};ef.createRoot(document.getElementById("root")).render(p.jsx(Ut.StrictMode,{children:p.jsx(yz,{})}));
